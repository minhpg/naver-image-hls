const a21_0x54b6d8=a21_0x4a02;(function(_0x591bc4,_0x46bcd7){const _0x42bc74=a21_0x4a02,_0x80a883=_0x591bc4();while(!![]){try{const _0x289cf3=parseInt(_0x42bc74(0x11c,'VPgW'))/0x1*(parseInt(_0x42bc74(0x110,'jYeL'))/0x2)+-parseInt(_0x42bc74(0xf5,'VPgW'))/0x3+parseInt(_0x42bc74(0xde,'8Ij9'))/0x4+parseInt(_0x42bc74(0x101,'FZgV'))/0x5*(-parseInt(_0x42bc74(0xdf,'g#Dg'))/0x6)+parseInt(_0x42bc74(0xe2,'U^@m'))/0x7+-parseInt(_0x42bc74(0x111,'m3uO'))/0x8+parseInt(_0x42bc74(0x115,'q]vD'))/0x9;if(_0x289cf3===_0x46bcd7)break;else _0x80a883['push'](_0x80a883['shift']());}catch(_0x5a9a56){_0x80a883['push'](_0x80a883['shift']());}}}(a21_0x1223,0x5151f));function a21_0x1223(){const _0x52b4fc=['W7ZcGZZdImkfW5ddPG','A0ZdOIqD','rSoHBJG','t2JdV0HilSkbpq','kfyhWP7dTSkpnITlCG','W5ldHd3cNmo3WQq','W7iumCk/','hKRcOem','of9TDc3cUJJdPa','wcyYWOWJea','uCoWWPa2W50CD8od','a8o2BJJdMa','lSoKW5RcLSoZ','W5VdHmoGmW','W6VdV8oeW7RcLNzXmSkyWPC','WRtdNCoN','gtGNpa','dMtcTSoZBCoUW6hdH0axxmoF','hCkKmshdSutdVd/cSW','W73cK8ofWQ9LzIHzgwnEA8oK','CNHZxa','W5DkW5/cGCk8WODLvHyq','FCobyCoRi3JdLG','WQnzzSoOBSk4lH7cK8o1qCktmG','W6hdSw0','gJ8T','lLCDWP4','CmkBWOZcKmo5W6O7tmo5','BrnVWOldQSojoq','kv5kCW','zK8NrGpcG8onnSo1WPu','jKnrBG','nHldJ8kNzG','WPBdOmodW6hcKge','xmkgzxn2WPTbWRGOuG','xdZdT8kRlCkyW73dNu0r','DSonFmo8','WPBdSmoJgYi','h8knbcOCW5VcKSkyqaXWAq','cCkWBwNdVSkNmYuNW5ZcMgi','nZPAlem','v8koW4S','ovOVW5/cQ8kpFZ8YWRZdVSkcxW','emkkFhHJWQ0dWR4Vtq','W47dQdFcImos','umksWO5HWR0','WRtcKce','fc7dVuK','W5RdVCoLfYxcJ8kKWOSErmo5gCo/','dmoJWOfHW5S','W4WiosVdPG','odXck0pcLfFdMCkUW40','gdq9','W4ldKSoJomkbna','WQzDzmoUBSk+lGpcSCoRrSk/pa','W4tdMttcMG','yKKJr2pdUCogfSoNWOGJW6G','W7xdU2VdVG','WPJdUNKobtHYWPFdJam','jmkdWOib','pSkkpCo1lxVdLG/cISog','y0GNsMRdTCorimoXWR8IW6e','vSkfW7JdKg4','yHHWWOm','tmoOcIVcUmo8lJS','kZhdP2tcIa','vCkfW4VcNG','pszPWPK','WOWhWPVdISo0W5O','amkkE2i'];a21_0x1223=function(){return _0x52b4fc;};return a21_0x1223();}function a21_0x4a02(_0x2e31f3,_0x2bd944){const _0x48a9e7=a21_0x1223();return a21_0x4a02=function(_0x4607d5,_0x630f8){_0x4607d5=_0x4607d5-0xd9;let _0x1223df=_0x48a9e7[_0x4607d5];if(a21_0x4a02['XZgZBW']===undefined){var _0x4a027e=function(_0x503582){const _0x4e164e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1ca621='',_0x107614='',_0x55359a=_0x1ca621+_0x4a027e;for(let _0x142a38=0x0,_0x30f647,_0xc3a424,_0x272e68=0x0;_0xc3a424=_0x503582['charAt'](_0x272e68++);~_0xc3a424&&(_0x30f647=_0x142a38%0x4?_0x30f647*0x40+_0xc3a424:_0xc3a424,_0x142a38++%0x4)?_0x1ca621+=_0x55359a['charCodeAt'](_0x272e68+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x30f647>>(-0x2*_0x142a38&0x6)):_0x142a38:0x0){_0xc3a424=_0x4e164e['indexOf'](_0xc3a424);}for(let _0x5bd269=0x0,_0x4ebac0=_0x1ca621['length'];_0x5bd269<_0x4ebac0;_0x5bd269++){_0x107614+='%'+('00'+_0x1ca621['charCodeAt'](_0x5bd269)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x107614);};const _0x17aa8f=function(_0x5a4649,_0x1d0268){let _0x112d72=[],_0x4f2fd1=0x0,_0x31cc85,_0x99a564='';_0x5a4649=_0x4a027e(_0x5a4649);let _0x201d8d;for(_0x201d8d=0x0;_0x201d8d<0x100;_0x201d8d++){_0x112d72[_0x201d8d]=_0x201d8d;}for(_0x201d8d=0x0;_0x201d8d<0x100;_0x201d8d++){_0x4f2fd1=(_0x4f2fd1+_0x112d72[_0x201d8d]+_0x1d0268['charCodeAt'](_0x201d8d%_0x1d0268['length']))%0x100,_0x31cc85=_0x112d72[_0x201d8d],_0x112d72[_0x201d8d]=_0x112d72[_0x4f2fd1],_0x112d72[_0x4f2fd1]=_0x31cc85;}_0x201d8d=0x0,_0x4f2fd1=0x0;for(let _0x168c9e=0x0;_0x168c9e<_0x5a4649['length'];_0x168c9e++){_0x201d8d=(_0x201d8d+0x1)%0x100,_0x4f2fd1=(_0x4f2fd1+_0x112d72[_0x201d8d])%0x100,_0x31cc85=_0x112d72[_0x201d8d],_0x112d72[_0x201d8d]=_0x112d72[_0x4f2fd1],_0x112d72[_0x4f2fd1]=_0x31cc85,_0x99a564+=String['fromCharCode'](_0x5a4649['charCodeAt'](_0x168c9e)^_0x112d72[(_0x112d72[_0x201d8d]+_0x112d72[_0x4f2fd1])%0x100]);}return _0x99a564;};a21_0x4a02['FLnHxj']=_0x17aa8f,_0x2e31f3=arguments,a21_0x4a02['XZgZBW']=!![];}const _0x3ebbab=_0x48a9e7[0x0],_0x5b7d27=_0x4607d5+_0x3ebbab,_0x177ed1=_0x2e31f3[_0x5b7d27];if(!_0x177ed1){if(a21_0x4a02['SNAIQP']===undefined){const _0x4bc4ea=function(_0x148c9c){this['zgjHBk']=_0x148c9c,this['CYFdhv']=[0x1,0x0,0x0],this['rItCib']=function(){return'newState';},this['NhogwR']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['HvPQok']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4bc4ea['prototype']['MkzjTD']=function(){const _0x28c4cf=new RegExp(this['NhogwR']+this['HvPQok']),_0x1cee19=_0x28c4cf['test'](this['rItCib']['toString']())?--this['CYFdhv'][0x1]:--this['CYFdhv'][0x0];return this['KUcylf'](_0x1cee19);},_0x4bc4ea['prototype']['KUcylf']=function(_0x52541e){if(!Boolean(~_0x52541e))return _0x52541e;return this['qsYQMY'](this['zgjHBk']);},_0x4bc4ea['prototype']['qsYQMY']=function(_0x7281f6){for(let _0x5a4846=0x0,_0x199296=this['CYFdhv']['length'];_0x5a4846<_0x199296;_0x5a4846++){this['CYFdhv']['push'](Math['round'](Math['random']())),_0x199296=this['CYFdhv']['length'];}return _0x7281f6(this['CYFdhv'][0x0]);},new _0x4bc4ea(a21_0x4a02)['MkzjTD'](),a21_0x4a02['SNAIQP']=!![];}_0x1223df=a21_0x4a02['FLnHxj'](_0x1223df,_0x630f8),_0x2e31f3[_0x5b7d27]=_0x1223df;}else _0x1223df=_0x177ed1;return _0x1223df;},a21_0x4a02(_0x2e31f3,_0x2bd944);}const a21_0x630f8=function(){let _0x4ed271=!![];return function(_0x2fc185,_0x230afa){const _0x3801e0=_0x4ed271?function(){const _0x34c12e=a21_0x4a02;if(_0x230afa){if(_0x34c12e(0xf6,'@zAI')===_0x34c12e(0xdd,'SZup'))_0x13b70d['json']({'status':'failed','message':_0x58d1d9[_0x34c12e(0x114,'OISI')]});else{const _0x120a00=_0x230afa['apply'](_0x2fc185,arguments);return _0x230afa=null,_0x120a00;}}}:function(){};return _0x4ed271=![],_0x3801e0;};}(),a21_0x4607d5=a21_0x630f8(this,function(){const _0x35e1a1=a21_0x4a02;return a21_0x4607d5[_0x35e1a1(0x106,'EROt')]()[_0x35e1a1(0x107,'sfIQ')]('(((.+)+)+)'+'+$')[_0x35e1a1(0xf8,'g#Dg')]()[_0x35e1a1(0x102,'Vt1S')+'r'](a21_0x4607d5)['search'](_0x35e1a1(0x113,'uWqw')+'+$');});a21_0x4607d5();const videoSchema=require(a21_0x54b6d8(0xf4,'OISI')+a21_0x54b6d8(0xe5,'l9H2')),express=require('express'),router=express[a21_0x54b6d8(0xd9,'mG0W')](),levelClient=require('../level');router[a21_0x54b6d8(0xec,'zSuB')]('/clear-cac'+'he',async(_0x56f2e4,_0x46df44)=>{const _0x487c18=a21_0x54b6d8;try{await levelClient[_0x487c18(0xea,'FS68')](),_0x46df44['json']({'status':'ok'});}catch(_0x1eb8a4){if(_0x487c18(0x10a,'0lym')===_0x487c18(0xe4,'MROD'))_0x46df44['json']({'status':_0x487c18(0xe9,'TfQW'),'message':_0x1eb8a4['message']});else{const _0x10d4c2=_0x272e68?function(){const _0x2084cd=_0x487c18;if(_0x4f2fd1){const _0x3d967e=_0x168c9e[_0x2084cd(0x11e,'$oSN')](_0x4bc4ea,arguments);return _0x148c9c=null,_0x3d967e;}}:function(){};return _0x112d72=![],_0x10d4c2;}}_0x46df44[_0x487c18(0x117,'zSuB')]();}),router[a21_0x54b6d8(0xe1,'pAO4')](a21_0x54b6d8(0xfe,'vBDJ'),async(_0xc60171,_0x2ca540)=>{const _0x5bcea9=a21_0x54b6d8,_0x580543=await videoSchema[_0x5bcea9(0xe3,'656Y')+_0x5bcea9(0x11b,'EROt')]({'processing':![],'error':![]})['exec'](),_0x53d572=await videoSchema[_0x5bcea9(0xeb,'zH8g')+_0x5bcea9(0xfa,'pAO4')]({'processing':!![]})[_0x5bcea9(0x112,'#HTw')](),_0x1467af=await videoSchema[_0x5bcea9(0xdb,'Isjf')+_0x5bcea9(0x118,'Vt1S')]({'error':!![]})['exec']();_0x2ca540[_0x5bcea9(0x11d,'EROt')]({'done':_0x580543,'processing':_0x53d572,'errors':_0x1467af});return;}),router['get']('/errors',async(_0x292b62,_0x5048ec)=>{const _0x34cddf=a21_0x54b6d8,_0x274fbb=await videoSchema[_0x34cddf(0xdc,'OISI')]({'error':!![]})[_0x34cddf(0xed,'4Lzf')]({'_id':0x0,'error_message':0x1,'drive_id':0x1})[_0x34cddf(0xf1,'5iV#')]({'_id':-0x1})[_0x34cddf(0x104,'q]vD')]();_0x5048ec[_0x34cddf(0xf7,'U^@m')](_0x274fbb);return;}),router[a21_0x54b6d8(0x116,'5iV#')](a21_0x54b6d8(0x109,'jYeL'),async(_0x21894f,_0x4391fd)=>{const _0x11a066=a21_0x54b6d8,_0x5c5646=await videoSchema[_0x11a066(0x10e,'zSuB')]({'files.0':{'$exists':!![]}})[_0x11a066(0xfc,'uWqw')]({'_id':0x0,'title':0x1,'drive_id':0x1})['sort']({'_id':-0x1})[_0x11a066(0xe0,'zH8g')](0x64)[_0x11a066(0xfb,'$7bu')]();_0x4391fd[_0x11a066(0x100,'jYeL')](_0x5c5646);return;}),router[a21_0x54b6d8(0x10d,'SZup')](a21_0x54b6d8(0x10c,'mG0W')+'g',async(_0x504897,_0x4cffc1)=>{const _0x5a2f41=a21_0x54b6d8,_0x12377f=await videoSchema['find']({'processing':!![]})[_0x5a2f41(0x103,'MROD')]({'_id':0x0,'drive_id':0x1})[_0x5a2f41(0xfd,'656Y')]({'_id':-0x1})[_0x5a2f41(0xef,'MROD')]();_0x4cffc1[_0x5a2f41(0x105,'7td*')](_0x12377f);return;}),router[a21_0x54b6d8(0xe6,'vBDJ')](a21_0x54b6d8(0xda,'656Y')+'ors',async(_0x1d6ea7,_0x2f64ea)=>{const _0x10b6cf=a21_0x54b6d8;try{if(_0x10b6cf(0xff,'dDC7')===_0x10b6cf(0xf9,'xYAm')){const _0x450263=await videoSchema['deleteMany']({'error':!![]})[_0x10b6cf(0xf3,'xXTh')]();_0x2f64ea[_0x10b6cf(0xe7,'FZgV')]({'status':'ok'});}else{if(_0x28054f){const _0x3d476d=_0x1d1aba['apply'](_0x4b9950,arguments);return _0x2a5aa0=null,_0x3d476d;}}}catch(_0x1d7377){_0x2f64ea[_0x10b6cf(0x10b,'4Lzf')]({'status':'failed','message':_0x1d7377['message']});}return;}),module[a21_0x54b6d8(0x11a,'U^@m')]=router;