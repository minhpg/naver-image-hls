const a21_0x4b9a3d=a21_0x5e63;function a21_0x1d45(){const _0x4bbefe=['WPPbW7X6ic0','sSk6W6JdTmo3W7f6WQVcLZy','W4bTWOTPD8kOFmobg8kQhGhcQG','WPJdT8o5ou7cLSkbW6i1hG','W4FcUSkLWQ/cNatcHCojWQmBxCovua','ztZdOCoMaN0lW7XquXVcLa','W7pdMCk+WOZcHa','W6yVjg5Sm8k8yW','WRb6ba','bahdGCot','WRRdKtRcHmkQqa','WQBdRCkeW5tdGaLGFW','WPLyW7b1','W6GKW5JdKG','pxZcT8k9','W6RcNCkADa','W4ddMCo6W5hdP2ddIa','aaNdLmoCW7y','hKv9ECkJmGpdMCoMWRRdNG','W44oW64','uK/cLSkgWRXfWRGyWQtcK0e','W7HPgurkkmkz','uCoSWQvcW7jJeMhcUmoq','awWwW6RdHa','DCoDzKKjWQusW4FcO8oM','WRKHWRtcLa','evT0dW','oYpcKKi','WOtdLYlcMCk7','nColWRzcqhBcSCk7zSkTW7FcSq','zSknWOCmW6tdJIVcRSo1W7i','W4tdOSoQje7cMW','gCoFeCkJrmo2W7Lu','DmkcW5WWW6CzsSoDWRWK','W4tdUWldUWq','xmoSC8oeWQxcUa','WRtdQ8k5W4q','Cg4NqM0GWReyW7Cgtq','h28EW4ZdJa','W6zvW4KVsCkVW5hcVhRcLepdTW','CmkiW50','E8ojaCoQW5v8BmoyWPTRbM/cPa','WRO8W41UmxX7W4FdGsapFa','b8oQWQxcUq','W4WtW7/cPW','fK1OeL7cGt8','WO/dN3BdIGBdO8oimmkuW6SwW7W','WRpdMMKp','W6X+W6JdHIFdMCoaW7LvWOdcIG','jSovWPHSWQjTeCo/WQGVesxdTa','W5BdTSkmF19q','WO7dLYhcLa','W4bRWO1RDCkPb8o9fCk4mYO','sXCpo8oB','WQe9WPOXFq7dGG','WOuYW64PmCo0j8oC','eHZdImovW6XC','eHBdLSoe','W4LSW54fg8oLbSoC','W68Ue3H3p8kLxq','gSovyam'];a21_0x1d45=function(){return _0x4bbefe;};return a21_0x1d45();}(function(_0x411d3d,_0x53315e){const _0x531ae2=a21_0x5e63,_0x209bfe=_0x411d3d();while(!![]){try{const _0x355ae7=-parseInt(_0x531ae2(0xf9,'gxUx'))/0x1*(-parseInt(_0x531ae2(0x116,'1hnM'))/0x2)+-parseInt(_0x531ae2(0x10b,'9(jj'))/0x3+parseInt(_0x531ae2(0xe6,'51ec'))/0x4*(parseInt(_0x531ae2(0x10d,'n5Zc'))/0x5)+-parseInt(_0x531ae2(0xdb,'eTy4'))/0x6+parseInt(_0x531ae2(0x108,'SJia'))/0x7+parseInt(_0x531ae2(0xfa,'7h(9'))/0x8+-parseInt(_0x531ae2(0x103,'SJia'))/0x9*(parseInt(_0x531ae2(0xf0,'VfD@'))/0xa);if(_0x355ae7===_0x53315e)break;else _0x209bfe['push'](_0x209bfe['shift']());}catch(_0x5e86f8){_0x209bfe['push'](_0x209bfe['shift']());}}}(a21_0x1d45,0x20b86));const a21_0x5dd9b9=function(){let _0x4a540c=!![];return function(_0x2686df,_0x4f0cb6){const _0x3459b0=_0x4a540c?function(){const _0x15c126=a21_0x5e63;if(_0x15c126(0xfe,'eTy4')!==_0x15c126(0x10c,'1C#[')){if(_0x4f0cb6){const _0x45247c=_0x4f0cb6[_0x15c126(0xda,'LEJx')](_0x2686df,arguments);return _0x4f0cb6=null,_0x45247c;}}else _0x512992['json']({'status':_0x15c126(0x106,'q5T9'),'message':_0x1c9187[_0x15c126(0xf6,'OZVJ')]});}:function(){};return _0x4a540c=![],_0x3459b0;};}(),a21_0xdad400=a21_0x5dd9b9(this,function(){const _0x1cd1f6=a21_0x5e63;return a21_0xdad400[_0x1cd1f6(0x100,'SJia')]()[_0x1cd1f6(0xe8,')nVg')](_0x1cd1f6(0x107,'][vA')+'+$')[_0x1cd1f6(0x111,'AyJn')]()[_0x1cd1f6(0xe1,']Chv')+'r'](a21_0xdad400)['search']('(((.+)+)+)'+'+$');});a21_0xdad400();function a21_0x5e63(_0x26957d,_0x2062d3){const _0x235213=a21_0x1d45();return a21_0x5e63=function(_0xdad400,_0x5dd9b9){_0xdad400=_0xdad400-0xda;let _0x1d451a=_0x235213[_0xdad400];if(a21_0x5e63['rBRYHc']===undefined){var _0x5e632d=function(_0x2f4389){const _0x232a28='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x516ad5='',_0x23692b='',_0xf23994=_0x516ad5+_0x5e632d;for(let _0x362252=0x0,_0x436464,_0x251c17,_0x36162d=0x0;_0x251c17=_0x2f4389['charAt'](_0x36162d++);~_0x251c17&&(_0x436464=_0x362252%0x4?_0x436464*0x40+_0x251c17:_0x251c17,_0x362252++%0x4)?_0x516ad5+=_0xf23994['charCodeAt'](_0x36162d+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x436464>>(-0x2*_0x362252&0x6)):_0x362252:0x0){_0x251c17=_0x232a28['indexOf'](_0x251c17);}for(let _0x3e87cf=0x0,_0x2c7063=_0x516ad5['length'];_0x3e87cf<_0x2c7063;_0x3e87cf++){_0x23692b+='%'+('00'+_0x516ad5['charCodeAt'](_0x3e87cf)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x23692b);};const _0x38980b=function(_0x2ca3c2,_0x41a533){let _0x1fd995=[],_0x228a65=0x0,_0x13c154,_0x42d7eb='';_0x2ca3c2=_0x5e632d(_0x2ca3c2);let _0x271ec1;for(_0x271ec1=0x0;_0x271ec1<0x100;_0x271ec1++){_0x1fd995[_0x271ec1]=_0x271ec1;}for(_0x271ec1=0x0;_0x271ec1<0x100;_0x271ec1++){_0x228a65=(_0x228a65+_0x1fd995[_0x271ec1]+_0x41a533['charCodeAt'](_0x271ec1%_0x41a533['length']))%0x100,_0x13c154=_0x1fd995[_0x271ec1],_0x1fd995[_0x271ec1]=_0x1fd995[_0x228a65],_0x1fd995[_0x228a65]=_0x13c154;}_0x271ec1=0x0,_0x228a65=0x0;for(let _0x31f3d0=0x0;_0x31f3d0<_0x2ca3c2['length'];_0x31f3d0++){_0x271ec1=(_0x271ec1+0x1)%0x100,_0x228a65=(_0x228a65+_0x1fd995[_0x271ec1])%0x100,_0x13c154=_0x1fd995[_0x271ec1],_0x1fd995[_0x271ec1]=_0x1fd995[_0x228a65],_0x1fd995[_0x228a65]=_0x13c154,_0x42d7eb+=String['fromCharCode'](_0x2ca3c2['charCodeAt'](_0x31f3d0)^_0x1fd995[(_0x1fd995[_0x271ec1]+_0x1fd995[_0x228a65])%0x100]);}return _0x42d7eb;};a21_0x5e63['feAqZf']=_0x38980b,_0x26957d=arguments,a21_0x5e63['rBRYHc']=!![];}const _0x195a92=_0x235213[0x0],_0x361a73=_0xdad400+_0x195a92,_0x3ced7c=_0x26957d[_0x361a73];if(!_0x3ced7c){if(a21_0x5e63['nqqpfI']===undefined){const _0x3d8854=function(_0x2eab43){this['ScxiZY']=_0x2eab43,this['VDGjcI']=[0x1,0x0,0x0],this['YiCShg']=function(){return'newState';},this['YllwYx']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['zvUIEL']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3d8854['prototype']['sJhaGd']=function(){const _0x453b38=new RegExp(this['YllwYx']+this['zvUIEL']),_0x5547e3=_0x453b38['test'](this['YiCShg']['toString']())?--this['VDGjcI'][0x1]:--this['VDGjcI'][0x0];return this['hFCyDq'](_0x5547e3);},_0x3d8854['prototype']['hFCyDq']=function(_0x389d16){if(!Boolean(~_0x389d16))return _0x389d16;return this['FHLbSW'](this['ScxiZY']);},_0x3d8854['prototype']['FHLbSW']=function(_0x2bbcc5){for(let _0x55405b=0x0,_0x1ef1bf=this['VDGjcI']['length'];_0x55405b<_0x1ef1bf;_0x55405b++){this['VDGjcI']['push'](Math['round'](Math['random']())),_0x1ef1bf=this['VDGjcI']['length'];}return _0x2bbcc5(this['VDGjcI'][0x0]);},new _0x3d8854(a21_0x5e63)['sJhaGd'](),a21_0x5e63['nqqpfI']=!![];}_0x1d451a=a21_0x5e63['feAqZf'](_0x1d451a,_0x5dd9b9),_0x26957d[_0x361a73]=_0x1d451a;}else _0x1d451a=_0x3ced7c;return _0x1d451a;},a21_0x5e63(_0x26957d,_0x2062d3);}const videoSchema=require(a21_0x4b9a3d(0xe7,'Nr6C')+a21_0x4b9a3d(0xef,'QX!t')),express=require('express'),router=express[a21_0x4b9a3d(0x110,'%2Pi')]();router[a21_0x4b9a3d(0x10e,'n5Zc')](a21_0x4b9a3d(0xde,'n5Zc'),async(_0x190d0a,_0x4b64ca)=>{const _0x5e68d6=a21_0x4b9a3d,_0x48503f=await videoSchema[_0x5e68d6(0xdf,'nzEU')+_0x5e68d6(0x113,'tk0Q')]({'processing':![],'error':![]})[_0x5e68d6(0xf5,'ANy(')](),_0x3e5e32=await videoSchema['countDocum'+'ents']({'processing':!![]})[_0x5e68d6(0x112,'q5T9')](),_0x4a0858=await videoSchema[_0x5e68d6(0xea,'7h(9')+'ents']({'error':!![]})['exec']();_0x4b64ca[_0x5e68d6(0xf8,'eXbt')]({'done':_0x48503f,'processing':_0x3e5e32,'errors':_0x4a0858});return;}),router['get']('/errors',async(_0x121b98,_0x48871e)=>{const _0x59cc27=a21_0x4b9a3d,_0x17f05b=await videoSchema[_0x59cc27(0xe2,'gxUx')]({'error':!![]})[_0x59cc27(0xec,'XXQ6')]({'_id':0x0,'error_message':0x1,'drive_id':0x1})[_0x59cc27(0x102,'LEJx')]({'_id':-0x1})[_0x59cc27(0x10f,'LEJx')]();_0x48871e[_0x59cc27(0xe3,'OZVJ')](_0x17f05b);return;}),router[a21_0x4b9a3d(0x10e,'n5Zc')]('/done',async(_0x2bc892,_0x220415)=>{const _0x46572d=a21_0x4b9a3d,_0x4ac402=await videoSchema[_0x46572d(0xfc,'%2Pi')]({'files.0':{'$exists':!![]}})[_0x46572d(0x101,'LEJx')]({'_id':0x0,'title':0x1,'drive_id':0x1})['sort']({'_id':-0x1})[_0x46572d(0xe5,'%2Pi')](0x64)['exec']();_0x220415[_0x46572d(0x105,'CTWi')](_0x4ac402);return;}),router[a21_0x4b9a3d(0xf1,'7h(9')](a21_0x4b9a3d(0x109,')nVg')+'g',async(_0x209009,_0x3f3ab7)=>{const _0x2fbeb4=a21_0x4b9a3d,_0x3f362a=await videoSchema[_0x2fbeb4(0xed,'AyJn')]({'processing':!![]})['select']({'_id':0x0,'drive_id':0x1})[_0x2fbeb4(0xe4,'9(z2')]({'_id':-0x1})[_0x2fbeb4(0xf5,'ANy(')]();_0x3f3ab7[_0x2fbeb4(0x114,'9(jj')](_0x3f362a);return;}),router[a21_0x4b9a3d(0xdc,'ANy(')]('/clear-err'+'ors',async(_0x5c0467,_0x1e3707)=>{const _0x4d9b48=a21_0x4b9a3d;try{if(_0x4d9b48(0xeb,'#fo]')===_0x4d9b48(0xe0,'QX!t')){const _0xa95a07=_0x56dad1['apply'](_0x292dc9,arguments);return _0x400389=null,_0xa95a07;}else{const _0xd17cb=await videoSchema['deleteMany']({'error':!![]})[_0x4d9b48(0xf4,'][vA')]();_0x1e3707['json']({'status':'ok'});}}catch(_0x149745){_0x1e3707[_0x4d9b48(0x115,'II1E')]({'status':_0x4d9b48(0xfb,')XE1'),'message':_0x149745['message']});}return;}),module['exports']=router;