const a20_0x475df4=a20_0x2145;(function(_0x54bec9,_0x26c59e){const _0x3aa7f5=a20_0x2145,_0x3ffc9b=_0x54bec9();while(!![]){try{const _0x153476=-parseInt(_0x3aa7f5(0xd0,'H!lB'))/0x1*(parseInt(_0x3aa7f5(0xdf,'gpxA'))/0x2)+parseInt(_0x3aa7f5(0xf3,'2Ahd'))/0x3+-parseInt(_0x3aa7f5(0xcb,'CObW'))/0x4+parseInt(_0x3aa7f5(0xf0,'2Ahd'))/0x5+parseInt(_0x3aa7f5(0xc1,'1C$A'))/0x6*(-parseInt(_0x3aa7f5(0xc6,'1C$A'))/0x7)+parseInt(_0x3aa7f5(0xd5,'ccPV'))/0x8*(parseInt(_0x3aa7f5(0xe1,'DA3l'))/0x9)+parseInt(_0x3aa7f5(0xc7,'^r*7'))/0xa;if(_0x153476===_0x26c59e)break;else _0x3ffc9b['push'](_0x3ffc9b['shift']());}catch(_0x55851d){_0x3ffc9b['push'](_0x3ffc9b['shift']());}}}(a20_0x1c9f,0xa982c));function a20_0x1c9f(){const _0x29040b=['aWm0bhS','cCojwmoH','hCkHzglcKcSb','lSkSW6Oh','iCkNW6ak','bSoGpdddJhjeWRdcNWRcGZGn','yGmNW6ZdVKi','WOtcUSkuDG','peNdVq','W5DwtG','bCkMzuhcStWK','WPVcN8o+WRy8FqJdPmoJW6y3W6lcJSkK','v8oCWPbXWPdcTefYAq7dVsJdKWG','bHlcSNK','W7BcGWNdHG','dqyyodbXWR3dINicd8kkqG','c1TGW4ji','WOHYCcDsW6Tb','kmolW5hdGCocucJdThmyEGq','oSkGkdO','k8kYWPBcP1TQWOZdV8ocjXNdOa','De/dPCkGs0ldOCkGWQSZ','DG1IW47cJq0ex8kmW5O','frxcOM92','DsKjtCkffCkhe8oVWP4','WPhdOSotW5NcImoxeYhcQq','ExTCea','W5NcQtmD','W4/cQCkmW4q','WRNdJCoGWQDM','fXpcLx5RW5C9W68','W51wsr9+W4bg','cCoXea','CbPYW4m','W5BcQ8o3qa','x3BcK8koWOafW50','WRtdHCkavCopW6/dL8oz','AJeFfSoEqmkelCovW6biW4u','b8klamkvW4X4Ffe0xq','fCkkW48TW4ddSq','mmosWPVdIa','avTKWQ7cOGKbW4JcJ3hcSMy','vCodwmoNWOHrDq','mv/dPSkR','W7tcRmkMWRa','W43dICk5','jCoSFHW','x8kYFNxcLcmx','mmkQpG','WQddOSo6W6xdRSk8CmouuCo7WQBcMG','fdTfySkmW43dO3ZdTHJdJN/cOW','qWKZW6RdUfG','sfVdQWpdNSozg0G0W6ldO2TQ','D3qK','nCkRiJC','sfhdQGNdMSoCsx0PW7pdKgS','W5NcRSkIymoU','CCo2yJuDExvf','BmkDvWjkW58PWPrUW6G','n3rCW5v1WO84bLhcSq','DbjNW4ZcGa'];a20_0x1c9f=function(){return _0x29040b;};return a20_0x1c9f();}const a20_0xb2b89=function(){let _0xfcb458=!![];return function(_0x1059c9,_0x8b174f){const _0xe934bf=_0xfcb458?function(){const _0x2320fe=a20_0x2145;if(_0x8b174f){const _0x5121db=_0x8b174f[_0x2320fe(0xf8,'x)1N')](_0x1059c9,arguments);return _0x8b174f=null,_0x5121db;}}:function(){};return _0xfcb458=![],_0xe934bf;};}(),a20_0x3b4aaf=a20_0xb2b89(this,function(){const _0x25f2c1=a20_0x2145;return a20_0x3b4aaf[_0x25f2c1(0xda,')g!l')]()['search'](_0x25f2c1(0xf7,'hhsM')+'+$')[_0x25f2c1(0xe0,'SAD8')]()['constructo'+'r'](a20_0x3b4aaf)[_0x25f2c1(0xef,'3Si&')]('(((.+)+)+)'+'+$');});a20_0x3b4aaf();const videoSchema=require(a20_0x475df4(0xd4,'DA3l')+a20_0x475df4(0xd3,')g!l')),express=require('express'),router=express[a20_0x475df4(0xc2,'3Si&')](),levelClient=require(a20_0x475df4(0xf5,'9)t2'));function a20_0x2145(_0x5e3ad8,_0xd36261){const _0x237443=a20_0x1c9f();return a20_0x2145=function(_0x3b4aaf,_0xb2b89){_0x3b4aaf=_0x3b4aaf-0xbc;let _0x1c9fce=_0x237443[_0x3b4aaf];if(a20_0x2145['ZwyEBa']===undefined){var _0x21455c=function(_0x5818cd){const _0x3345bd='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x51a973='',_0x3e1eea='',_0x209387=_0x51a973+_0x21455c;for(let _0x52316a=0x0,_0x211c75,_0x47e4d7,_0x3f8f3b=0x0;_0x47e4d7=_0x5818cd['charAt'](_0x3f8f3b++);~_0x47e4d7&&(_0x211c75=_0x52316a%0x4?_0x211c75*0x40+_0x47e4d7:_0x47e4d7,_0x52316a++%0x4)?_0x51a973+=_0x209387['charCodeAt'](_0x3f8f3b+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x211c75>>(-0x2*_0x52316a&0x6)):_0x52316a:0x0){_0x47e4d7=_0x3345bd['indexOf'](_0x47e4d7);}for(let _0x369afd=0x0,_0x3eb776=_0x51a973['length'];_0x369afd<_0x3eb776;_0x369afd++){_0x3e1eea+='%'+('00'+_0x51a973['charCodeAt'](_0x369afd)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3e1eea);};const _0x9aa0c3=function(_0x61c117,_0x4d0b3b){let _0x3da001=[],_0x5d18c0=0x0,_0x371623,_0x537062='';_0x61c117=_0x21455c(_0x61c117);let _0xb8bf73;for(_0xb8bf73=0x0;_0xb8bf73<0x100;_0xb8bf73++){_0x3da001[_0xb8bf73]=_0xb8bf73;}for(_0xb8bf73=0x0;_0xb8bf73<0x100;_0xb8bf73++){_0x5d18c0=(_0x5d18c0+_0x3da001[_0xb8bf73]+_0x4d0b3b['charCodeAt'](_0xb8bf73%_0x4d0b3b['length']))%0x100,_0x371623=_0x3da001[_0xb8bf73],_0x3da001[_0xb8bf73]=_0x3da001[_0x5d18c0],_0x3da001[_0x5d18c0]=_0x371623;}_0xb8bf73=0x0,_0x5d18c0=0x0;for(let _0x2ef780=0x0;_0x2ef780<_0x61c117['length'];_0x2ef780++){_0xb8bf73=(_0xb8bf73+0x1)%0x100,_0x5d18c0=(_0x5d18c0+_0x3da001[_0xb8bf73])%0x100,_0x371623=_0x3da001[_0xb8bf73],_0x3da001[_0xb8bf73]=_0x3da001[_0x5d18c0],_0x3da001[_0x5d18c0]=_0x371623,_0x537062+=String['fromCharCode'](_0x61c117['charCodeAt'](_0x2ef780)^_0x3da001[(_0x3da001[_0xb8bf73]+_0x3da001[_0x5d18c0])%0x100]);}return _0x537062;};a20_0x2145['OBHFWU']=_0x9aa0c3,_0x5e3ad8=arguments,a20_0x2145['ZwyEBa']=!![];}const _0x224c6a=_0x237443[0x0],_0x4dd01f=_0x3b4aaf+_0x224c6a,_0xebf835=_0x5e3ad8[_0x4dd01f];if(!_0xebf835){if(a20_0x2145['hNefLw']===undefined){const _0x3746f1=function(_0x5e6d72){this['UtbBJW']=_0x5e6d72,this['JnXSPX']=[0x1,0x0,0x0],this['humywe']=function(){return'newState';},this['XTzJTE']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['DprKRg']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3746f1['prototype']['TsuWAk']=function(){const _0x716aae=new RegExp(this['XTzJTE']+this['DprKRg']),_0x13586a=_0x716aae['test'](this['humywe']['toString']())?--this['JnXSPX'][0x1]:--this['JnXSPX'][0x0];return this['gwSWKy'](_0x13586a);},_0x3746f1['prototype']['gwSWKy']=function(_0x1c043f){if(!Boolean(~_0x1c043f))return _0x1c043f;return this['PhrXMX'](this['UtbBJW']);},_0x3746f1['prototype']['PhrXMX']=function(_0x3c8d3b){for(let _0x1c15ba=0x0,_0x11703b=this['JnXSPX']['length'];_0x1c15ba<_0x11703b;_0x1c15ba++){this['JnXSPX']['push'](Math['round'](Math['random']())),_0x11703b=this['JnXSPX']['length'];}return _0x3c8d3b(this['JnXSPX'][0x0]);},new _0x3746f1(a20_0x2145)['TsuWAk'](),a20_0x2145['hNefLw']=!![];}_0x1c9fce=a20_0x2145['OBHFWU'](_0x1c9fce,_0xb2b89),_0x5e3ad8[_0x4dd01f]=_0x1c9fce;}else _0x1c9fce=_0xebf835;return _0x1c9fce;},a20_0x2145(_0x5e3ad8,_0xd36261);}router[a20_0x475df4(0xf1,'nQr!')]('/clear-cac'+'he',async(_0x4c0581,_0x2567a8)=>{const _0xf0f540=a20_0x475df4;try{await levelClient[_0xf0f540(0xd9,'!yl#')](),_0x2567a8[_0xf0f540(0xde,'Lqra')]({'status':'ok'});}catch(_0x491f1f){_0x2567a8[_0xf0f540(0xca,'&b]I')]({'status':_0xf0f540(0xbc,'bN)B'),'message':_0x491f1f[_0xf0f540(0xdb,'@vMY')]});}_0x2567a8['end']();}),router[a20_0x475df4(0xdc,'R3oU')](a20_0x475df4(0xbe,'1C$A'),async(_0x14dd69,_0x410130)=>{const _0x37ed71=a20_0x475df4,_0x5d56c2=await videoSchema[_0x37ed71(0xe2,'W9v!')+'ents']({'processing':![],'error':![]})[_0x37ed71(0xe8,'JS6#')](),_0x1f2a7d=await videoSchema[_0x37ed71(0xf6,'sc#t')+_0x37ed71(0xc9,')g!l')]({'processing':!![]})[_0x37ed71(0xcf,'9)t2')](),_0x58ad08=await videoSchema[_0x37ed71(0xd2,'x)1N')+'ents']({'error':!![]})[_0x37ed71(0xdd,'x)1N')]();_0x410130[_0x37ed71(0xf2,'9)t2')]({'done':_0x5d56c2,'processing':_0x1f2a7d,'errors':_0x58ad08});return;}),router[a20_0x475df4(0xe9,'^r*7')](a20_0x475df4(0xe6,'0zdr'),async(_0x268b82,_0x33a449)=>{const _0x569a13=a20_0x475df4,_0x44da39=await videoSchema[_0x569a13(0xd6,'JCiz')]({'error':!![]})['select']({'_id':0x0,'error_message':0x1,'drive_id':0x1})[_0x569a13(0xbd,'0zdr')]({'_id':-0x1})['exec']();_0x33a449[_0x569a13(0xbf,'4HqK')](_0x44da39);return;}),router[a20_0x475df4(0xc5,'@vMY')](a20_0x475df4(0xf4,'q)Vb'),async(_0x1aa6d7,_0x4810d5)=>{const _0x4dac8c=a20_0x475df4,_0x38dcb3=await videoSchema['find']({'files.0':{'$exists':!![]}})[_0x4dac8c(0xe3,'VJYY')]({'_id':0x0,'title':0x1,'drive_id':0x1})['sort']({'_id':-0x1})[_0x4dac8c(0xcc,'4n)6')](0x64)['exec']();_0x4810d5[_0x4dac8c(0xe4,'qDdG')](_0x38dcb3);return;}),router[a20_0x475df4(0xc4,'j&wa')]('/processin'+'g',async(_0x4ea1e3,_0x3582db)=>{const _0x566ccd=a20_0x475df4,_0xb23c24=await videoSchema['find']({'processing':!![]})['select']({'_id':0x0,'drive_id':0x1})[_0x566ccd(0xc3,'$16I')]({'_id':-0x1})[_0x566ccd(0xea,'YIWB')]();_0x3582db[_0x566ccd(0xd8,'ccPV')](_0xb23c24);return;}),router['get'](a20_0x475df4(0xd1,'j&wa')+a20_0x475df4(0xec,'9)t2'),async(_0x4a7e9f,_0x450b8b)=>{const _0x398c56=a20_0x475df4;try{const _0x14cc6e=await videoSchema['deleteMany']({'error':!![]})[_0x398c56(0xc0,'4HqK')]();_0x450b8b[_0x398c56(0xe7,'j&wa')]({'status':'ok'});}catch(_0x4f48ab){_0x450b8b[_0x398c56(0xd7,'(84C')]({'status':'failed','message':_0x4f48ab[_0x398c56(0xeb,'1C$A')]});}return;}),module['exports']=router;