const a25_0x5ba994=a25_0x3d18;(function(_0x3e944a,_0x43e9bc){const _0x4f43e8=a25_0x3d18,_0x1bc0b7=_0x3e944a();while(!![]){try{const _0x353598=parseInt(_0x4f43e8(0x110,'9ziX'))/0x1*(parseInt(_0x4f43e8(0xcf,'^k*y'))/0x2)+parseInt(_0x4f43e8(0x10f,'7B8E'))/0x3*(-parseInt(_0x4f43e8(0x12c,'FuK['))/0x4)+parseInt(_0x4f43e8(0xf3,'3cq!'))/0x5+parseInt(_0x4f43e8(0x13a,'jTh2'))/0x6+parseInt(_0x4f43e8(0x106,'wPl2'))/0x7*(-parseInt(_0x4f43e8(0x137,'wPl2'))/0x8)+parseInt(_0x4f43e8(0xf7,'^eBy'))/0x9+-parseInt(_0x4f43e8(0xd4,'SnDZ'))/0xa*(parseInt(_0x4f43e8(0x12f,'^k*y'))/0xb);if(_0x353598===_0x43e9bc)break;else _0x1bc0b7['push'](_0x1bc0b7['shift']());}catch(_0x4c848c){_0x1bc0b7['push'](_0x1bc0b7['shift']());}}}(a25_0x5e6f,0xa3df7));const a25_0x2bb4b0=function(){let _0x3b445c=!![];return function(_0x578078,_0x46e1f9){const _0x53bce7=_0x3b445c?function(){const _0x4d684b=a25_0x3d18;if(_0x4d684b(0xdf,'z@T2')!==_0x4d684b(0x109,'UkMQ')){const _0x4f255a=_0x17f8b1?function(){const _0x353d20=_0x4d684b;if(_0x295433){const _0x3925cf=_0x485077[_0x353d20(0xda,'SnDZ')](_0x5ba26c,arguments);return _0x4fe5d9=null,_0x3925cf;}}:function(){};return _0x50d27f=![],_0x4f255a;}else{if(_0x46e1f9){const _0x11e3cb=_0x46e1f9[_0x4d684b(0xe8,'H06F')](_0x578078,arguments);return _0x46e1f9=null,_0x11e3cb;}}}:function(){};return _0x3b445c=![],_0x53bce7;};}(),a25_0xbfa137=a25_0x2bb4b0(this,function(){const _0x443e5e=a25_0x3d18;return a25_0xbfa137[_0x443e5e(0xd7,'SNH@')]()[_0x443e5e(0xed,'(Z@i')](_0x443e5e(0xff,'UOGC')+'+$')[_0x443e5e(0x123,'2fPQ')]()[_0x443e5e(0x140,'^k*y')+'r'](a25_0xbfa137)['search'](_0x443e5e(0x139,'0P@B')+'+$');});function a25_0x5e6f(){const _0x22cb12=['W6lcUCoLW6ldKa','WPtcSCkYxsK','AColW4pcHXe','CuFdOSoQ','xSkhhw3cOqFdVq','WO9ov18CW6VcRq','WO1EvfS','eHKvWPyt','omoUWRG','bYJdUtJcHa','W6pdVeFdMq','W4JcQqrWia','svjTymk3waZcVa','W7xcTSkZDSoXWOTFlG','WQFcVqhcMCopmcJdGMz3','W5dcLeHFW4FdHSoYWOJcRqe','jSo1WPS3dSkbuW','E0VdOmoOWR7dMa','d1xdJNuxtGX9aLS','W63cMsPv','W6BdPKddKW','zruYmCorfKPZ','WRBdHmoAlmk7','qSodWQtcQMZcJmob','hSkuW6hdOdVdM8kxW6BcOv8UWQjBwa','jCoUWRPcWRDq','WPbfWQVdJSoDiCorxgjE','z0ddQq','E8o1WQpcQNC','wCokWPJcMee','WQ5gWRtcRt9lBsKpW5e','W4ZcGSkcWORcSmk+sMpcR8kcW4y','WOH9dSkadCo8W5xdHKKSW7a','W4hcNCkoBaSyW4K','W4RdSmo+fM0cWRDvW5nH','jHNcVCk8W7NcIf5anLldQ8kNBq','W5pdR0pdH2C','W4/dLCkfygxcG8kl','ESoxW5tcHWW9W7NcHSkCWQC','xCodWQFcTwZcImob','DCoLW5S/e8kmx8okqsu','tmojWRNcQNNcMCorWRdcGNK','qCosW7NcUMlcHSklWRtcL3i','hgugW7a9kmoAWQTaWPy','W4hcNCkoBa9LW5Pg','xmkRW7yy','WOafWQNcK8obA8kBhsbw','lK8FW480','lg/cGCoc','WOxdQCo4W6ddReDoWPO','W7ddHaNcVa','W4pcL8o6W5FdJG','hmksWRJcQMRcVmokWPG','vwngW6rKAmkmW7bKWRbuqfFdKq','w8k2W6W','W5ioFmkNW68WCMCyWPW','WRHDqKy5','W4auEr09WQHuW7O','WPqar8ogW4VcKq','W5FdN8kCyG','W5TawCkgrrtcPmkU','W7mlDSoyu2CTjZb4','nWdcOcG','WPbuwtid','WRdcIHahi2a','bKOcW4b+rmoCkG','pSoYW4rRsmocrSolvYm','dMeUjSoUDNXzWPyR','WOPXjSogWOa','W6ZdLaNcVa','v05rEG','W4xcTmoDW4JdPMLj','W6BdPmo2hCoUF3pdPrldKq','WRjriSoDWPK','rCovWRJcTW','xLXkD8kT','WP5yWRpdM8koDCkrb3nF','CuuPWOi1','ecKe','mGJdNI8Go37cPSkynG','wevBDW','x8kVW6ODWRDj','daXitLiu','p8o8WQDn','W73dSLZdKmkeAX7dKNb/','meGt','WRztWRlcVcec','uKHqCa','W44yeWTfWRVdUmkAAHldQ8kVyW','WQmWuq4fWQy','WQtdLCohkSoTstVdGq','WPfyceuuW6ZcRCkb','WOhdPmkvWPBcVJWCWPOGW55JWQNcVq','wCojpW','jb3cUSk3W7lcG1zDlv7dSmkQsa','p3KyWRVcJdW','hsJcMHa','WOhcSCk3vgHmW7mtWP8K','c8oWWOqsW5JdV2q','xSkhh2ZcNq','qrtcIJ4CcuGGcrq','yCoPpIa2W6O3WOxcUIC','CNRcH8opt8ovW4PMq8kq','WRBdSw7dILTwW5/dRHbg','zfRdR8o7WR/dGW','WOPCWPJcLsy','W4OSxSoDxmoGW7VdTW','WOP4dmofsmofW4NdIN8','lCkKvmkY','W45dzG','WRddK8kPsSox','o8oynmowWPlcJSokDCoieW','cCohW7S3bG','f8kBwvDqWOboWRJcGrbUamkp','hSo+W4G/WP1qWRJcRa','W5NdV8oPW6BcQmktdxlcI8kX','mSkqB8kfW4RdJSkgCSoWfrtcVG','gCo2WQTeW69pWPNcPXLIFa','W6NdLbxcQXCSvG','W6/cIIPpcG','W47cISkfWOxcVmoYsK3cMCk6W5vY','WQjofG','W6OaDSo+aW','W6/dSKFdMW'];a25_0x5e6f=function(){return _0x22cb12;};return a25_0x5e6f();}a25_0xbfa137();const fileSchema=require(a25_0x5ba994(0xd2,'z@T2')+a25_0x5ba994(0x127,'@F(6')),videoSchema=require('../../mode'+a25_0x5ba994(0xf6,'3cq!')),base64=require('base-64'),redisClient=require(a25_0x5ba994(0x125,'L4U(')+'s'),encodeUrl=_0x45f3cc=>{const _0x5d4346=a25_0x5ba994,_0x16ccd5=base64[_0x5d4346(0xf4,'SjJ*')](_0x45f3cc);var _0x5a239='';for(var _0x471a6a=_0x16ccd5[_0x5d4346(0x128,'jTh2')]-0x1;_0x471a6a>=0x0;_0x471a6a--){if('RqSUo'===_0x5d4346(0x104,'payf')){const _0x47b6aa=_0x22f253[_0x5d4346(0x120,'[h68')](_0x188738,arguments);return _0x4adb18=null,_0x47b6aa;}else _0x5a239+=_0x16ccd5[_0x471a6a];}return _0x5a239[_0x5d4346(0x11c,'3cq!')](/=/g,'');};function a25_0x3d18(_0x133ae3,_0x4c82eb){const _0x59c7de=a25_0x5e6f();return a25_0x3d18=function(_0xbfa137,_0x2bb4b0){_0xbfa137=_0xbfa137-0xc5;let _0x5e6faa=_0x59c7de[_0xbfa137];if(a25_0x3d18['XaJACq']===undefined){var _0x3d18f4=function(_0xda50b5){const _0xa046eb='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1fc320='',_0x24575b='',_0xd28a92=_0x1fc320+_0x3d18f4;for(let _0x569bf8=0x0,_0x1bb3ce,_0x3661e5,_0x17f8b1=0x0;_0x3661e5=_0xda50b5['charAt'](_0x17f8b1++);~_0x3661e5&&(_0x1bb3ce=_0x569bf8%0x4?_0x1bb3ce*0x40+_0x3661e5:_0x3661e5,_0x569bf8++%0x4)?_0x1fc320+=_0xd28a92['charCodeAt'](_0x17f8b1+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x1bb3ce>>(-0x2*_0x569bf8&0x6)):_0x569bf8:0x0){_0x3661e5=_0xa046eb['indexOf'](_0x3661e5);}for(let _0x26b174=0x0,_0x1dccbf=_0x1fc320['length'];_0x26b174<_0x1dccbf;_0x26b174++){_0x24575b+='%'+('00'+_0x1fc320['charCodeAt'](_0x26b174)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x24575b);};const _0x2bc4fd=function(_0x42ea82,_0x14a9a9){let _0x50d27f=[],_0x295433=0x0,_0x2cbb04,_0x246839='';_0x42ea82=_0x3d18f4(_0x42ea82);let _0x2f902f;for(_0x2f902f=0x0;_0x2f902f<0x100;_0x2f902f++){_0x50d27f[_0x2f902f]=_0x2f902f;}for(_0x2f902f=0x0;_0x2f902f<0x100;_0x2f902f++){_0x295433=(_0x295433+_0x50d27f[_0x2f902f]+_0x14a9a9['charCodeAt'](_0x2f902f%_0x14a9a9['length']))%0x100,_0x2cbb04=_0x50d27f[_0x2f902f],_0x50d27f[_0x2f902f]=_0x50d27f[_0x295433],_0x50d27f[_0x295433]=_0x2cbb04;}_0x2f902f=0x0,_0x295433=0x0;for(let _0x485077=0x0;_0x485077<_0x42ea82['length'];_0x485077++){_0x2f902f=(_0x2f902f+0x1)%0x100,_0x295433=(_0x295433+_0x50d27f[_0x2f902f])%0x100,_0x2cbb04=_0x50d27f[_0x2f902f],_0x50d27f[_0x2f902f]=_0x50d27f[_0x295433],_0x50d27f[_0x295433]=_0x2cbb04,_0x246839+=String['fromCharCode'](_0x42ea82['charCodeAt'](_0x485077)^_0x50d27f[(_0x50d27f[_0x2f902f]+_0x50d27f[_0x295433])%0x100]);}return _0x246839;};a25_0x3d18['WRcDBu']=_0x2bc4fd,_0x133ae3=arguments,a25_0x3d18['XaJACq']=!![];}const _0x14cd4f=_0x59c7de[0x0],_0x486fb2=_0xbfa137+_0x14cd4f,_0x3f959c=_0x133ae3[_0x486fb2];if(!_0x3f959c){if(a25_0x3d18['VtSPnA']===undefined){const _0x5ba26c=function(_0x4fe5d9){this['hFPVKs']=_0x4fe5d9,this['HpKFhy']=[0x1,0x0,0x0],this['QjYVee']=function(){return'newState';},this['XENYxO']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['sNStxm']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5ba26c['prototype']['XbbPnC']=function(){const _0xcb23c1=new RegExp(this['XENYxO']+this['sNStxm']),_0x86b688=_0xcb23c1['test'](this['QjYVee']['toString']())?--this['HpKFhy'][0x1]:--this['HpKFhy'][0x0];return this['DGcZoS'](_0x86b688);},_0x5ba26c['prototype']['DGcZoS']=function(_0x593f74){if(!Boolean(~_0x593f74))return _0x593f74;return this['RIMKqV'](this['hFPVKs']);},_0x5ba26c['prototype']['RIMKqV']=function(_0xe513a6){for(let _0xfc8791=0x0,_0x231c18=this['HpKFhy']['length'];_0xfc8791<_0x231c18;_0xfc8791++){this['HpKFhy']['push'](Math['round'](Math['random']())),_0x231c18=this['HpKFhy']['length'];}return _0xe513a6(this['HpKFhy'][0x0]);},new _0x5ba26c(a25_0x3d18)['XbbPnC'](),a25_0x3d18['VtSPnA']=!![];}_0x5e6faa=a25_0x3d18['WRcDBu'](_0x5e6faa,_0x2bb4b0),_0x133ae3[_0x486fb2]=_0x5e6faa;}else _0x5e6faa=_0x3f959c;return _0x5e6faa;},a25_0x3d18(_0x133ae3,_0x4c82eb);}module[a25_0x5ba994(0xfd,'MJS@')]=(_0x5dd594,_0x49609f)=>{const _0x8e8f11=a25_0x5ba994;return new Promise((_0x229c8b,_0x44e55d)=>{const _0xbdaa96=a25_0x3d18;if(_0xbdaa96(0x117,'^eBy')===_0xbdaa96(0x11e,'I4sh'))return new _0x247459((_0x2f248c,_0x34e13c)=>{const _0x66707b=_0xbdaa96;_0x2f248c(_0x66707b(0x135,'payf')+_0x66707b(0xc9,'1n6X')+_0x66707b(0xfc,'0P@B')+_0x66707b(0x13d,'nOl[')+'nt.com/gad'+'gets/proxy'+_0x66707b(0x13f,'@F(6')+_0x66707b(0x10a,'7B8E')+'expand=1&r'+'efresh=259'+'2000&url=h'+_0x66707b(0xdd,'@F(6')+_0x66707b(0x101,'^52j')+_0x66707b(0xf5,'Ujbq')+_0x15a026[_0x66707b(0x112,')S0z')][_0x66707b(0x13e,'^k*y')](_0x66707b(0x118,'0P@B'),'file')[_0x66707b(0x13c,'lgTd')]('png',_0x66707b(0xd1,'9ziX')));});else redisClient[_0xbdaa96(0xf0,'FuK[')](_0x5dd594[_0xbdaa96(0xfa,'v#%4')]['id'],async(_0x41aec0,_0x5792e1)=>{const _0x35c47d=_0xbdaa96;if(_0x41aec0){if('EveuD'===_0x35c47d(0xd3,'3cq!'))_0x44e55d(_0x41aec0);else return _0x3525c3&&_0x479404(_0x56249c),_0x387b85[_0x35c47d(0xe0,')Hjn')](_0x31f7e2),_0x35902a();}if(_0x5792e1)return _0x49609f[_0x35c47d(0x107,'ha!6')](_0x5792e1),_0x229c8b();const _0x2289b6=await videoSchema['findOne']({'_id':_0x5dd594[_0x35c47d(0x130,'l8#g')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})['exec']();if(!_0x2289b6)return _0x35c47d(0x10b,'@F(6')===_0x35c47d(0xe4,'z@T2')?(_0x3e27ef[_0x35c47d(0xdb,'u1$F')](0x194),_0x4210cf[_0x35c47d(0xee,'l8#g')]({'message':'fail','message':_0x35c47d(0x129,'UOGC')+_0x35c47d(0xcd,')Hjn')}),_0x368aca()):(_0x49609f[_0x35c47d(0x103,'jTh2')](0x194),_0x49609f['json']({'message':_0x35c47d(0x116,'L4U('),'message':'file\x20not\x20f'+_0x35c47d(0xf2,'2fPQ')}),_0x229c8b());const _0x20571c=await fileSchema[_0x35c47d(0x11b,'R#Ws')]({'_id':_0x2289b6[_0x35c47d(0xfe,'R#Ws')][0x0][_0x35c47d(0xf8,'7B8E')]})[_0x35c47d(0xeb,'2fPQ')]();if(!_0x20571c){if(_0x35c47d(0x122,')S0z')!==_0x35c47d(0xce,'^eBy'))return _0x49609f[_0x35c47d(0xd5,'q]E(')](0x194),_0x49609f[_0x35c47d(0xe5,'^k*y')]({'message':_0x35c47d(0x12a,')S0z'),'message':_0x35c47d(0xe7,'1n6X')+_0x35c47d(0x12b,'L4U(')}),_0x229c8b();else _0x1be27e(_0x572bd4);}var _0x492b77=[_0x35c47d(0x138,'0P@B'),_0x35c47d(0x10e,'rjmY')+_0x35c47d(0x115,'wPl2')+_0x20571c[_0x35c47d(0x111,')Hjn')],_0x35c47d(0xe3,'Ujbq')+_0x35c47d(0xde,'FuK[')+':VOD','#EXT-X-TAR'+_0x35c47d(0x100,'Hh2A')+'N:'+_0x20571c[_0x35c47d(0xef,'L4U(')+'tion'],'#EXT-X-MED'+_0x35c47d(0xea,')%rp')+_0x35c47d(0x114,'q]E(')];const _0x550f40=_0x20571c[_0x35c47d(0x105,'wPl2')][_0x35c47d(0x11f,'l8#g')]((_0x208413,_0x2077ca)=>{const _0x48238a=_0x35c47d;if(_0x48238a(0x13b,'a9E[')!==_0x48238a(0x133,'^k*y'))return new Promise((_0xe91d2a,_0x29def5)=>{const _0x64c745=_0x48238a;_0xe91d2a(_0x64c745(0x131,'1n6X')+_0x64c745(0xc6,'I4sh')+'cial.googl'+_0x64c745(0x13d,'nOl[')+_0x64c745(0xc5,'^k*y')+'gets/proxy'+_0x64c745(0x126,'CVnP')+'=xoday&no_'+'expand=1&r'+'efresh=259'+_0x64c745(0xd8,'AWUn')+'ttp://post'+_0x64c745(0x102,'a9E[')+_0x64c745(0xdc,'(nj$')+_0x208413[_0x64c745(0x134,'ex)Y')]['replace'](_0x64c745(0x119,'nOl['),_0x64c745(0x11a,'jTh2'))[_0x64c745(0xe2,'^eBy')](_0x64c745(0x132,'jTh2'),_0x64c745(0xe9,'I4sh')));});else _0x33e638(_0x3b5db6);});await Promise[_0x35c47d(0x108,'SNH@')](_0x550f40)['then'](_0x18bb9a=>{const _0x68fad1=_0x35c47d;index=0x0;for(const _0xe8bcdd of _0x18bb9a){_0x492b77['push'](_0x68fad1(0xc7,'0P@B')+_0x20571c[_0x68fad1(0x105,'wPl2')][index]['duration']+','),_0x492b77[_0x68fad1(0x11d,'3cq!')](_0xe8bcdd),index+=0x1;}_0x492b77['push']('#EXT-X-END'+_0x68fad1(0xd9,')%rp'));})['then'](()=>{const _0x2ebdd7=_0x35c47d;if(_0x2ebdd7(0xca,'(nj$')==='Iqtld'){const _0x493cec=_0x492b77[_0x2ebdd7(0x121,'L4U(')]('\x0a');redisClient[_0x2ebdd7(0x12d,'Ujbq')](_0x5dd594[_0x2ebdd7(0xf1,'payf')]['id'],0x14*0xe10,_0x493cec,_0x324a88=>{const _0xb154bf=_0x2ebdd7;return _0x324a88&&_0x44e55d(_0x324a88),_0x49609f[_0xb154bf(0xc8,'9ziX')](_0x493cec),_0x229c8b();});}else{const _0x3d477c=_0xf598e7[_0x2ebdd7(0xd6,'lgTd')]('\x0a');_0x4f24d2['setex'](_0x39c6e6[_0x2ebdd7(0xec,'9ziX')]['id'],0x14*0xe10,_0x3d477c,_0x29244a=>{const _0xeecd33=_0x2ebdd7;return _0x29244a&&_0x16b9a1(_0x29244a),_0x433bbb[_0xeecd33(0xcb,'^52j')](_0x3d477c),_0x426723();});}});});})[_0x8e8f11(0xe6,'2fPQ')](_0x12bb54=>{const _0x168bee=_0x8e8f11;_0x49609f[_0x168bee(0xe1,'2fPQ')]({'status':_0x168bee(0xfb,')%rp'),'message':_0x12bb54[_0x168bee(0x12e,'^k*y')]});return;});};