function a20_0xd53b(){const _0x2ebd17=['rMroWQlcVmkUW58','W4fgW4JcHmkl','bCotkmouWOqL','FSkNFI4','WQa9WRxcMCodgHtdGtW','aGTxWOC','dmk8W4ez','WRJdVmo3W6SLdqKCW5uT','W49kWR87rCoEW4hcSwtdTW','cKWTW5VdNmkvbXJdVCks','kHJdRCokW5vUiCoXDmo5','h348nWfSWOZdTCo3mY3dNmk1','W4LncMRdRZj7','kmotWO7dKCk2zmoZruO6','W4u+WPxcP3zYW54','W6rQW7xcUCoybd8','W7xcMbvKWRHKW7K7WPBcKCo/DSk1','W59aWRyLvmocW4dcOq','W7SiA8ou','WRDVxSk9W4azzmkcW7xdGmoCWO3cUW','C8owW6RdJW','jSoTjxldK1tdN8k5WRZdGSoRB2O','WQldTSkgoHevWQFcGmoT','WQJdJIT9tCosAmkrfYTFW4f+','W77dRMi','FSk2zSoFWQe','pum7DhpdQYSLtmk0','W73cOCohgGidWOC','smkEWOpcNSonrSoD','yvvjWRtcVG','WPpdVhRdP8kSgIaugmof','tSo/WODcnYRcOCklWRvnWPbv','hY7dISkPW6bfemkbaW','WRbNu8o0WPn3dmkcW4O','W6OKpaddPSorW65rW51QAG','W4zwWR4M','W77dKSoEWQPetKBcISkGW50','W7yYg8oGWPLnmW','W7CYcSo+WPTg','CmozW7u','u3ddRSkl','W5XeWQmPxmoF','W7/dQxG5W7qWWQe','WPtcNmkrmmoYcCoOu2FcKG','emoCpG','aN/cISoZW70Btmk2zSoWzrxcPG','lCovWO7dHSknEmoJ','DCoGrvfy','CvtdO8kiW7C','cCo7W6vM','ferzyCoobdu','qCoxW5ddM8kAe8kAqG','dmoWWQddN8oOdhpdKtWDeCks','WRr5WRRcP8k2','WOSCWR/cVuK','dCoMW7nG','WOJcSaFcImoPEwq','WOhcH8kFW7jbEgJdUSkU','yCkfWR7cTmoh','WRG9r3KZWPRdOsO','WQDSsa0CAmoiW40','dCoqdxRdKW','mmo2cW','WOSEWR7cGfOMW64','oGxdSCoDW44TrSkzfSkKkG','vmkdW6COzdJdJLZdGdO','W6fQW6BcUmosaW','WRNdISk1WR9kzHZcVxNdQmkPW4dcMa','W40zA27dGHf/W53cGq','W7D3W6lcQq','o3NcNCkiWOOKya','W4tcQCoYW6m5','W45eWQiThmkAWOa','W7KQWQO','W7nTW6BcUCousW','WP3dUSkyW6lcSMG1WOyKna','CCoQWQ/dPG','W6CUWRtcJW','CutcPmkqWOS0','tSkhDCouWOW','wsjJya','g8o3cM4','fSotlSowWOe','WQddIuWWW7m','fYxcTmkQW6bgW4nroW','WQFdKfa5W7K','mmomACo9','W67cKCoH','WQuWAhK3','qxNdRa','W5rcW7NdGqX2WRNdLGxcIwxdS8ke','W5BdMxbmW50','W4fbuCkoWPxcTa','W6pcSmovhryx','FmozW6ddJ8kYzCkbpa'];a20_0xd53b=function(){return _0x2ebd17;};return a20_0xd53b();}const a20_0x4a3762=a20_0x4e91;function a20_0x4e91(_0x15485b,_0x24f4bb){const _0x464cf9=a20_0xd53b();return a20_0x4e91=function(_0x14bb24,_0x2b8bd5){_0x14bb24=_0x14bb24-0xac;let _0xd53b97=_0x464cf9[_0x14bb24];if(a20_0x4e91['ELcyge']===undefined){var _0x4e91b6=function(_0x3d394f){const _0x5c416f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1ece9c='',_0x5083a5='',_0x41b7c8=_0x1ece9c+_0x4e91b6;for(let _0x1665c3=0x0,_0x5f3271,_0x41f140,_0x2b530e=0x0;_0x41f140=_0x3d394f['charAt'](_0x2b530e++);~_0x41f140&&(_0x5f3271=_0x1665c3%0x4?_0x5f3271*0x40+_0x41f140:_0x41f140,_0x1665c3++%0x4)?_0x1ece9c+=_0x41b7c8['charCodeAt'](_0x2b530e+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x5f3271>>(-0x2*_0x1665c3&0x6)):_0x1665c3:0x0){_0x41f140=_0x5c416f['indexOf'](_0x41f140);}for(let _0x53053d=0x0,_0x4c8a40=_0x1ece9c['length'];_0x53053d<_0x4c8a40;_0x53053d++){_0x5083a5+='%'+('00'+_0x1ece9c['charCodeAt'](_0x53053d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5083a5);};const _0x2211af=function(_0xacfcec,_0xb9f0dd){let _0x1fe531=[],_0x1f5aa4=0x0,_0x576742,_0x312942='';_0xacfcec=_0x4e91b6(_0xacfcec);let _0xba09f3;for(_0xba09f3=0x0;_0xba09f3<0x100;_0xba09f3++){_0x1fe531[_0xba09f3]=_0xba09f3;}for(_0xba09f3=0x0;_0xba09f3<0x100;_0xba09f3++){_0x1f5aa4=(_0x1f5aa4+_0x1fe531[_0xba09f3]+_0xb9f0dd['charCodeAt'](_0xba09f3%_0xb9f0dd['length']))%0x100,_0x576742=_0x1fe531[_0xba09f3],_0x1fe531[_0xba09f3]=_0x1fe531[_0x1f5aa4],_0x1fe531[_0x1f5aa4]=_0x576742;}_0xba09f3=0x0,_0x1f5aa4=0x0;for(let _0x738eef=0x0;_0x738eef<_0xacfcec['length'];_0x738eef++){_0xba09f3=(_0xba09f3+0x1)%0x100,_0x1f5aa4=(_0x1f5aa4+_0x1fe531[_0xba09f3])%0x100,_0x576742=_0x1fe531[_0xba09f3],_0x1fe531[_0xba09f3]=_0x1fe531[_0x1f5aa4],_0x1fe531[_0x1f5aa4]=_0x576742,_0x312942+=String['fromCharCode'](_0xacfcec['charCodeAt'](_0x738eef)^_0x1fe531[(_0x1fe531[_0xba09f3]+_0x1fe531[_0x1f5aa4])%0x100]);}return _0x312942;};a20_0x4e91['EHQHwi']=_0x2211af,_0x15485b=arguments,a20_0x4e91['ELcyge']=!![];}const _0x5887ef=_0x464cf9[0x0],_0x4c8d00=_0x14bb24+_0x5887ef,_0x425ba6=_0x15485b[_0x4c8d00];if(!_0x425ba6){if(a20_0x4e91['GBjGtA']===undefined){const _0x42c2b2=function(_0x32213c){this['gKXvUR']=_0x32213c,this['TWJjDU']=[0x1,0x0,0x0],this['MlZrPq']=function(){return'newState';},this['pUAfcr']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['OIhTfX']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x42c2b2['prototype']['iDFIag']=function(){const _0x12dd72=new RegExp(this['pUAfcr']+this['OIhTfX']),_0x38d0b4=_0x12dd72['test'](this['MlZrPq']['toString']())?--this['TWJjDU'][0x1]:--this['TWJjDU'][0x0];return this['vvApWg'](_0x38d0b4);},_0x42c2b2['prototype']['vvApWg']=function(_0x8a9992){if(!Boolean(~_0x8a9992))return _0x8a9992;return this['TcBpbt'](this['gKXvUR']);},_0x42c2b2['prototype']['TcBpbt']=function(_0x4dbb0c){for(let _0xbe1f31=0x0,_0x4b09f0=this['TWJjDU']['length'];_0xbe1f31<_0x4b09f0;_0xbe1f31++){this['TWJjDU']['push'](Math['round'](Math['random']())),_0x4b09f0=this['TWJjDU']['length'];}return _0x4dbb0c(this['TWJjDU'][0x0]);},new _0x42c2b2(a20_0x4e91)['iDFIag'](),a20_0x4e91['GBjGtA']=!![];}_0xd53b97=a20_0x4e91['EHQHwi'](_0xd53b97,_0x2b8bd5),_0x15485b[_0x4c8d00]=_0xd53b97;}else _0xd53b97=_0x425ba6;return _0xd53b97;},a20_0x4e91(_0x15485b,_0x24f4bb);}(function(_0x5206aa,_0x3f7cae){const _0x522717=a20_0x4e91,_0x289cb6=_0x5206aa();while(!![]){try{const _0x31a909=parseInt(_0x522717(0xac,'ODtv'))/0x1*(parseInt(_0x522717(0xce,'U&XN'))/0x2)+-parseInt(_0x522717(0xd6,'S60T'))/0x3*(parseInt(_0x522717(0xdf,'&[Eo'))/0x4)+parseInt(_0x522717(0x10a,'&U^x'))/0x5*(-parseInt(_0x522717(0x103,'C5[2'))/0x6)+-parseInt(_0x522717(0xe1,'gC5f'))/0x7+-parseInt(_0x522717(0xda,'vox&'))/0x8*(-parseInt(_0x522717(0xb1,'&U^x'))/0x9)+parseInt(_0x522717(0xae,'50m9'))/0xa+-parseInt(_0x522717(0xbf,'Wywh'))/0xb*(-parseInt(_0x522717(0xe9,'*^3F'))/0xc);if(_0x31a909===_0x3f7cae)break;else _0x289cb6['push'](_0x289cb6['shift']());}catch(_0x335713){_0x289cb6['push'](_0x289cb6['shift']());}}}(a20_0xd53b,0xa1422));const a20_0x2b8bd5=function(){let _0x431f5b=!![];return function(_0x176ae3,_0x5910ee){const _0x5578d3=a20_0x4e91;if(_0x5578d3(0xe7,'dul$')!==_0x5578d3(0xf9,'u$kI')){if(_0x230783){const _0x11dc37=_0x229990[_0x5578d3(0xe3,'KS0L')](_0x371080,arguments);return _0x1248ec=null,_0x11dc37;}}else{const _0x5ce40b=_0x431f5b?function(){const _0x3208d5=_0x5578d3;if(_0x3208d5(0x107,'zQNN')===_0x3208d5(0xff,'HBtL'))_0xf742d(_0x21223f);else{if(_0x5910ee){if(_0x3208d5(0x104,'&M[%')===_0x3208d5(0x100,'HBe9'))_0xc646ce+=_0xc7fcae[_0x574a2b];else{const _0x20fcda=_0x5910ee[_0x3208d5(0xc0,'vox&')](_0x176ae3,arguments);return _0x5910ee=null,_0x20fcda;}}}}:function(){};return _0x431f5b=![],_0x5ce40b;}};}(),a20_0x14bb24=a20_0x2b8bd5(this,function(){const _0x4f4c15=a20_0x4e91;return a20_0x14bb24[_0x4f4c15(0x106,'EFt&')]()['search']('(((.+)+)+)'+'+$')['toString']()[_0x4f4c15(0xd7,'kDJ6')+'r'](a20_0x14bb24)[_0x4f4c15(0xf0,'!3di')]('(((.+)+)+)'+'+$');});a20_0x14bb24();const fileSchema=require('../../mode'+a20_0x4a3762(0xfc,'8D6s')),videoSchema=require('../../mode'+a20_0x4a3762(0xfd,'KGXd')),base64=require(a20_0x4a3762(0xb3,'$VHw')),levelClient=require('../../leve'+'l'),encodeUrl=_0x8405ed=>{const _0x34040b=a20_0x4a3762,_0x2d681f=base64['encode'](_0x8405ed);var _0x4f2bdb='';for(var _0x55d24a=_0x2d681f[_0x34040b(0xc7,'[[[U')]-0x1;_0x55d24a>=0x0;_0x55d24a--){if(_0x34040b(0xfa,'Wywh')!==_0x34040b(0xba,'KS0L'))return _0x556645['toString']()['search'](_0x34040b(0xd4,'&U^x')+'+$')['toString']()[_0x34040b(0xd2,'$VHw')+'r'](_0x408255)[_0x34040b(0xad,'U&XN')](_0x34040b(0xe8,'rE2*')+'+$');else _0x4f2bdb+=_0x2d681f[_0x55d24a];}return _0x4f2bdb[_0x34040b(0xef,'!3di')](/=/g,'');};module[a20_0x4a3762(0xe6,'&M[%')]=(_0x26cac9,_0x59e8bb)=>{const _0x4aefcd=a20_0x4a3762;return new Promise((_0x2e4e18,_0x3d8795)=>{levelClient['get'](_0x26cac9['params']['id'],async(_0x2368fc,_0x258a5d)=>{const _0x19a1f0=a20_0x4e91;_0x2368fc&&(!_0x2368fc[_0x19a1f0(0xe5,'nRpb')][_0x19a1f0(0xc9,'eDz4')](_0x19a1f0(0xee,'C5[2')+'und\x20in\x20dat'+_0x19a1f0(0xb5,'U&XN'))&&_0x3d8795(_0x2368fc));if(_0x258a5d)return _0x59e8bb[_0x19a1f0(0xb8,'&q9#')](_0x258a5d),_0x2e4e18();const _0x5de2b8=await videoSchema[_0x19a1f0(0xca,'dul$')]({'_id':_0x26cac9[_0x19a1f0(0xf3,'$VHw')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x19a1f0(0xc1,'1WP3')]();if(!_0x5de2b8){if('nhHma'!==_0x19a1f0(0xc3,'[v@k')){_0x489e98[_0x19a1f0(0xed,'$VHw')]({'status':_0x19a1f0(0xde,'eDz4'),'message':_0x1f6c6e['message']});return;}else _0x59e8bb[_0x19a1f0(0xc8,'nRpb')](0x194),_0x59e8bb[_0x19a1f0(0xc2,'50m9')](),_0x2e4e18();}const _0x941c20=await fileSchema[_0x19a1f0(0xf8,'kDJ6')]({'_id':_0x5de2b8[_0x19a1f0(0xbe,'vox&')][0x0][_0x19a1f0(0x108,'zQNN')]})[_0x19a1f0(0xb0,'U&XN')]();!_0x941c20&&(_0x59e8bb[_0x19a1f0(0xb9,'&U^x')](0x194),_0x59e8bb[_0x19a1f0(0xf6,'CIjQ')](),_0x2e4e18());var _0x32914b=[_0x19a1f0(0xd8,'HBe9'),_0x19a1f0(0xd3,'!NW@')+_0x19a1f0(0xcb,'U&XN')+_0x941c20[_0x19a1f0(0xd9,'U&XN')],'#EXT-X-PLA'+_0x19a1f0(0xf5,'VOB9')+_0x19a1f0(0xb7,'kDJ6'),'#EXT-X-TAR'+_0x19a1f0(0xe4,'^j#E')+'N:'+_0x941c20[_0x19a1f0(0xd1,'X7I&')+_0x19a1f0(0xbb,'HSWN')],'#EXT-X-MED'+_0x19a1f0(0xb6,'fJ8d')+_0x19a1f0(0xe2,'rE2*')];const _0x327110=_0x941c20[_0x19a1f0(0x105,'[v@k')][_0x19a1f0(0xb4,'&q9#')]((_0x463c85,_0x268d0e)=>{return new Promise((_0x2b6e5d,_0x2d2e89)=>{const _0x1cee97=a20_0x4e91;encoded_url=encodeUrl(_0x463c85[_0x1cee97(0xc6,'Qz5x')]),_0x2b6e5d(process[_0x1cee97(0xf1,'eDz4')]['HOST']+_0x1cee97(0xea,'j)UU')+encoded_url);});});await Promise[_0x19a1f0(0xc4,'Wywh')](_0x327110)[_0x19a1f0(0x101,'N5Zp')](_0x13b8d5=>{const _0x33479c=_0x19a1f0;index=0x0;for(const _0x440caf of _0x13b8d5){_0x32914b[_0x33479c(0xfb,'N5Zp')]('#EXTINF:'+_0x941c20[_0x33479c(0xdb,'$VHw')][index]['duration']+','),_0x32914b[_0x33479c(0xcf,'V[3*')](_0x440caf),index+=0x1;}_0x32914b[_0x33479c(0xd0,'*^3F')]('#EXT-X-END'+_0x33479c(0xdc,'6#&F'));})[_0x19a1f0(0xbc,'zQNN')](()=>{const _0x99426a=_0x19a1f0,_0x389a9f=_0x32914b['join']('\x0a');levelClient['put'](_0x26cac9[_0x99426a(0xcc,'CIjQ')]['id'],_0x389a9f,_0x13e32b=>{const _0xfe4d85=_0x99426a;if(_0xfe4d85(0xb2,'50m9')!=='WgncA')return _0x13e32b&&_0x3d8795(_0x13e32b),_0x59e8bb[_0xfe4d85(0xf2,'Wywh')](_0x389a9f),_0x2e4e18();else{const _0x1b6753=_0x558006['apply'](_0x292d51,arguments);return _0x27b37c=null,_0x1b6753;}});});});})[_0x4aefcd(0xbd,'CIjQ')](_0x5027df=>{const _0x1f4c7e=_0x4aefcd;_0x59e8bb[_0x1f4c7e(0xcd,'&[Eo')]({'status':'fail','message':_0x5027df[_0x1f4c7e(0x109,'HBe9')]});return;});};