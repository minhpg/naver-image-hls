const a30_0x45c167=a30_0x4e34;(function(_0x3b4091,_0x97fda3){const _0x291e0d=a30_0x4e34,_0x57fdee=_0x3b4091();while(!![]){try{const _0x3fa275=parseInt(_0x291e0d(0x163,'5aSv'))/0x1*(parseInt(_0x291e0d(0x154,'Iwjy'))/0x2)+-parseInt(_0x291e0d(0x18d,'OhIV'))/0x3+parseInt(_0x291e0d(0x14b,'0V!G'))/0x4+-parseInt(_0x291e0d(0x18a,'J]M#'))/0x5+parseInt(_0x291e0d(0x166,'v)U2'))/0x6*(parseInt(_0x291e0d(0x169,'sVZR'))/0x7)+-parseInt(_0x291e0d(0x181,'1Vr)'))/0x8*(-parseInt(_0x291e0d(0x177,'rPRi'))/0x9)+-parseInt(_0x291e0d(0x148,'G(ZH'))/0xa;if(_0x3fa275===_0x97fda3)break;else _0x57fdee['push'](_0x57fdee['shift']());}catch(_0x43699c){_0x57fdee['push'](_0x57fdee['shift']());}}}(a30_0x31d5,0x7f9f8));function a30_0x4e34(_0x4103ec,_0x38e6c9){const _0x5c5ca5=a30_0x31d5();return a30_0x4e34=function(_0x1cdc30,_0x319a82){_0x1cdc30=_0x1cdc30-0x133;let _0x31d5a0=_0x5c5ca5[_0x1cdc30];if(a30_0x4e34['YXVjDz']===undefined){var _0x4e3462=function(_0x16bf9d){const _0x30a920='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x370f15='',_0x4fd77a='',_0x4c19bc=_0x370f15+_0x4e3462;for(let _0x57d600=0x0,_0x23d53d,_0x3c45f1,_0x267b34=0x0;_0x3c45f1=_0x16bf9d['charAt'](_0x267b34++);~_0x3c45f1&&(_0x23d53d=_0x57d600%0x4?_0x23d53d*0x40+_0x3c45f1:_0x3c45f1,_0x57d600++%0x4)?_0x370f15+=_0x4c19bc['charCodeAt'](_0x267b34+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x23d53d>>(-0x2*_0x57d600&0x6)):_0x57d600:0x0){_0x3c45f1=_0x30a920['indexOf'](_0x3c45f1);}for(let _0x36bd4f=0x0,_0x318b4c=_0x370f15['length'];_0x36bd4f<_0x318b4c;_0x36bd4f++){_0x4fd77a+='%'+('00'+_0x370f15['charCodeAt'](_0x36bd4f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4fd77a);};const _0x32db89=function(_0x5d2d2b,_0x1073de){let _0x27702c=[],_0x3734f6=0x0,_0x14dbf6,_0x485cf4='';_0x5d2d2b=_0x4e3462(_0x5d2d2b);let _0x453623;for(_0x453623=0x0;_0x453623<0x100;_0x453623++){_0x27702c[_0x453623]=_0x453623;}for(_0x453623=0x0;_0x453623<0x100;_0x453623++){_0x3734f6=(_0x3734f6+_0x27702c[_0x453623]+_0x1073de['charCodeAt'](_0x453623%_0x1073de['length']))%0x100,_0x14dbf6=_0x27702c[_0x453623],_0x27702c[_0x453623]=_0x27702c[_0x3734f6],_0x27702c[_0x3734f6]=_0x14dbf6;}_0x453623=0x0,_0x3734f6=0x0;for(let _0x467375=0x0;_0x467375<_0x5d2d2b['length'];_0x467375++){_0x453623=(_0x453623+0x1)%0x100,_0x3734f6=(_0x3734f6+_0x27702c[_0x453623])%0x100,_0x14dbf6=_0x27702c[_0x453623],_0x27702c[_0x453623]=_0x27702c[_0x3734f6],_0x27702c[_0x3734f6]=_0x14dbf6,_0x485cf4+=String['fromCharCode'](_0x5d2d2b['charCodeAt'](_0x467375)^_0x27702c[(_0x27702c[_0x453623]+_0x27702c[_0x3734f6])%0x100]);}return _0x485cf4;};a30_0x4e34['BYDvFu']=_0x32db89,_0x4103ec=arguments,a30_0x4e34['YXVjDz']=!![];}const _0x66b9cc=_0x5c5ca5[0x0],_0x3f09ab=_0x1cdc30+_0x66b9cc,_0x3e4493=_0x4103ec[_0x3f09ab];if(!_0x3e4493){if(a30_0x4e34['TRUjZR']===undefined){const _0xb21a41=function(_0x2d7dab){this['MBhsnT']=_0x2d7dab,this['dQxQfE']=[0x1,0x0,0x0],this['cwnQFm']=function(){return'newState';},this['PzhiLY']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['VVtFMM']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xb21a41['prototype']['ntODbP']=function(){const _0x3f0a43=new RegExp(this['PzhiLY']+this['VVtFMM']),_0x2b1bad=_0x3f0a43['test'](this['cwnQFm']['toString']())?--this['dQxQfE'][0x1]:--this['dQxQfE'][0x0];return this['NMahkN'](_0x2b1bad);},_0xb21a41['prototype']['NMahkN']=function(_0x37748a){if(!Boolean(~_0x37748a))return _0x37748a;return this['pWPAgH'](this['MBhsnT']);},_0xb21a41['prototype']['pWPAgH']=function(_0x45e7e1){for(let _0x5ef03f=0x0,_0x3cf1b4=this['dQxQfE']['length'];_0x5ef03f<_0x3cf1b4;_0x5ef03f++){this['dQxQfE']['push'](Math['round'](Math['random']())),_0x3cf1b4=this['dQxQfE']['length'];}return _0x45e7e1(this['dQxQfE'][0x0]);},new _0xb21a41(a30_0x4e34)['ntODbP'](),a30_0x4e34['TRUjZR']=!![];}_0x31d5a0=a30_0x4e34['BYDvFu'](_0x31d5a0,_0x319a82),_0x4103ec[_0x3f09ab]=_0x31d5a0;}else _0x31d5a0=_0x3e4493;return _0x31d5a0;},a30_0x4e34(_0x4103ec,_0x38e6c9);}const a30_0x319a82=function(){let _0x6dac80=!![];return function(_0x2a839b,_0x32660c){const _0x4347e3=_0x6dac80?function(){const _0x325828=a30_0x4e34;if(_0x32660c){const _0x34ee0e=_0x32660c[_0x325828(0x16f,'@)JU')](_0x2a839b,arguments);return _0x32660c=null,_0x34ee0e;}}:function(){};return _0x6dac80=![],_0x4347e3;};}(),a30_0x1cdc30=a30_0x319a82(this,function(){const _0x1c21a0=a30_0x4e34;return a30_0x1cdc30[_0x1c21a0(0x18b,'C)M@')]()['search'](_0x1c21a0(0x17d,'%w[#')+'+$')[_0x1c21a0(0x143,'rPRi')]()['constructo'+'r'](a30_0x1cdc30)[_0x1c21a0(0x14d,'OhIV')](_0x1c21a0(0x16e,'Ip2]')+'+$');});a30_0x1cdc30();const fileSchema=require(a30_0x45c167(0x145,'@tcn')+a30_0x45c167(0x137,'Ip2]')),videoSchema=require(a30_0x45c167(0x13e,'Ol(*')+a30_0x45c167(0x16a,'OI19')),base64=require(a30_0x45c167(0x157,'C)M@')),redisClient=require(a30_0x45c167(0x134,'gN[%')+'s'),encodeUrl=_0x47aac7=>{const _0xd01dc2=a30_0x45c167,_0x59ab32=base64[_0xd01dc2(0x13d,'0V!G')](_0x47aac7);var _0x5d49ac='';for(var _0x1593b2=_0x59ab32['length']-0x1;_0x1593b2>=0x0;_0x1593b2--){_0x5d49ac+=_0x59ab32[_0x1593b2];}return _0x5d49ac[_0xd01dc2(0x161,'OI19')](/=/g,'');};module[a30_0x45c167(0x191,'wftc')]=(_0x129f5a,_0x261ecf)=>{const _0x4abb61=a30_0x45c167;return new Promise((_0x40999a,_0x5e6901)=>{redisClient['get'](_0x129f5a['params']['id'],async(_0x15a3af,_0x19a6c9)=>{const _0x4afc72=a30_0x4e34;_0x15a3af&&_0x5e6901(_0x15a3af);if(_0x19a6c9){if(_0x4afc72(0x17f,'Ol(*')!==_0x4afc72(0x162,'rPRi')){const _0x49ad25=_0x3efa4a[_0x4afc72(0x192,'OhIV')]('\x0a');_0x4672d1['setex'](_0x48b16b['params']['id'],0x14*0xe10,_0x49ad25,_0x292040=>{const _0x4de59d=_0x4afc72;return _0x292040&&_0x4bfe1b(_0x292040),_0x7b214[_0x4de59d(0x173,'(avj')](_0x49ad25),_0x4974e7();});}else return _0x261ecf[_0x4afc72(0x139,'v)U2')](_0x19a6c9),_0x40999a();}const _0x383e7c=await videoSchema[_0x4afc72(0x174,'Ip2]')]({'_id':_0x129f5a['params']['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x4afc72(0x144,'C)M@')]();if(!_0x383e7c)return _0x4afc72(0x15c,'^XLE')!==_0x4afc72(0x151,'iF4V')?(_0x261ecf[_0x4afc72(0x197,'5aSv')](0x194),_0x261ecf[_0x4afc72(0x15d,'Kc#o')]({'message':_0x4afc72(0x167,'gN[%'),'message':'file\x20not\x20f'+'ound'}),_0x40999a()):_0x5956fc[_0x4afc72(0x160,'PBQo')]()[_0x4afc72(0x14f,'PBQo')]('(((.+)+)+)'+'+$')['toString']()[_0x4afc72(0x138,'YX(V')+'r'](_0x153ba1)[_0x4afc72(0x165,'rPRi')](_0x4afc72(0x16d,'Hrg1')+'+$');const _0x52e9f1=await fileSchema[_0x4afc72(0x16c,'Ol(*')]({'_id':_0x383e7c[_0x4afc72(0x14c,'vcC!')][0x0]['_id']})[_0x4afc72(0x13f,'d5ZA')]();if(!_0x52e9f1)return _0x4afc72(0x150,'%w[#')==='GgZbl'?(_0x3de37e[_0x4afc72(0x197,'5aSv')](0x194),_0x1ef61e[_0x4afc72(0x186,'1Vr)')]({'message':_0x4afc72(0x147,'Ol(*'),'message':_0x4afc72(0x189,'(avj')+_0x4afc72(0x135,'5aSv')}),_0x146c76()):(_0x261ecf['status'](0x194),_0x261ecf['json']({'message':_0x4afc72(0x179,'Hrg1'),'message':_0x4afc72(0x149,'TjHu')+_0x4afc72(0x182,'wftc')}),_0x40999a());var _0x319fb4=[_0x4afc72(0x13b,'%w[#'),_0x4afc72(0x193,'u(q]')+_0x4afc72(0x17c,'OI19')+_0x52e9f1[_0x4afc72(0x156,'IP!!')],_0x4afc72(0x164,'Kc#o')+_0x4afc72(0x175,'XKs2')+_0x4afc72(0x15a,'C)M@'),_0x4afc72(0x16b,'Hrg1')+_0x4afc72(0x13c,'sVZR')+'N:'+_0x52e9f1['targetDura'+_0x4afc72(0x188,'IP!!')],_0x4afc72(0x170,'v)U2')+'IA-SEQUENC'+_0x4afc72(0x195,'Ip2]')];const _0x46f920=_0x52e9f1[_0x4afc72(0x18f,'@)JU')][_0x4afc72(0x155,'u(q]')]((_0x277f52,_0x4e56db)=>{return new Promise((_0x568587,_0x515941)=>{const _0x4bc8d1=a30_0x4e34;encoded_url=encodeUrl(_0x4bc8d1(0x18e,'YX(V')+'t-phinf.ps'+'tatic.net'+_0x277f52[_0x4bc8d1(0x140,'rPRi')]),_0x568587(process[_0x4bc8d1(0x194,'wftc')][_0x4bc8d1(0x18c,'XbKE')]+'/api/hls/'+encoded_url);});});await Promise[_0x4afc72(0x171,'C)M@')](_0x46f920)[_0x4afc72(0x146,'#*H0')](_0xd8f9c7=>{const _0x4820ba=_0x4afc72;index=0x0;for(const _0x441b19 of _0xd8f9c7){_0x319fb4[_0x4820ba(0x176,'sVZR')]('#EXTINF:'+_0x52e9f1[_0x4820ba(0x15b,'sVZR')][index]['duration']+','),_0x319fb4[_0x4820ba(0x159,'IP!!')](_0x441b19),index+=0x1;}_0x319fb4['push'](_0x4820ba(0x17e,'vcC!')+'LIST');})[_0x4afc72(0x196,']#Wl')](()=>{const _0xe69b74=_0x4afc72,_0x507fca=_0x319fb4['join']('\x0a');redisClient[_0xe69b74(0x190,'PBQo')](_0x129f5a[_0xe69b74(0x180,'(avj')]['id'],0x14*0xe10,_0x507fca,_0x11b1be=>{const _0x4c013b=_0xe69b74;if(_0x4c013b(0x15f,'XbKE')!==_0x4c013b(0x141,'6%5L')){if(_0x11b1be){if(_0x4c013b(0x136,'Ip2]')!=='nHYTV')_0x5e6901(_0x11b1be);else{const _0x1632e8=_0x267b34?function(){const _0x1d3d60=_0x4c013b;if(_0x3734f6){const _0x3961ed=_0x467375[_0x1d3d60(0x133,'PBQo')](_0xb21a41,arguments);return _0x2d7dab=null,_0x3961ed;}}:function(){};return _0x27702c=![],_0x1632e8;}}return _0x261ecf[_0x4c013b(0x187,'evco')](_0x507fca),_0x40999a();}else _0x56b062[_0x4c013b(0x14a,'Kc#o')](_0x4c013b(0x17b,'sVZR')+_0x449b60[_0x4c013b(0x13a,'gN[%')][_0x23abde][_0x4c013b(0x183,'Ol(*')]+','),_0x22f830[_0x4c013b(0x17a,'iF4V')](_0x52239b),_0x403c20+=0x1;});});});})[_0x4abb61(0x15e,'@tcn')](_0x4cde78=>{const _0x30f038=_0x4abb61;if(_0x30f038(0x172,'v)U2')!==_0x30f038(0x153,'aEUy')){_0x261ecf[_0x30f038(0x168,'YV8R')]({'status':_0x30f038(0x184,'evco'),'message':_0x4cde78['message']});return;}else{const _0x1d82cc=_0x90e439['apply'](_0x5d4aae,arguments);return _0x3ca637=null,_0x1d82cc;}});};function a30_0x31d5(){const _0x31664e=['pSkrBG','xuddNa','m1z0qG','WRlcI8kAwYSt','W544c8o0WQ8','W5mteSoGshPii8kMWOu','WQ7cISkvsW','sWJcUCkrW5e','DaNdG8kEW47cRmkZ','WOHgWOOEmLT9W7yQWQq','C8oWWOFcJq','WO5ywSkJaZTonq','hwhdKSoPqmknW7u','f3ftW5tcM3ddMCorFCkr','W61DW4BdS2XQ','lSkoj2npW4KIWPLjWO4','mHlcTNa','aWlcRKq2','W6alWP0FtG','baRdQ8oZWRhcLtpdOmkZyKtdQmo8W54','eX/cLeyHyWWN','WQWEWRFcGa','W5JcStZdMclcN8k3WP/cGmoa','WPVdM2NcKW','zSobyse','h8kzWOZdPJ54l3BdIce4zmkxua','WQ4wW4JcI3LNW6FdRSouWQC','ru3cQCkQ','WRSfWPBcRJa3W7ZdU8owoCkkW5zN','ECoAWPCFW58','b8oKdY7dOeG','yCosWOjiWReEW7hdOq','W4WTgSoQWRvR','xfZdG8opEq','ySkxWPZdO28','WOP5smoQWP9jCCkywq','suNdRSk/WPK','WQpdQNZcTmoyChGFyWVdQCkQ','uKmL','WQNcRSkNrCopWPSv','WQShWQhcHSkmW6VdQq','W5NcIJ3dICo1WQrsrmk4DmksdW','WQ/cVSkMxG','W7mWWP3cPW','i1fGW73cQ0ZdRmo2','ixBcJSoPW5m','x0VcTCkS','WPxdVMFcLwq','DCooW4RcP34','W4SNkmoSWQrQt8kk','E8k/hgDaW6Dr','bHlcOwu9','W7dcI8kPFZG2W74','fN3cGSkwWQxdVIVcGmkwrG','fbxcPKaWyG','mSkHWOJcV8kfW7u6W4C','WPTCvmkI','ja8JW7u','zG02WQtdUbxdQCocq8kyW4/cUG','zCkPq31iW6broq','ywldRqGUA8owWQOrW7C','zSojzIKUWOGQ','AG/cNxiOgSoqW5D7WOW','mfldHmowWOZdQCo9schdJW','kCooWOtdHCot','i8oqWRhcVCoXW49+W4Hfwq','WQGkWR4','ASoaWPpcJmku','vuNdUfm','FHpcGSkCW6JcRSkZ','W50vW4yfW4VdI8kOFCkcrG','ief0W7G','uKhdTeaAqdi1wq','CWSGgce8WOmltfG8vW','jeBdNda','qmkLWOldPW','C3fFW4tcH2ZdNSk/','wSkti0uB','fGZcOSktjSkxWOSzbKq','pmo2WQmUWOfGW4CGpmk4','yCocBHOp','vK3dPfzFWQK','u2OuW6JcRfxdSGORW4FcVq','nmkkDSks','zmovEIWvWO8GWPG','WOpdLYFcQG','W54BW5fyDg1XW5KCWR3dPG','dcToWRm','WPBdKYdcOG','WQVcOSk6wa','qexdULisWRqHW6FcMCoU','WOJdVKZcOc/cQ2XzC8oPfYBcRG','WR0jWOhcL8otWRtcS8kh','xmoTW63cLq','qmk0x2JcSXFcQCozWRT5t8oP','WOnDWPaDFayNW6uXWRG','o8oBWPpdHmopDeNcSG','W4WTd8o9WQ4','pSkhAmkzWPmLyG','hSoUbZi','hgCndmoVWPDTyCkdgG'];a30_0x31d5=function(){return _0x31664e;};return a30_0x31d5();}