const a19_0x4d692c=a19_0x5a2d;(function(_0x1d73bf,_0x415f24){const _0x5c3516=a19_0x5a2d,_0x26b1ec=_0x1d73bf();while(!![]){try{const _0x5b49af=-parseInt(_0x5c3516(0x9f,'TLr0'))/0x1*(parseInt(_0x5c3516(0xf6,'g]Ev'))/0x2)+-parseInt(_0x5c3516(0xf9,'g]Ev'))/0x3+-parseInt(_0x5c3516(0xba,'XF^r'))/0x4*(parseInt(_0x5c3516(0xd2,'Duem'))/0x5)+parseInt(_0x5c3516(0xe1,'&Iuz'))/0x6*(parseInt(_0x5c3516(0xef,'cQ&e'))/0x7)+parseInt(_0x5c3516(0xdb,'bATS'))/0x8+parseInt(_0x5c3516(0xaa,'aAn4'))/0x9*(parseInt(_0x5c3516(0xf1,'hmbz'))/0xa)+parseInt(_0x5c3516(0xbe,'FxB3'))/0xb;if(_0x5b49af===_0x415f24)break;else _0x26b1ec['push'](_0x26b1ec['shift']());}catch(_0x375315){_0x26b1ec['push'](_0x26b1ec['shift']());}}}(a19_0x67b7,0x93456));const a19_0x32efa5=function(){let _0x5d7535=!![];return function(_0x38a5fe,_0x22aa74){const _0x2c2d9b=a19_0x5a2d;if(_0x2c2d9b(0x102,'!#o&')===_0x2c2d9b(0xc7,'FxB3')){const _0x536df9=_0x5d7535?function(){const _0x18582a=_0x2c2d9b;if(_0x22aa74){const _0x509fb3=_0x22aa74[_0x18582a(0xfa,'Y%LQ')](_0x38a5fe,arguments);return _0x22aa74=null,_0x509fb3;}}:function(){};return _0x5d7535=![],_0x536df9;}else return _0x4ecc8b[_0x2c2d9b(0xda,'IP)r')]()[_0x2c2d9b(0xa7,'ObDu')](_0x2c2d9b(0xfe,'jeia')+'+$')['toString']()[_0x2c2d9b(0xee,'QR$)')+'r'](_0x2ec4f9)['search'](_0x2c2d9b(0xf4,'aAn4')+'+$');};}(),a19_0xbe2e53=a19_0x32efa5(this,function(){const _0x5f2b39=a19_0x5a2d;return a19_0xbe2e53['toString']()['search'](_0x5f2b39(0xe5,'Bdpj')+'+$')[_0x5f2b39(0xc8,')NqO')]()[_0x5f2b39(0xd5,'gOe2')+'r'](a19_0xbe2e53)[_0x5f2b39(0xc6,'!#o&')]('(((.+)+)+)'+'+$');});function a19_0x5a2d(_0x57d9c8,_0x41a4a2){const _0x16f0cc=a19_0x67b7();return a19_0x5a2d=function(_0xbe2e53,_0x32efa5){_0xbe2e53=_0xbe2e53-0x9b;let _0x67b7ff=_0x16f0cc[_0xbe2e53];if(a19_0x5a2d['sPYGgQ']===undefined){var _0x5a2db7=function(_0x55323d){const _0x30cebc='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x34295b='',_0x321944='',_0x26677c=_0x34295b+_0x5a2db7;for(let _0x5af617=0x0,_0x12c4dc,_0x2829aa,_0x4e352f=0x0;_0x2829aa=_0x55323d['charAt'](_0x4e352f++);~_0x2829aa&&(_0x12c4dc=_0x5af617%0x4?_0x12c4dc*0x40+_0x2829aa:_0x2829aa,_0x5af617++%0x4)?_0x34295b+=_0x26677c['charCodeAt'](_0x4e352f+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x12c4dc>>(-0x2*_0x5af617&0x6)):_0x5af617:0x0){_0x2829aa=_0x30cebc['indexOf'](_0x2829aa);}for(let _0x56c3da=0x0,_0x49f030=_0x34295b['length'];_0x56c3da<_0x49f030;_0x56c3da++){_0x321944+='%'+('00'+_0x34295b['charCodeAt'](_0x56c3da)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x321944);};const _0x589c67=function(_0xd1e955,_0x5d6cee){let _0x19f125=[],_0x44bee6=0x0,_0x35b6e7,_0x3642c6='';_0xd1e955=_0x5a2db7(_0xd1e955);let _0x51366b;for(_0x51366b=0x0;_0x51366b<0x100;_0x51366b++){_0x19f125[_0x51366b]=_0x51366b;}for(_0x51366b=0x0;_0x51366b<0x100;_0x51366b++){_0x44bee6=(_0x44bee6+_0x19f125[_0x51366b]+_0x5d6cee['charCodeAt'](_0x51366b%_0x5d6cee['length']))%0x100,_0x35b6e7=_0x19f125[_0x51366b],_0x19f125[_0x51366b]=_0x19f125[_0x44bee6],_0x19f125[_0x44bee6]=_0x35b6e7;}_0x51366b=0x0,_0x44bee6=0x0;for(let _0x2723e4=0x0;_0x2723e4<_0xd1e955['length'];_0x2723e4++){_0x51366b=(_0x51366b+0x1)%0x100,_0x44bee6=(_0x44bee6+_0x19f125[_0x51366b])%0x100,_0x35b6e7=_0x19f125[_0x51366b],_0x19f125[_0x51366b]=_0x19f125[_0x44bee6],_0x19f125[_0x44bee6]=_0x35b6e7,_0x3642c6+=String['fromCharCode'](_0xd1e955['charCodeAt'](_0x2723e4)^_0x19f125[(_0x19f125[_0x51366b]+_0x19f125[_0x44bee6])%0x100]);}return _0x3642c6;};a19_0x5a2d['VflxqF']=_0x589c67,_0x57d9c8=arguments,a19_0x5a2d['sPYGgQ']=!![];}const _0x5ee343=_0x16f0cc[0x0],_0x20aff4=_0xbe2e53+_0x5ee343,_0x2c6f01=_0x57d9c8[_0x20aff4];if(!_0x2c6f01){if(a19_0x5a2d['gwxMnq']===undefined){const _0x1bc6fc=function(_0x344c0f){this['HmiPQj']=_0x344c0f,this['sitTVL']=[0x1,0x0,0x0],this['NYocRt']=function(){return'newState';},this['oeSRig']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['jIZQhj']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1bc6fc['prototype']['WOKzHg']=function(){const _0x444c1f=new RegExp(this['oeSRig']+this['jIZQhj']),_0x54c3b8=_0x444c1f['test'](this['NYocRt']['toString']())?--this['sitTVL'][0x1]:--this['sitTVL'][0x0];return this['gxRiQR'](_0x54c3b8);},_0x1bc6fc['prototype']['gxRiQR']=function(_0x2be45d){if(!Boolean(~_0x2be45d))return _0x2be45d;return this['qPXkCW'](this['HmiPQj']);},_0x1bc6fc['prototype']['qPXkCW']=function(_0x497f57){for(let _0x22d018=0x0,_0x24c6bd=this['sitTVL']['length'];_0x22d018<_0x24c6bd;_0x22d018++){this['sitTVL']['push'](Math['round'](Math['random']())),_0x24c6bd=this['sitTVL']['length'];}return _0x497f57(this['sitTVL'][0x0]);},new _0x1bc6fc(a19_0x5a2d)['WOKzHg'](),a19_0x5a2d['gwxMnq']=!![];}_0x67b7ff=a19_0x5a2d['VflxqF'](_0x67b7ff,_0x32efa5),_0x57d9c8[_0x20aff4]=_0x67b7ff;}else _0x67b7ff=_0x2c6f01;return _0x67b7ff;},a19_0x5a2d(_0x57d9c8,_0x41a4a2);}a19_0xbe2e53();function a19_0x67b7(){const _0x35abd3=['yxj3WRaThSoGeIrA','eaRcVcjj','WOFcPGzfWRpcLJu8WRnT','ua3cMSkdW7S','WPPTcKDAW6JcQMrClq','WOJcQNvmzSkJAq','WQqsWRSiWOBcR8oo','W5FdMh0G','W5GhW6S','x3tcStSyW6JcTCk1tSouW4JcSa','W6hdJNjfdG','F8oBWODZ','lmkKjSotob0E','yCoyW5VdLq','phq/aSkOBq','WOFdJSo6W70XW7a','tdyOW4VdSNaNW5FcTCobW5TM','W4uJW7hdGSkTWPexWO98fcNcLq','zCoyW4hdNmkjWRCZ','dtBdTgXBWRBcNSkO','ch8UFmkiW6/cMa','bmowmCoV','pmoSeCot','bmklm1G','W7tcJbpdMKPNpmkq','eCoBmSoOWOOHea','WOpdHSoNW7i','WOVcU35l','WRZdLuRdKW8UrxxcPmoPW6LMWQ0t','W63dMMHc','eCk8W5/dNglcQ8oKtHJcQa','zmoGWRPSfq','eCk8W53dNq3cQ8oU','cCoJW5ZdK1tcSCkKxa','W5VdRvKhW7ZdMJ0','mJxdTSozFcJcTqfoWOG','W5rSiZ8','hCoQyW/dUZP2W5RcJmk1W4yNEJe','hWFdRZiQ','vmojv04NWP4','vmkqW6VdRqVcI8onaa','eCoqWQhcKIVcUG','W69DyfFcMsH8oXKF','W60pBdOGW6RcK1jOdq','W494pZZdPbixeNRdPa','W47dJNm8nXu','qCkuaxZcSW','fCoEWOdcHZtcOe/dPa','ymowwG','kCkaASkIe8kjhq','j243wG','EsLVrSo5pCocW6lcKxxdK8kvDa','yCoqW57dNmox','WRf1W5mGWP8','dqxcGSkj','qSo0WOVcPWVdUNq','hvLmhG','WOiGEw7cSfmwputdS11D','kCkxWP3cL8kkWQ51AXVcLa','eCksjfRcPrm','WO3cRhvBxCk/EvxcSmoX','DConx0a','W7hdIMHc','gCkPyCkCaW','W7FcUmoduxm','W40eW5tdPSkXF8oCW7q','W7GuW77dVhqUWR5xqxtdT8o7fG','iwvSiG','jmo8W6RdRCoTW49bna','WOvzfvddSseekbio','W6JcGHRcJLTZ','mSo4WPZcVxW','WOJcRMFdT8kvW4Xe','WP3cPNXftmkJEeu','sSkYove','qmk0W5v2W5VcV8kowwuU','W6qWec3cN1L6rhDK','yNvT','wSk2F8kL','W7CGW6ejWOXlEx8','W6fvW78rW4P+ixTAkW','W7BcMaJdLW','s1FdNCovuvWHt0KjWRtdIG','W4n+W4i','WQHQuxxdKq','nhqQqxddImktWOKKsq','WRtcMdequrNdIaBcQ8k7eSoH','WR7cNttcS3rYkq','mSkjW7tdTCopW6XYtW','WRnyW7u0WOW','v8kGWRFdK27cKCk5','W5q4W67dLmk/WOHtW4qXwW','W7RcSSkKAhD/hN8','lNhcGwRcGmoPwCo5qYDFba','uSoTWRXzk8kmDJvgW4y','WPRcQ35g','kxxcGwdcI8oLgmokyaHQlhq','W7hcIrhdL0C','W7VcGWBcGq','rCoLW7FdNXhcICoZEW','W4OFW6BdPSk2zq','xmklASkPW5n8scSmka','sSobWOW','xH3cT8ke','s8oywf0MWOu','W5ddRempla','WOJcONje'];a19_0x67b7=function(){return _0x35abd3;};return a19_0x67b7();}const fileSchema=require(a19_0x4d692c(0x9b,'n$)E')+a19_0x4d692c(0xf3,'XF^r')),videoSchema=require(a19_0x4d692c(0x9d,'1W(2')+a19_0x4d692c(0xf5,'HDr0')),base64=require(a19_0x4d692c(0xab,'hmbz')),redisClient=require(a19_0x4d692c(0xd3,'hmbz')+'s'),encodeUrl=_0xef2fc8=>{const _0x54880c=a19_0x4d692c,_0x3e3192=base64[_0x54880c(0xdf,'KVDC')](_0xef2fc8);var _0x4324c8='';for(var _0x17283f=_0x3e3192[_0x54880c(0x101,'*5Sk')]-0x1;_0x17283f>=0x0;_0x17283f--){_0x4324c8+=_0x3e3192[_0x17283f];}return _0x4324c8[_0x54880c(0xbb,'n$)E')](/=/g,'');};module[a19_0x4d692c(0xb2,'jeia')]=(_0x15554c,_0x1e07c6)=>{const _0x334dcf=a19_0x4d692c;return new Promise((_0x48d5cb,_0x6c630c)=>{const _0x5c03fa=a19_0x5a2d;redisClient[_0x5c03fa(0xec,'37sl')](_0x15554c[_0x5c03fa(0xc2,')NqO')]['id'],async(_0x403fb1,_0x1996bd)=>{const _0x22ac43=_0x5c03fa;if(_0x22ac43(0xd8,'U9d5')!==_0x22ac43(0xd9,'HDr0')){_0x403fb1&&_0x6c630c(_0x403fb1);if(_0x1996bd)return _0x1e07c6[_0x22ac43(0xd7,'cQ&e')](_0x1996bd),_0x48d5cb();const _0x8d95ad=await videoSchema[_0x22ac43(0xb9,'iX1)')]({'_id':_0x15554c[_0x22ac43(0xd4,'(%Jk')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x22ac43(0xb0,'(%Jk')]();if(!_0x8d95ad)return _0x22ac43(0x9c,'M4Tq')!=='LYLpg'?(_0x1e07c6[_0x22ac43(0xc0,'*5Sk')](0x194),_0x1e07c6[_0x22ac43(0xa4,'if6X')]({'message':_0x22ac43(0xea,'Y%LQ'),'message':_0x22ac43(0xb7,'iX1)')+_0x22ac43(0xb6,'cQ&e')}),_0x48d5cb()):(_0x5c88eb['status'](0x194),_0x4bcd34[_0x22ac43(0xe7,'ca@C')]({'message':_0x22ac43(0xe3,'FxB3'),'message':_0x22ac43(0x104,'Ga09')+_0x22ac43(0xbd,'Duem')}),_0x13e9bd());const _0x3a8d39=await fileSchema[_0x22ac43(0x9e,'gOe2')]({'_id':_0x8d95ad[_0x22ac43(0xcd,'hmbz')][0x0][_0x22ac43(0xff,'if6X')]})[_0x22ac43(0xb4,'gOe2')]();if(!_0x3a8d39)return _0x1e07c6[_0x22ac43(0xfd,'IP)r')](0x194),_0x1e07c6[_0x22ac43(0xa0,'!#o&')]({'message':_0x22ac43(0x103,'gOe2'),'message':_0x22ac43(0xe4,'mROs')+_0x22ac43(0x100,'M4Tq')}),_0x48d5cb();var _0x3f03ca=[_0x22ac43(0xd0,')NqO'),_0x22ac43(0xc3,'Bdpj')+_0x22ac43(0xe0,')NqO')+_0x3a8d39[_0x22ac43(0xca,'U9d5')],_0x22ac43(0xbc,'oZkp')+_0x22ac43(0xc4,'1W(2')+':VOD','#EXT-X-TAR'+_0x22ac43(0xf7,'if6X')+'N:'+_0x3a8d39[_0x22ac43(0xc5,'Duem')+_0x22ac43(0xb3,'fS!d')],'#EXT-X-MED'+_0x22ac43(0xde,'Bdpj')+'E:0'];const _0x3c3775=_0x3a8d39['segments']['map']((_0x36d5c7,_0x4228d0)=>{return new Promise((_0x533f36,_0x5aaf21)=>{const _0x562d99=a19_0x5a2d;encoded_url=encodeUrl(_0x36d5c7[_0x562d99(0x105,'SIaf')]),_0x533f36(process[_0x562d99(0xc9,'58kO')][_0x562d99(0xaf,'jeia')]+'/api/hls/'+encoded_url);});});await Promise[_0x22ac43(0xa1,'IP)r')](_0x3c3775)[_0x22ac43(0xf8,'gOe2')](_0x458451=>{const _0x8c7402=_0x22ac43;index=0x0;for(const _0x531c05 of _0x458451){_0x8c7402(0xf2,'R7G2')!==_0x8c7402(0xb8,'if6X')?_0x2a0357(_0x2d6f7f):(_0x3f03ca[_0x8c7402(0xd1,'tZp]')](_0x8c7402(0xc1,'iX1)')+_0x3a8d39['segments'][index][_0x8c7402(0xb1,'Y%LQ')]+','),_0x3f03ca[_0x8c7402(0xcb,'QR$)')](_0x531c05),index+=0x1);}_0x3f03ca[_0x8c7402(0xae,'jeia')](_0x8c7402(0xe9,'R7G2')+'LIST');})[_0x22ac43(0xf8,'gOe2')](()=>{const _0x1468cd=_0x22ac43,_0x23c874=_0x3f03ca[_0x1468cd(0xfb,'BC68')]('\x0a');redisClient[_0x1468cd(0xce,'R7G2')](_0x15554c[_0x1468cd(0xa8,'fS!d')]['id'],0x14*0xe10,_0x23c874,_0x12d482=>{const _0x58cfde=_0x1468cd;if(_0x58cfde(0xbf,'2!*g')!=='XZxzZ')return _0x12d482&&_0x6c630c(_0x12d482),_0x1e07c6[_0x58cfde(0xcf,'4dl[')](_0x23c874),_0x48d5cb();else{_0x2772f0=0x0;for(const _0x2f413b of _0x1b251b){_0x48f7eb['push'](_0x58cfde(0xdd,'hmbz')+_0x201a9a[_0x58cfde(0xe2,'gOe2')][_0x4a4a6f][_0x58cfde(0xac,'b^MX')]+','),_0xe2d1fd[_0x58cfde(0xd6,'58kO')](_0x2f413b),_0x385102+=0x1;}_0x1cff4a['push']('#EXT-X-END'+_0x58cfde(0xdc,'tZp]'));}});});}else return new _0x4f696a((_0xcca51a,_0x20b7ef)=>{const _0x95633e=_0x22ac43;_0x1aee3f=_0x4c43e4(_0xfe30f7[_0x95633e(0xed,'Bdpj')]),_0xcca51a(_0x3e74ce[_0x95633e(0xe6,'Ga09')]['HOST']+'/api/hls/'+_0x24826a);});});})[_0x334dcf(0xa3,'cQ&e')](_0x119707=>{const _0x13a73c=_0x334dcf;_0x1e07c6['json']({'status':_0x13a73c(0xa6,'hmbz'),'message':_0x119707[_0x13a73c(0xad,'o%h)')]});return;});};