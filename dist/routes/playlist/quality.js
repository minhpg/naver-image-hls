const a20_0x371554=a20_0x120f;(function(_0x5f13ed,_0x9c64e5){const _0x4a8ac4=a20_0x120f,_0x5dcf18=_0x5f13ed();while(!![]){try{const _0x21e79a=parseInt(_0x4a8ac4(0x127,'U9UL'))/0x1+parseInt(_0x4a8ac4(0xdf,'FhK!'))/0x2*(parseInt(_0x4a8ac4(0x109,'zMaO'))/0x3)+parseInt(_0x4a8ac4(0xe9,'zMaO'))/0x4*(parseInt(_0x4a8ac4(0x134,'7KWH'))/0x5)+-parseInt(_0x4a8ac4(0xe4,'Vg23'))/0x6+parseInt(_0x4a8ac4(0x137,'jr&r'))/0x7+-parseInt(_0x4a8ac4(0x124,'jr&r'))/0x8+parseInt(_0x4a8ac4(0xed,'zV7y'))/0x9*(-parseInt(_0x4a8ac4(0x102,'Vg23'))/0xa);if(_0x21e79a===_0x9c64e5)break;else _0x5dcf18['push'](_0x5dcf18['shift']());}catch(_0x264048){_0x5dcf18['push'](_0x5dcf18['shift']());}}}(a20_0x23cf,0x3b381));const a20_0xdbd37c=function(){let _0x506d6e=!![];return function(_0x4f1542,_0x546570){const _0xa81453=_0x506d6e?function(){const _0x39cd6d=a20_0x120f;if('wSbCJ'!==_0x39cd6d(0xe5,'te*w'))_0x3eb3f2['push'](_0x39cd6d(0xef,'7KWH')+_0x226598['segments'][_0x4c7fa8][_0x39cd6d(0x115,'mLY9')]+','),_0x36c402[_0x39cd6d(0x12c,'0^($')](_0x58e314),_0x621a4c+=0x1;else{if(_0x546570){const _0x178c09=_0x546570[_0x39cd6d(0x121,'Uo5z')](_0x4f1542,arguments);return _0x546570=null,_0x178c09;}}}:function(){};return _0x506d6e=![],_0xa81453;};}(),a20_0x436b3e=a20_0xdbd37c(this,function(){const _0x961e2a=a20_0x120f;return a20_0x436b3e['toString']()[_0x961e2a(0xf1,'WbGz')](_0x961e2a(0xe0,'u%!A')+'+$')['toString']()[_0x961e2a(0x119,'cLDB')+'r'](a20_0x436b3e)[_0x961e2a(0xf2,'epQH')](_0x961e2a(0x10d,'Iqlb')+'+$');});a20_0x436b3e();function a20_0x23cf(){const _0x2df09f=['vXddQgD9W6RcLWddVJq','W4ePW7hcOq','w2xdK8kfW7TsDa','WPHvha','e1dcLSk8hdpdQSo4W5be','WQNcT8kstSoYWQxdJxxdVXy','s03dUWhdOG','xmoBW43cQmks','W6lcTbNdSSkmdCkCW61FtW','drlcGsxdQMFcPdLV','rvpcVCkNAra','WPlcLmosmv4h','ymk0WRxcL8kyD8kkqW','WPlcGmotoa','WRNdGf0JWQNcJbdcLq','W5tdLtddR28','WORcSxSBp8kCW6PznSkT','bfG7zCo2','W4pcS8oNsCkAWQZcTx3dTbe','sqpcRCoF','W5BcTxO','W4FcKMpdQa','W4hcGY5EW4VcR8kWr8ohWPm','s8oIpmoe','W6v9W6zewa','xrNdL8o+','jCojBmkxwG','W6j1W51nb8kLW7hdNNaEWP10','CJ10WOKSd8osW6m','WPhcOXHU','kSkocvCvW5WJDcm','gXZdOmoOkKWXBSkeWPy','W6FdPmkZ','W4dcLCkgWQvNy8o3tSoFkG','eK0JbxRcGSoJW5ZdTSog','qx0ioq','txJdJCko','usK7WPNdQvDIW4FcGG','adFcQ8kxF8kk','W7ldRsVdI0q4','zevaW7WSAdu','W7iKucz/','hZFcOSkDBSkmW6/cTG','e8k+ymkFxWpdQmkNWQFcQG','W4FcHMldOsaC','W4y5W4xdHc0','W6z1W5Hhc8kNWP7dUw4bWQvuW6q','WO0cWP1skCoe','p8okkMqfW5e','rwLGW5S','WQGcW67dKCoaz2C','vGtcISk0','w27dTSkAW4G','WRaUdmod','WRiUWO8','k8oIFmkwxq','WO8omrJcJvBdNCkhW54','WPnVd08MA34ZWQVdGW','ESojW53cJG','WOFcJCofmW','yxL6qSkwWQf0WR8WiW','WOSdW43dU08JCgnwWRn+sq','gWhcP8kZqq','vWVcKCo0xNBcPa','xW3dJmoZq3pcRSk/','wxLTbG','urFdQq5nW4dcRsVdTW','W649W4JcHYVdQSouWQBcMfi','W4K0W6FcSCkqaSo5','W65+W7Lg','t3f6W4tdSW85W5xdT21mvui','cIeKWP4','aSoidCo+vrVdTSoC','W41UW6fVuW','WPpcK8oEB8ouWPW','W73cSSoNjSohzW','W6/dQ3JcJqG','WRyGWQNdJCkbgmkbWORcMa','WRfzcMSQpwW','W5ldHCkkkmo0WQldGhhdUdK','rwaEpW','WPGnWPK','W73dTmoLva','W4aKW6BcO8kfdmoZoG','WQdcKYddLCoeDq','W6ZdNglcLH/cI8oNqa','vuJdJW','vf7cOW','f1JdSCkzhgJdGmo3vmk1','vmoJmCkkDtVcKmkcWO/cSG','whtdJ8kpW7O','WO8aWPJcRWvnvNW','W4RcM008aSkGW5Ka','W5eWW5tdIq','WQJcNYldISoumCouW4G','W7VcRKpdLa','WR50WOlcVmk0yMxdMmkyWPRdH8kQ','W77cOSo1pa'];a20_0x23cf=function(){return _0x2df09f;};return a20_0x23cf();}function a20_0x120f(_0x350006,_0x3ccd5c){const _0x245b3d=a20_0x23cf();return a20_0x120f=function(_0x436b3e,_0xdbd37c){_0x436b3e=_0x436b3e-0xdc;let _0x23cfd7=_0x245b3d[_0x436b3e];if(a20_0x120f['qZWRdv']===undefined){var _0x120fc9=function(_0x5b1569){const _0x593810='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1de4a0='',_0x459413='',_0x195ced=_0x1de4a0+_0x120fc9;for(let _0x256a7f=0x0,_0x4b6361,_0x4a284c,_0x36168=0x0;_0x4a284c=_0x5b1569['charAt'](_0x36168++);~_0x4a284c&&(_0x4b6361=_0x256a7f%0x4?_0x4b6361*0x40+_0x4a284c:_0x4a284c,_0x256a7f++%0x4)?_0x1de4a0+=_0x195ced['charCodeAt'](_0x36168+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4b6361>>(-0x2*_0x256a7f&0x6)):_0x256a7f:0x0){_0x4a284c=_0x593810['indexOf'](_0x4a284c);}for(let _0x56a816=0x0,_0x49a5f1=_0x1de4a0['length'];_0x56a816<_0x49a5f1;_0x56a816++){_0x459413+='%'+('00'+_0x1de4a0['charCodeAt'](_0x56a816)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x459413);};const _0x63e1dd=function(_0x3554ee,_0x1ffb88){let _0x891333=[],_0x1274af=0x0,_0x3056e6,_0x2c6234='';_0x3554ee=_0x120fc9(_0x3554ee);let _0x128cc1;for(_0x128cc1=0x0;_0x128cc1<0x100;_0x128cc1++){_0x891333[_0x128cc1]=_0x128cc1;}for(_0x128cc1=0x0;_0x128cc1<0x100;_0x128cc1++){_0x1274af=(_0x1274af+_0x891333[_0x128cc1]+_0x1ffb88['charCodeAt'](_0x128cc1%_0x1ffb88['length']))%0x100,_0x3056e6=_0x891333[_0x128cc1],_0x891333[_0x128cc1]=_0x891333[_0x1274af],_0x891333[_0x1274af]=_0x3056e6;}_0x128cc1=0x0,_0x1274af=0x0;for(let _0x4a06cd=0x0;_0x4a06cd<_0x3554ee['length'];_0x4a06cd++){_0x128cc1=(_0x128cc1+0x1)%0x100,_0x1274af=(_0x1274af+_0x891333[_0x128cc1])%0x100,_0x3056e6=_0x891333[_0x128cc1],_0x891333[_0x128cc1]=_0x891333[_0x1274af],_0x891333[_0x1274af]=_0x3056e6,_0x2c6234+=String['fromCharCode'](_0x3554ee['charCodeAt'](_0x4a06cd)^_0x891333[(_0x891333[_0x128cc1]+_0x891333[_0x1274af])%0x100]);}return _0x2c6234;};a20_0x120f['PwZNyJ']=_0x63e1dd,_0x350006=arguments,a20_0x120f['qZWRdv']=!![];}const _0x158502=_0x245b3d[0x0],_0x2a5cf5=_0x436b3e+_0x158502,_0x1ea9d1=_0x350006[_0x2a5cf5];if(!_0x1ea9d1){if(a20_0x120f['gwppoO']===undefined){const _0x314a71=function(_0x1ab6df){this['qOAIzC']=_0x1ab6df,this['fPJUro']=[0x1,0x0,0x0],this['KbocvO']=function(){return'newState';},this['jauUFo']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['NJbXMf']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x314a71['prototype']['tXsdTV']=function(){const _0x3d635e=new RegExp(this['jauUFo']+this['NJbXMf']),_0x418161=_0x3d635e['test'](this['KbocvO']['toString']())?--this['fPJUro'][0x1]:--this['fPJUro'][0x0];return this['lpzYPN'](_0x418161);},_0x314a71['prototype']['lpzYPN']=function(_0x59b4d8){if(!Boolean(~_0x59b4d8))return _0x59b4d8;return this['ujsRBE'](this['qOAIzC']);},_0x314a71['prototype']['ujsRBE']=function(_0x1ab772){for(let _0x46ac6c=0x0,_0x418861=this['fPJUro']['length'];_0x46ac6c<_0x418861;_0x46ac6c++){this['fPJUro']['push'](Math['round'](Math['random']())),_0x418861=this['fPJUro']['length'];}return _0x1ab772(this['fPJUro'][0x0]);},new _0x314a71(a20_0x120f)['tXsdTV'](),a20_0x120f['gwppoO']=!![];}_0x23cfd7=a20_0x120f['PwZNyJ'](_0x23cfd7,_0xdbd37c),_0x350006[_0x2a5cf5]=_0x23cfd7;}else _0x23cfd7=_0x1ea9d1;return _0x23cfd7;},a20_0x120f(_0x350006,_0x3ccd5c);}const fileSchema=require('../../mode'+a20_0x371554(0xe6,'Iqlb')),videoSchema=require(a20_0x371554(0x128,')(mD')+'ls/video'),base64=require('base-64'),levelClient=require(a20_0x371554(0xff,'^ug9')+'l'),encodeUrl=_0x164f8b=>{const _0x189b8e=a20_0x371554,_0x505dda=base64['encode'](_0x164f8b);var _0x234df8='';for(var _0x3082de=_0x505dda[_0x189b8e(0x12f,'te*w')]-0x1;_0x3082de>=0x0;_0x3082de--){_0x234df8+=_0x505dda[_0x3082de];}return _0x234df8['replace'](/=/g,'');};module[a20_0x371554(0x10b,'x[lS')]=(_0x24db5d,_0x4f1731)=>{const _0x321710=a20_0x371554;return new Promise((_0xa81ba0,_0x545b27)=>{const _0x3f8a3f=a20_0x120f;levelClient['get'](_0x24db5d[_0x3f8a3f(0x135,'JMW0')]['id'],async(_0x3ca277,_0x57d933)=>{const _0x37efe0=_0x3f8a3f;if(_0x3ca277){if(!_0x3ca277['message'][_0x37efe0(0x105,'QTQd')](_0x37efe0(0xe3,'ku4I')+'und\x20in\x20dat'+_0x37efe0(0xfb,'QTQd'))){if(_0x37efe0(0x11a,'(!Pr')!=='aYBDa')_0x545b27(_0x3ca277);else{const _0x8816e3=_0x5cb2a0[_0x37efe0(0x120,'7KWH')]('\x0a');_0x194aac[_0x37efe0(0xfd,'V0tH')](_0x4edafa[_0x37efe0(0x138,'OKlI')]['id'],_0x8816e3,_0x5c27b7=>{const _0x1c38d4=_0x37efe0;return _0x5c27b7&&_0x323074(_0x5c27b7),_0x42625a[_0x1c38d4(0xe8,'ku4I')](_0x8816e3),_0x1c7759();});}}}if(_0x57d933){if('esUpA'===_0x37efe0(0x13d,'x[lS'))return _0x4f1731[_0x37efe0(0x126,'X5p6')](_0x57d933),_0xa81ba0();else{_0x1172ae=0x0;for(const _0xb5761b of _0x36c5e0){_0x3112ed[_0x37efe0(0x11e,'JMW0')](_0x37efe0(0x117,'AI@8')+_0x3a5fd0[_0x37efe0(0x133,'te*w')][_0x29f2a2][_0x37efe0(0xfa,'J5m7')]+','),_0x1f5fd0[_0x37efe0(0x11c,'^ug9')](_0xb5761b),_0x34582d+=0x1;}_0x3e20da[_0x37efe0(0xdc,'4c]w')](_0x37efe0(0x12b,'0^($')+_0x37efe0(0x106,'JMW0'));}}const _0x1299a8=await videoSchema['findOne']({'_id':_0x24db5d[_0x37efe0(0x114,'L(3L')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x37efe0(0x10a,'J5m7')]();!_0x1299a8&&(_0x4f1731[_0x37efe0(0x139,'I2X0')](0x194),_0x4f1731['end'](),_0xa81ba0());const _0x41e19d=await fileSchema['findOne']({'_id':_0x1299a8[_0x37efe0(0x101,'x[lS')][0x0][_0x37efe0(0x10c,'xIn#')]})[_0x37efe0(0xe2,'L(3L')]();!_0x41e19d&&(_0x37efe0(0xde,'jvIg')!==_0x37efe0(0xf3,'x9*5')?_0x265057(_0x40992b):(_0x4f1731['status'](0x194),_0x4f1731[_0x37efe0(0xdd,'jr&r')](),_0xa81ba0()));var _0x3b80d3=[_0x37efe0(0x13b,'5ISm'),_0x37efe0(0x111,'QTQd')+'SION:'+_0x41e19d[_0x37efe0(0xf5,'xIn#')],'#EXT-X-PLA'+'YLIST-TYPE'+_0x37efe0(0x13c,'te*w'),_0x37efe0(0x11f,'X5p6')+_0x37efe0(0x12a,'$WsI')+'N:'+_0x41e19d['targetDura'+_0x37efe0(0xee,'zV7y')],_0x37efe0(0x11b,'WbGz')+_0x37efe0(0x10e,'WbGz')+_0x37efe0(0x11d,'Ke$g')];const _0x191767=_0x41e19d[_0x37efe0(0x125,'n*o1')]['map']((_0x114ea0,_0x13ab76)=>{const _0x17797a=_0x37efe0;if(_0x17797a(0x110,'8!En')===_0x17797a(0x118,'Ke$g'))_0x5c0e1c+=_0x57bd83[_0x1af8d4];else return new Promise((_0x287cb7,_0x320ad2)=>{const _0x3f9dc2=_0x17797a;_0x3f9dc2(0xf0,'Uo5z')===_0x3f9dc2(0x132,'u%!A')?(encoded_url=encodeUrl(_0x114ea0[_0x3f9dc2(0x123,'jvIg')]),_0x287cb7(process[_0x3f9dc2(0xf8,'OKlI')][_0x3f9dc2(0xf9,'&oJD')]+_0x3f9dc2(0x12e,'zV7y')+encoded_url)):!_0x5ae3a9[_0x3f9dc2(0x131,'v3or')][_0x3f9dc2(0xfc,'x9*5')](_0x3f9dc2(0xea,'6Spy')+_0x3f9dc2(0x100,'7KWH')+_0x3f9dc2(0x130,'Ke$g'))&&_0x2d47cb(_0x4efa8f);});});await Promise[_0x37efe0(0xfe,')(mD')](_0x191767)[_0x37efe0(0x104,'6Spy')](_0x32a2dd=>{const _0x622104=_0x37efe0;index=0x0;for(const _0x4ffbff of _0x32a2dd){_0x3b80d3[_0x622104(0x116,'L(3L')](_0x622104(0x103,'cLDB')+_0x41e19d['segments'][index][_0x622104(0xe7,'Iqlb')]+','),_0x3b80d3[_0x622104(0x108,'epQH')](_0x4ffbff),index+=0x1;}_0x3b80d3[_0x622104(0xe1,'8!En')](_0x622104(0x12b,'0^($')+_0x622104(0x13a,'v3or'));})[_0x37efe0(0xf7,'0^($')](()=>{const _0x33a7fe=_0x37efe0,_0x3c6920=_0x3b80d3['join']('\x0a');levelClient[_0x33a7fe(0x129,'@!dQ')](_0x24db5d[_0x33a7fe(0x113,')(mD')]['id'],_0x3c6920,_0x2e92bd=>{const _0x1ebfaa=_0x33a7fe;return _0x2e92bd&&_0x545b27(_0x2e92bd),_0x4f1731[_0x1ebfaa(0x12d,'x[lS')](_0x3c6920),_0xa81ba0();});});});})[_0x321710(0x136,'6Spy')](_0x42fb07=>{const _0x5d3efd=_0x321710;if(_0x5d3efd(0x10f,'Yd!]')==='wsfQS')_0x5dd384(_0x1611af);else{_0x4f1731[_0x5d3efd(0xec,'Uo5z')]({'status':_0x5d3efd(0x122,'Iqlb'),'message':_0x42fb07[_0x5d3efd(0xeb,'J5m7')]});return;}});};