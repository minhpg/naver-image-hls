function a19_0x5db7(){const _0x567176=['W51gWQ7cT2RcLw90bvhcL8oQW4G','kL/dSta','WPGztJvbW4aRstPJhSokW68','EIaaW7b6W5q/fSkqWQm','fvVcMgG/W7iF','wCkpW4tdSa','ASoldguTW597W4tdVSok','wbBcUgxcKhFdV8oxvLW','h8o1jxu','WPNcMCkIA8kIW60EWPBcPCkPW4i','W7SwW4xcPbGWE2K','WPZcMCkKASkVWPzYWO/cGCkpW5SFW50','AmoaaZ07W5LlW4hdNG','rSkmbHW','CXT1W7BcVqnHW6i','BWKOW6hcUrq','AN8tWO1MW4RdSXlcNG','W7azW5xcRubIkG','Fubv','kCont0a','WRqtfCkK','lSk5tmka','DXtcShOMWRZdQrHoAG','WOVdHCkVWPGdWPBdQCk/W58j','x3ldTx0EgCkAuW','jt4vW4q','pSkBWPa','x8kgdGdcKt8','WOPQl1vuWQe2FHbd','WORdOSoht8oVyq','cLZdLNOJW60','WQ0CeGVcLhC','lLfSWRldOfu3W48bfSoNdmkq','Ba07W7lcTW8','fmk/WRqOW4xdLmorWODbEG','Dci0WPVdRdiD','efhdUY7dJq','W5KDW5/dQam7AJPFWOm','W5mNWPldNhxcSmorW7hdUCo3','W7vtv8o7WQ7dUHFdM3RdSmk0','WPeqW5imW5PcDSk+','nq8lWQ7dRIy','W7pdHCkOWOhdT8kMr2v6u0K','W6fdlCoc','W4CcWPuXtCkLtglcPG','W4DrW6qUW7PUuCkD','FCkLW7NdGYxdNW','W6VdGZJdG8kiW53dN1u','WOmwWQVdVc3cMW','WQexDCoKsYHJW7y','lCo1W4C','cmoYlMH4msXgWQJcTa','k8o6W4xcJGC','W6fGjfu','W6vxlmonW4xdQCkRWRJcJJa','WO81W7KpW5G','WPvkW501ra','W5HnWQVcVgVcLwrfoNNcGCoNW4O','W7xdOguLhd/cKCksfSo8WPFcNJm','W7muW4O','W6zlFSoaqa5UW5C','W7/dGYS','aComzha','W4iQW6NcKdqlwLv0WQ0','hvRdNNGZ','W6SzW4JcOdK','iw1pWRm0WPnGta','WORdTmobqW','pw3cTJldTrddHJivW6W','Bmo4dCoqWPxdLmonjSkCfCowWQJcMG','omoDt00','WRSqna','l8oXlxrV','be8gWQ9VBg4','krWwW5FdPCkjfmoHW7GWWRm','gCo4mhDTidW','o8kIwW','W5RcUSktf8k7qr/dQmosWPJcPW','WPNdP8oAb8o1W4ms','kxRdUfypW4e+WP88DG','W7bJpLiTW5rpCWfu','WOFcVSkY','WQadB8kDWPFdNSkfWONcLWjj','zmkUW7pcHdJdMCoXW4GjWRi','xtTPvtpdR8kYW4e','W43dHCoZ','Emk9yWegWOvm','AwNcHs/cKq','W7xdGmohW6BcVSkSxNm'];a19_0x5db7=function(){return _0x567176;};return a19_0x5db7();}const a19_0x311b90=a19_0x32e3;(function(_0x5a5d70,_0x223aa8){const _0x5b281d=a19_0x32e3,_0xc786e4=_0x5a5d70();while(!![]){try{const _0x469f99=parseInt(_0x5b281d(0x1c5,'3w2u'))/0x1*(parseInt(_0x5b281d(0x1cc,'am$l'))/0x2)+-parseInt(_0x5b281d(0x1c9,'sXOt'))/0x3*(-parseInt(_0x5b281d(0x175,'v*GT'))/0x4)+-parseInt(_0x5b281d(0x1a8,'rGBZ'))/0x5*(parseInt(_0x5b281d(0x1ab,'9&]r'))/0x6)+-parseInt(_0x5b281d(0x183,'m(Oi'))/0x7+parseInt(_0x5b281d(0x1ba,'0f0F'))/0x8*(parseInt(_0x5b281d(0x1c2,'z0Zx'))/0x9)+parseInt(_0x5b281d(0x1a4,'DGSA'))/0xa*(parseInt(_0x5b281d(0x1a1,'am$l'))/0xb)+-parseInt(_0x5b281d(0x1ad,'9&]r'))/0xc;if(_0x469f99===_0x223aa8)break;else _0xc786e4['push'](_0xc786e4['shift']());}catch(_0x246fc4){_0xc786e4['push'](_0xc786e4['shift']());}}}(a19_0x5db7,0x6347a));const a19_0x587c4a=function(){let _0x1d58c2=!![];return function(_0x922655,_0x2bd9ad){const _0x1a7aa3=_0x1d58c2?function(){const _0x29c58a=a19_0x32e3;if(_0x29c58a(0x191,'8gsU')!==_0x29c58a(0x180,'RXgS')){if(_0x2bd9ad){const _0x4c283c=_0x2bd9ad[_0x29c58a(0x181,'v*GT')](_0x922655,arguments);return _0x2bd9ad=null,_0x4c283c;}}else _0x26c6bf(_0x1d8d67);}:function(){};return _0x1d58c2=![],_0x1a7aa3;};}(),a19_0x29c871=a19_0x587c4a(this,function(){const _0x2ba9cf=a19_0x32e3;return a19_0x29c871['toString']()[_0x2ba9cf(0x1bd,'b1lQ')]('(((.+)+)+)'+'+$')[_0x2ba9cf(0x185,'%(Ft')]()[_0x2ba9cf(0x17c,'8gsU')+'r'](a19_0x29c871)[_0x2ba9cf(0x1c3,'z0Zx')](_0x2ba9cf(0x1a5,'0TyJ')+'+$');});function a19_0x32e3(_0x5b02ec,_0x88775){const _0x57aedd=a19_0x5db7();return a19_0x32e3=function(_0x29c871,_0x587c4a){_0x29c871=_0x29c871-0x175;let _0x5db7e2=_0x57aedd[_0x29c871];if(a19_0x32e3['AZkFdj']===undefined){var _0x32e362=function(_0x11a2b6){const _0x3ebc45='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4e50bd='',_0x234cab='',_0x422f94=_0x4e50bd+_0x32e362;for(let _0x2a3d2a=0x0,_0x15db70,_0x4f2951,_0x84611=0x0;_0x4f2951=_0x11a2b6['charAt'](_0x84611++);~_0x4f2951&&(_0x15db70=_0x2a3d2a%0x4?_0x15db70*0x40+_0x4f2951:_0x4f2951,_0x2a3d2a++%0x4)?_0x4e50bd+=_0x422f94['charCodeAt'](_0x84611+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x15db70>>(-0x2*_0x2a3d2a&0x6)):_0x2a3d2a:0x0){_0x4f2951=_0x3ebc45['indexOf'](_0x4f2951);}for(let _0x3ffda2=0x0,_0x497099=_0x4e50bd['length'];_0x3ffda2<_0x497099;_0x3ffda2++){_0x234cab+='%'+('00'+_0x4e50bd['charCodeAt'](_0x3ffda2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x234cab);};const _0x3db0ba=function(_0x3de05e,_0x1a4384){let _0x41033b=[],_0x1aa65b=0x0,_0x4ae823,_0x1309f5='';_0x3de05e=_0x32e362(_0x3de05e);let _0x178e27;for(_0x178e27=0x0;_0x178e27<0x100;_0x178e27++){_0x41033b[_0x178e27]=_0x178e27;}for(_0x178e27=0x0;_0x178e27<0x100;_0x178e27++){_0x1aa65b=(_0x1aa65b+_0x41033b[_0x178e27]+_0x1a4384['charCodeAt'](_0x178e27%_0x1a4384['length']))%0x100,_0x4ae823=_0x41033b[_0x178e27],_0x41033b[_0x178e27]=_0x41033b[_0x1aa65b],_0x41033b[_0x1aa65b]=_0x4ae823;}_0x178e27=0x0,_0x1aa65b=0x0;for(let _0x95aeab=0x0;_0x95aeab<_0x3de05e['length'];_0x95aeab++){_0x178e27=(_0x178e27+0x1)%0x100,_0x1aa65b=(_0x1aa65b+_0x41033b[_0x178e27])%0x100,_0x4ae823=_0x41033b[_0x178e27],_0x41033b[_0x178e27]=_0x41033b[_0x1aa65b],_0x41033b[_0x1aa65b]=_0x4ae823,_0x1309f5+=String['fromCharCode'](_0x3de05e['charCodeAt'](_0x95aeab)^_0x41033b[(_0x41033b[_0x178e27]+_0x41033b[_0x1aa65b])%0x100]);}return _0x1309f5;};a19_0x32e3['mEPxbE']=_0x3db0ba,_0x5b02ec=arguments,a19_0x32e3['AZkFdj']=!![];}const _0x40d13a=_0x57aedd[0x0],_0x185055=_0x29c871+_0x40d13a,_0x21680c=_0x5b02ec[_0x185055];if(!_0x21680c){if(a19_0x32e3['DGuLjH']===undefined){const _0x312691=function(_0x39efe2){this['jAkQfF']=_0x39efe2,this['LhQncM']=[0x1,0x0,0x0],this['JXcZhm']=function(){return'newState';},this['IEHGWu']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['fJkQor']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x312691['prototype']['OmePog']=function(){const _0x15b2fc=new RegExp(this['IEHGWu']+this['fJkQor']),_0x5ee7de=_0x15b2fc['test'](this['JXcZhm']['toString']())?--this['LhQncM'][0x1]:--this['LhQncM'][0x0];return this['ADoDrV'](_0x5ee7de);},_0x312691['prototype']['ADoDrV']=function(_0xc13cf2){if(!Boolean(~_0xc13cf2))return _0xc13cf2;return this['EVyewy'](this['jAkQfF']);},_0x312691['prototype']['EVyewy']=function(_0x30c1a7){for(let _0x236bef=0x0,_0x77709f=this['LhQncM']['length'];_0x236bef<_0x77709f;_0x236bef++){this['LhQncM']['push'](Math['round'](Math['random']())),_0x77709f=this['LhQncM']['length'];}return _0x30c1a7(this['LhQncM'][0x0]);},new _0x312691(a19_0x32e3)['OmePog'](),a19_0x32e3['DGuLjH']=!![];}_0x5db7e2=a19_0x32e3['mEPxbE'](_0x5db7e2,_0x587c4a),_0x5b02ec[_0x185055]=_0x5db7e2;}else _0x5db7e2=_0x21680c;return _0x5db7e2;},a19_0x32e3(_0x5b02ec,_0x88775);}a19_0x29c871();const fileSchema=require('../../mode'+a19_0x311b90(0x1a6,'Kdts')),videoSchema=require(a19_0x311b90(0x1b8,'i%lj')+a19_0x311b90(0x1b0,'z0Zx')),base64=require(a19_0x311b90(0x1b3,'6Vfp')),levelClient=require(a19_0x311b90(0x1a9,'g[hI')+'l'),encodeUrl=_0x31a640=>{const _0x2e17e3=a19_0x311b90,_0x4b69ef=base64[_0x2e17e3(0x1bf,'Goqu')](_0x31a640);var _0x3cc8a3='';for(var _0x493752=_0x4b69ef[_0x2e17e3(0x177,'k3O@')]-0x1;_0x493752>=0x0;_0x493752--){_0x3cc8a3+=_0x4b69ef[_0x493752];}return _0x3cc8a3[_0x2e17e3(0x194,'8gsU')](/=/g,'');};module['exports']=(_0x372390,_0x3c681f)=>{const _0x5d7fa3=a19_0x311b90;return new Promise((_0x2b4ba1,_0x41c3b6)=>{const _0x1304bd=a19_0x32e3;levelClient[_0x1304bd(0x186,'cRcZ')](_0x372390['params']['id'],async(_0x10b482,_0x4c593d)=>{const _0x279e60=_0x1304bd;if('xMxqi'!==_0x279e60(0x18a,'6Vfp')){_0x10b482&&(!_0x10b482[_0x279e60(0x192,'XASQ')][_0x279e60(0x1ac,'6Vfp')](_0x279e60(0x1c7,'6Vfp')+_0x279e60(0x19c,'k3O@')+'abase\x20')&&_0x41c3b6(_0x10b482));if(_0x4c593d)return _0x3c681f['send'](_0x4c593d),_0x2b4ba1();const _0x527cf5=await videoSchema['findOne']({'_id':_0x372390[_0x279e60(0x1cb,'3w2u')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x279e60(0x18f,'Md*W')]();!_0x527cf5&&(_0x3c681f[_0x279e60(0x179,')w47')](0x194),_0x3c681f[_0x279e60(0x19e,'9&]r')](),_0x2b4ba1());const _0x29f2b7=await fileSchema['findOne']({'_id':_0x527cf5[_0x279e60(0x1c6,'g[hI')][0x0]['_id']})[_0x279e60(0x18c,'Goqu')]();!_0x29f2b7&&('TJeFM'!=='TJeFM'?(_0x221ab1['status'](0x194),_0x24e408['end'](),_0x4c7b00()):(_0x3c681f[_0x279e60(0x1c0,'Kdts')](0x194),_0x3c681f['end'](),_0x2b4ba1()));var _0x4ddd14=[_0x279e60(0x19f,'rGBZ'),_0x279e60(0x18d,'iRJv')+'SION:'+_0x29f2b7['version'],'#EXT-X-PLA'+_0x279e60(0x199,'DGSA')+_0x279e60(0x1bb,'z0Zx'),_0x279e60(0x1be,'DGSA')+_0x279e60(0x1c4,'zss4')+'N:'+_0x29f2b7[_0x279e60(0x17f,'NLVf')+'tion'],_0x279e60(0x1c8,')w47')+_0x279e60(0x1b9,'jT%r')+_0x279e60(0x19a,'jT%r')];const _0x48a61f=_0x29f2b7[_0x279e60(0x18b,'0TyJ')][_0x279e60(0x1bc,'zss4')]((_0x244ede,_0x519dab)=>{const _0x7b9db7=_0x279e60;if('wAkII'===_0x7b9db7(0x1a0,'iRJv'))return new Promise((_0x50a52b,_0x4ba181)=>{const _0x54189a=_0x7b9db7;encoded_url=encodeUrl(_0x244ede['drive']),_0x50a52b((process[_0x54189a(0x17b,'L%PZ')][_0x54189a(0x188,'6Vfp')+'IN']||process['env'][_0x54189a(0x1a7,'k3O@')])+'/api/hls/'+encoded_url);});else _0x41854a=_0x36aa16(_0x3b1e1e[_0x7b9db7(0x189,'Kdts')]),_0x498353((_0x4922ad['env'][_0x7b9db7(0x198,'Kdts')+'IN']||_0x380653[_0x7b9db7(0x1b4,'guYl')][_0x7b9db7(0x17e,'DGSA')])+_0x7b9db7(0x1b2,'f9ri')+_0x2d1a88);});await Promise[_0x279e60(0x184,'6Vfp')](_0x48a61f)[_0x279e60(0x1b5,'Md*W')](_0x20921e=>{const _0x517cc8=_0x279e60;index=0x0;for(const _0x2f00cc of _0x20921e){_0x4ddd14[_0x517cc8(0x1b6,'sXOt')](_0x517cc8(0x19d,'NqJ[')+_0x29f2b7[_0x517cc8(0x178,'cRcZ')][index][_0x517cc8(0x1ca,'RXgS')]+','),_0x4ddd14[_0x517cc8(0x1b7,'*Tal')](_0x2f00cc),index+=0x1;}_0x4ddd14[_0x517cc8(0x1cd,'NLVf')]('#EXT-X-END'+'LIST');})[_0x279e60(0x1aa,'8gsU')](()=>{const _0x56d29f=_0x279e60,_0xcf3c3b=_0x4ddd14[_0x56d29f(0x1af,'b1lQ')]('\x0a');levelClient[_0x56d29f(0x190,'M80X')](_0x372390[_0x56d29f(0x1b1,'z0Zx')]['id'],_0xcf3c3b,_0x480dd9=>{const _0x16f6d0=_0x56d29f;return _0x480dd9&&_0x41c3b6(_0x480dd9),_0x3c681f[_0x16f6d0(0x1a3,'i%lj')](_0xcf3c3b),_0x2b4ba1();});});}else _0x59590e[_0x279e60(0x1c1,'b]14')](0x194),_0x3b9155[_0x279e60(0x195,'*Tal')](),_0x2ad5ca();});})[_0x5d7fa3(0x17d,'L%PZ')](_0x1edd6d=>{const _0x2300b5=_0x5d7fa3;_0x3c681f[_0x2300b5(0x187,'PW@7')]({'status':'fail','message':_0x1edd6d['message']});return;});};