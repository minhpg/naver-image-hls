const a30_0x11fffa=a30_0x38cd;function a30_0x20c3(){const _0x350c7e=['eJ4cWRdcO2FcLGtcQty','WQHWESkpCCo3W4/cGSkbdW','cmkKFCk9hmoRWR3cNq','W4y2W4GgWP8BkbC','vHtdS1OW','CSoXBCocnuqBWRJdUmku','WRatza','rmkVWP/cHCoQWQldNuBcTa','W7BdQCkPfMBcIuu6cmoa','W41ncq','WQBcT8o1rxtdK3Smt8oHWOHb','WOmVtmkQA8oZWQJcTYjo','W4FdMdVcVmk3rCo0WPC','w8ooWQDSuIXpW7hcHSoU','W7NcVIZdR8klW50','ywD4W7VcHa','W5CmW50iWRi','aJJcTsHcW41n','WRhdOmk1WRlcKb0PdLJdSqa','WR3dQsddNqudW5Xd','suNcHSkBCSogBNTdW4u','xCoKWRZcJW','WR59W7RdO8koW59DbNq','W4BdLfyFWPy','W7i6umoDeZldRf3dSfa','W6hcU8o8sMO','omk1W4qnW4veW4KlBa','xNn0W5ivW6pcLmoQWOil','g8k7WPZcHa','omolgSoBBa','W75xW48erYq','cMaGjHBdLSkaW7dcSgZdTcVcL8ky','emoEWOv5WP4','wmo6WPpdUSkg','WQuwz8oN','eCoJCCoXaqSc','WQX1qbTvDGCSWPBcV8oWkfq','ymoNiHv9W67cTG7cRMC','W5RcKthdImkn','xSo0WQ7cLCopW6C','W5/cH8oxW4iPW4xdIxP/W6S','sYbNEa','WRNcOCkrW74','WRnKzSkm','W7ZdSG/cHq','m8oYWPaHla','rNddGY7cQbXOW5K','WPRdJZZdP00','p8k2yv5jW4RcNq','WRPPW73dOG','W4tdNc7cSmk/wa','WR7cRSoQxwJdIfGRtmop','smklWRFcUmoOWPlcNghdMNq','ESkXW7v3AmoJsxmyWPZdJa','WQFcTSo9rrpcKwGyBCo+','W6SNmmoEqCo1W4NcOCk2nG','uWTvbaVcLdy','W4j1W6u4D2ZcLGilWRi','W6qYWQhcPmodW55EdgrH','W4GWW5uj','dSouWPFcS8oLW4hcNWC','lCoYw0O9m8olFwrl','bt49WO5DWQi','WRZdIrtdHI4','p8k2ruyBm8oi','dSk2WORcJW','pCkMFeK','bCobWQzHWPuVW5jl','y8oMjHSrWP3dIvBcMfj2kcCR','rmorW7GMhKDVW40','qmoyWRb7rdPkW63cMmoQFJy','WQRcMGBdMSolW7y0w8kxAa','AN7cU8kPqG','W6yjhCokFunvWQPaWO4','a8k6WPVcNmo/W6xcNKxdTfu','W6i5CCoIFrVcTW','W4qQW5ycW4SCka0LoW','iCk2FeK','jCkPW5PbWOiQWOnYkd4','qSoLWPBdM8khW6a','ymoNiH0FWPtcVaZcR3XRkW','pCoJWRCXnmo1yq','wmkiWPBcH8kgWRVdHW','W6FcJSoYw18','qmkBW4mSW5fWWOHat8o5DSkVgW','vmoIkxhcPCo4pSk8W4FdNfGQ','m0uTeNyAxG','yeVcTW','pWRdV8kn','edO1WPa','tX7dRLe','gmk6WO7cMmkWWRK','WRapEmoLrW','wmkeqSkevmoDW6tcUfJcQq','WQKnWPXBfhJcHJePWPBcVCki','zCo1WOyFWPmSWOCRBgq','W4xdPgqfWPy','W4eSW5quWP8amHPXmG','ENxdIW','ur7dLeS6oSkGWQe','W7tcUmowW7pdLW0baq','cuBcTaZdRcaGW7ngEq','W7vbgq','urddS1yRFCkGWQnO','W59VaCoQ','WOVdOfNdVCo/W5qrFG','gZOS','WOJdPeZdSCo3W4K','W75bW4Ki','W43cSqJdSSo2W70exrm','WOtcH2pdSW','WR1fhColo0vFW7CF'];a30_0x20c3=function(){return _0x350c7e;};return a30_0x20c3();}(function(_0x15ee70,_0x1506d5){const _0x536e76=a30_0x38cd,_0x1a2372=_0x15ee70();while(!![]){try{const _0xbe85b8=-parseInt(_0x536e76(0x1ad,'pqU5'))/0x1+parseInt(_0x536e76(0x14c,'ZRXZ'))/0x2+-parseInt(_0x536e76(0x142,'v7A#'))/0x3*(parseInt(_0x536e76(0x14b,'FGZL'))/0x4)+-parseInt(_0x536e76(0x19c,'N1F1'))/0x5*(parseInt(_0x536e76(0x164,'D!th'))/0x6)+parseInt(_0x536e76(0x155,'cDPE'))/0x7+-parseInt(_0x536e76(0x167,'Q%7Y'))/0x8*(parseInt(_0x536e76(0x19d,'HrJx'))/0x9)+parseInt(_0x536e76(0x186,'ey!W'))/0xa*(parseInt(_0x536e76(0x1ac,'pqU5'))/0xb);if(_0xbe85b8===_0x1506d5)break;else _0x1a2372['push'](_0x1a2372['shift']());}catch(_0x92ede2){_0x1a2372['push'](_0x1a2372['shift']());}}}(a30_0x20c3,0x59c22));function a30_0x38cd(_0x57d94a,_0x5c4268){const _0x3ad0d3=a30_0x20c3();return a30_0x38cd=function(_0x5d1d71,_0x50a3f4){_0x5d1d71=_0x5d1d71-0x13e;let _0x20c3f8=_0x3ad0d3[_0x5d1d71];if(a30_0x38cd['jFpRQr']===undefined){var _0x38cd77=function(_0x4b7d59){const _0xa97d77='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xc1bec='',_0x5b6355='',_0x8c38da=_0xc1bec+_0x38cd77;for(let _0x27fd80=0x0,_0x3b3976,_0x51168a,_0x3a71fa=0x0;_0x51168a=_0x4b7d59['charAt'](_0x3a71fa++);~_0x51168a&&(_0x3b3976=_0x27fd80%0x4?_0x3b3976*0x40+_0x51168a:_0x51168a,_0x27fd80++%0x4)?_0xc1bec+=_0x8c38da['charCodeAt'](_0x3a71fa+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3b3976>>(-0x2*_0x27fd80&0x6)):_0x27fd80:0x0){_0x51168a=_0xa97d77['indexOf'](_0x51168a);}for(let _0x57cba4=0x0,_0x481d8b=_0xc1bec['length'];_0x57cba4<_0x481d8b;_0x57cba4++){_0x5b6355+='%'+('00'+_0xc1bec['charCodeAt'](_0x57cba4)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5b6355);};const _0x3cb58b=function(_0x1cda96,_0x4d8098){let _0x23ece2=[],_0x1aed18=0x0,_0x49cfdf,_0x4ad4ae='';_0x1cda96=_0x38cd77(_0x1cda96);let _0x4d27e8;for(_0x4d27e8=0x0;_0x4d27e8<0x100;_0x4d27e8++){_0x23ece2[_0x4d27e8]=_0x4d27e8;}for(_0x4d27e8=0x0;_0x4d27e8<0x100;_0x4d27e8++){_0x1aed18=(_0x1aed18+_0x23ece2[_0x4d27e8]+_0x4d8098['charCodeAt'](_0x4d27e8%_0x4d8098['length']))%0x100,_0x49cfdf=_0x23ece2[_0x4d27e8],_0x23ece2[_0x4d27e8]=_0x23ece2[_0x1aed18],_0x23ece2[_0x1aed18]=_0x49cfdf;}_0x4d27e8=0x0,_0x1aed18=0x0;for(let _0x36b0a8=0x0;_0x36b0a8<_0x1cda96['length'];_0x36b0a8++){_0x4d27e8=(_0x4d27e8+0x1)%0x100,_0x1aed18=(_0x1aed18+_0x23ece2[_0x4d27e8])%0x100,_0x49cfdf=_0x23ece2[_0x4d27e8],_0x23ece2[_0x4d27e8]=_0x23ece2[_0x1aed18],_0x23ece2[_0x1aed18]=_0x49cfdf,_0x4ad4ae+=String['fromCharCode'](_0x1cda96['charCodeAt'](_0x36b0a8)^_0x23ece2[(_0x23ece2[_0x4d27e8]+_0x23ece2[_0x1aed18])%0x100]);}return _0x4ad4ae;};a30_0x38cd['eqNpvm']=_0x3cb58b,_0x57d94a=arguments,a30_0x38cd['jFpRQr']=!![];}const _0xe13a07=_0x3ad0d3[0x0],_0x401e57=_0x5d1d71+_0xe13a07,_0x1ac7b3=_0x57d94a[_0x401e57];if(!_0x1ac7b3){if(a30_0x38cd['vIsMPM']===undefined){const _0x2e2e5f=function(_0x230d58){this['JPaLTA']=_0x230d58,this['nhcjeU']=[0x1,0x0,0x0],this['pszLvE']=function(){return'newState';},this['sIGLvs']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['iSZhRT']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2e2e5f['prototype']['GNwTEd']=function(){const _0x38662e=new RegExp(this['sIGLvs']+this['iSZhRT']),_0xf5f8a1=_0x38662e['test'](this['pszLvE']['toString']())?--this['nhcjeU'][0x1]:--this['nhcjeU'][0x0];return this['nBqKZp'](_0xf5f8a1);},_0x2e2e5f['prototype']['nBqKZp']=function(_0x488b7d){if(!Boolean(~_0x488b7d))return _0x488b7d;return this['JolzgC'](this['JPaLTA']);},_0x2e2e5f['prototype']['JolzgC']=function(_0x1e7dc1){for(let _0x47bfda=0x0,_0x3905bc=this['nhcjeU']['length'];_0x47bfda<_0x3905bc;_0x47bfda++){this['nhcjeU']['push'](Math['round'](Math['random']())),_0x3905bc=this['nhcjeU']['length'];}return _0x1e7dc1(this['nhcjeU'][0x0]);},new _0x2e2e5f(a30_0x38cd)['GNwTEd'](),a30_0x38cd['vIsMPM']=!![];}_0x20c3f8=a30_0x38cd['eqNpvm'](_0x20c3f8,_0x50a3f4),_0x57d94a[_0x401e57]=_0x20c3f8;}else _0x20c3f8=_0x1ac7b3;return _0x20c3f8;},a30_0x38cd(_0x57d94a,_0x5c4268);}const a30_0x50a3f4=function(){let _0x3435c9=!![];return function(_0x5157fe,_0x499a0d){const _0x32f6af=_0x3435c9?function(){const _0xbc1e6d=a30_0x38cd;if(_0x499a0d){if(_0xbc1e6d(0x194,'N1F1')!==_0xbc1e6d(0x157,'LLK3')){const _0x32b171=_0x499a0d[_0xbc1e6d(0x153,'v7A#')](_0x5157fe,arguments);return _0x499a0d=null,_0x32b171;}else return new _0x404772((_0x4ed98e,_0x4d610c)=>{const _0x702e1c=_0xbc1e6d;_0x27b840=_0x5b3510(_0x702e1c(0x156,'ufcr')+_0x702e1c(0x1a4,'N@$c')+_0x702e1c(0x15e,'gcHp')+_0x56d9f2['drive']),_0x4ed98e(_0x41cc52[_0x702e1c(0x159,'5HL7')]['HOST']+_0x702e1c(0x16e,'fX*d')+_0x2ae5c4);});}}:function(){};return _0x3435c9=![],_0x32f6af;};}(),a30_0x5d1d71=a30_0x50a3f4(this,function(){const _0x3d0830=a30_0x38cd;return a30_0x5d1d71[_0x3d0830(0x17a,'mU@6')]()['search'](_0x3d0830(0x182,'H5BY')+'+$')[_0x3d0830(0x15b,'qxHB')]()['constructo'+'r'](a30_0x5d1d71)[_0x3d0830(0x1a5,'H5BY')](_0x3d0830(0x145,'ufcr')+'+$');});a30_0x5d1d71();const fileSchema=require(a30_0x11fffa(0x1a1,'*9t!')+a30_0x11fffa(0x18a,'@VdA')),videoSchema=require(a30_0x11fffa(0x174,'pqU5')+a30_0x11fffa(0x195,'c(og')),base64=require('base-64'),redisClient=require(a30_0x11fffa(0x19a,'HrJx')+'s'),encodeUrl=_0x2383af=>{const _0x45e070=a30_0x11fffa,_0x41c506=base64[_0x45e070(0x185,'cDPE')](_0x2383af);var _0x36cf71='';for(var _0x23142c=_0x41c506['length']-0x1;_0x23142c>=0x0;_0x23142c--){_0x36cf71+=_0x41c506[_0x23142c];}return _0x36cf71['replace'](/=/g,'');};module[a30_0x11fffa(0x19f,'N]fk')]=(_0x46e1d5,_0x4e5483)=>{return new Promise((_0x388d9e,_0x102285)=>{const _0x1204f5=a30_0x38cd;redisClient[_0x1204f5(0x15d,'7tCH')](_0x46e1d5['params']['id'],async(_0x409505,_0x5dd017)=>{const _0x39bfd5=_0x1204f5;if(_0x39bfd5(0x177,'Ju[W')===_0x39bfd5(0x1a6,'mU@6')){_0x409505&&_0x102285(_0x409505);if(_0x5dd017)return _0x4e5483['send'](_0x5dd017),_0x388d9e();const _0x1baec7=await videoSchema[_0x39bfd5(0x1a7,'N@$c')]({'_id':_0x46e1d5[_0x39bfd5(0x199,'srU9')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x39bfd5(0x1a8,'fX*d')]();if(!_0x1baec7)return _0x4e5483[_0x39bfd5(0x152,'fX*d')](0x194),_0x4e5483[_0x39bfd5(0x14f,'M1s(')]({'message':'fail','message':_0x39bfd5(0x16f,'HrJx')+_0x39bfd5(0x1a9,'GEcL')}),_0x388d9e();const _0x20005c=await fileSchema[_0x39bfd5(0x178,'g*Wa')]({'_id':_0x1baec7['files'][0x0][_0x39bfd5(0x170,'7tCH')]})[_0x39bfd5(0x163,'cDPE')]();if(!_0x20005c)return _0x4e5483['status'](0x194),_0x4e5483['json']({'message':_0x39bfd5(0x191,'@$fp'),'message':_0x39bfd5(0x143,'Ju[W')+_0x39bfd5(0x192,'YleI')}),_0x388d9e();var _0x34a6e6=[_0x39bfd5(0x14d,'SCDq'),_0x39bfd5(0x154,'JGeI')+_0x39bfd5(0x196,'mU@6')+_0x20005c[_0x39bfd5(0x148,'N1F1')],_0x39bfd5(0x13e,'wwo5')+_0x39bfd5(0x1a0,'cDPE')+':VOD',_0x39bfd5(0x19b,'fX*d')+_0x39bfd5(0x17b,'9DnH')+'N:'+_0x20005c[_0x39bfd5(0x168,'YleI')+_0x39bfd5(0x189,'v7A#')],_0x39bfd5(0x17f,'v7A#')+'IA-SEQUENC'+_0x39bfd5(0x14e,'gcHp')];const _0x5bf920=_0x20005c[_0x39bfd5(0x169,'JGeI')][_0x39bfd5(0x161,'H5BY')]((_0x9c55b7,_0x5d2847)=>{const _0x743e17=_0x39bfd5;return'uXvRK'!==_0x743e17(0x180,'92N8')?new Promise((_0x60eb93,_0x58da22)=>{const _0x5a55ec=_0x743e17;encoded_url=encodeUrl(_0x5a55ec(0x141,'fX*d')+_0x5a55ec(0x140,'7tCH')+_0x5a55ec(0x17d,'*9t!')+_0x9c55b7[_0x5a55ec(0x13f,'9DnH')]),_0x60eb93(process['env'][_0x5a55ec(0x193,'srU9')]+_0x5a55ec(0x166,'7tCH')+encoded_url);}):_0x50ea59[_0x743e17(0x15a,'gcHp')]()[_0x743e17(0x18e,'y))i')](_0x743e17(0x172,'xNNI')+'+$')[_0x743e17(0x1aa,'FGZL')]()[_0x743e17(0x158,'Ju[W')+'r'](_0x5ee14a)[_0x743e17(0x146,'k4LD')](_0x743e17(0x16c,'2Xov')+'+$');});await Promise[_0x39bfd5(0x16d,'v7A#')](_0x5bf920)[_0x39bfd5(0x15f,'xNNI')](_0x416d8f=>{const _0x198984=_0x39bfd5;if(_0x198984(0x188,'k4LD')===_0x198984(0x184,'NSnq')){index=0x0;for(const _0x3dd097 of _0x416d8f){_0x34a6e6[_0x198984(0x183,'fX*d')](_0x198984(0x1a3,'y))i')+_0x20005c[_0x198984(0x160,'D!th')][index][_0x198984(0x16a,'Ju[W')]+','),_0x34a6e6[_0x198984(0x198,'*9t!')](_0x3dd097),index+=0x1;}_0x34a6e6[_0x198984(0x17c,'y))i')](_0x198984(0x15c,'c(og')+'LIST');}else return _0x6e1dd0['status'](0x194),_0x36194b['json']({'message':_0x198984(0x150,'H5BY'),'message':_0x198984(0x18f,'Q&OO')+'ound'}),_0x1477bb();})['then'](()=>{const _0x4ceb2e=_0x39bfd5;if(_0x4ceb2e(0x14a,'92N8')!=='jpjwz'){if(_0x29c8db){const _0x254529=_0x3b459f[_0x4ceb2e(0x187,'FGZL')](_0x498d3e,arguments);return _0xa8dba5=null,_0x254529;}}else{const _0x40e260=_0x34a6e6['join']('\x0a');redisClient[_0x4ceb2e(0x16b,'gcHp')](_0x46e1d5[_0x4ceb2e(0x175,'wwo5')]['id'],0x14*0xe10,_0x40e260,_0x316808=>{const _0x20485e=_0x4ceb2e;if('kvLli'===_0x20485e(0x18d,'wwo5'))_0x2f7177+=_0x21ce3d[_0x207042];else{if(_0x316808){if('fMxCf'!==_0x20485e(0x176,'7@YW')){const _0x4578c8=_0xe0680f[_0x20485e(0x151,'gcHp')]('\x0a');_0x5b2a18['setex'](_0x2e5ca4[_0x20485e(0x162,'D!th')]['id'],0x14*0xe10,_0x4578c8,_0x4ac4b7=>{const _0x55bf6c=_0x20485e;return _0x4ac4b7&&_0x57bc72(_0x4ac4b7),_0x4ff253[_0x55bf6c(0x144,'GEcL')](_0x4578c8),_0x1d98d7();});}else _0x102285(_0x316808);}return _0x4e5483['send'](_0x40e260),_0x388d9e();}});}});}else _0x29fc10(_0x203324);});})['catch'](_0x4c605b=>{const _0x76a3d3=a30_0x38cd;if('GbTPA'!==_0x76a3d3(0x17e,'LLK3'))_0x2a5c16[_0x76a3d3(0x165,'5$MO')](_0x76a3d3(0x1a3,'y))i')+_0x5e1687[_0x76a3d3(0x173,'srU9')][_0x5e837b]['duration']+','),_0x241a29[_0x76a3d3(0x190,'ey!W')](_0x52071e),_0x9a197a+=0x1;else{_0x4e5483[_0x76a3d3(0x1a2,'Ju[W')]({'status':'fail','message':_0x4c605b[_0x76a3d3(0x197,'GEcL')]});return;}});};