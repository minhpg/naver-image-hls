function a30_0x1078(_0x2655d4,_0x252b06){const _0x7172e1=a30_0x3acb();return a30_0x1078=function(_0xb2d235,_0x383c6e){_0xb2d235=_0xb2d235-0xd3;let _0x3acbd8=_0x7172e1[_0xb2d235];if(a30_0x1078['aQScsQ']===undefined){var _0x10781d=function(_0x2d06cb){const _0x27327a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xf3aa20='',_0x14e6a1='',_0x731a7e=_0xf3aa20+_0x10781d;for(let _0x44cffd=0x0,_0x5802bd,_0x4a1e63,_0x366dc6=0x0;_0x4a1e63=_0x2d06cb['charAt'](_0x366dc6++);~_0x4a1e63&&(_0x5802bd=_0x44cffd%0x4?_0x5802bd*0x40+_0x4a1e63:_0x4a1e63,_0x44cffd++%0x4)?_0xf3aa20+=_0x731a7e['charCodeAt'](_0x366dc6+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x5802bd>>(-0x2*_0x44cffd&0x6)):_0x44cffd:0x0){_0x4a1e63=_0x27327a['indexOf'](_0x4a1e63);}for(let _0x535b8b=0x0,_0x15a6df=_0xf3aa20['length'];_0x535b8b<_0x15a6df;_0x535b8b++){_0x14e6a1+='%'+('00'+_0xf3aa20['charCodeAt'](_0x535b8b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x14e6a1);};const _0x52e96f=function(_0x164c07,_0x363719){let _0x178190=[],_0x544f08=0x0,_0x22a148,_0x2df3d7='';_0x164c07=_0x10781d(_0x164c07);let _0x1f9b94;for(_0x1f9b94=0x0;_0x1f9b94<0x100;_0x1f9b94++){_0x178190[_0x1f9b94]=_0x1f9b94;}for(_0x1f9b94=0x0;_0x1f9b94<0x100;_0x1f9b94++){_0x544f08=(_0x544f08+_0x178190[_0x1f9b94]+_0x363719['charCodeAt'](_0x1f9b94%_0x363719['length']))%0x100,_0x22a148=_0x178190[_0x1f9b94],_0x178190[_0x1f9b94]=_0x178190[_0x544f08],_0x178190[_0x544f08]=_0x22a148;}_0x1f9b94=0x0,_0x544f08=0x0;for(let _0x205038=0x0;_0x205038<_0x164c07['length'];_0x205038++){_0x1f9b94=(_0x1f9b94+0x1)%0x100,_0x544f08=(_0x544f08+_0x178190[_0x1f9b94])%0x100,_0x22a148=_0x178190[_0x1f9b94],_0x178190[_0x1f9b94]=_0x178190[_0x544f08],_0x178190[_0x544f08]=_0x22a148,_0x2df3d7+=String['fromCharCode'](_0x164c07['charCodeAt'](_0x205038)^_0x178190[(_0x178190[_0x1f9b94]+_0x178190[_0x544f08])%0x100]);}return _0x2df3d7;};a30_0x1078['hFimpt']=_0x52e96f,_0x2655d4=arguments,a30_0x1078['aQScsQ']=!![];}const _0x40175b=_0x7172e1[0x0],_0x3787e6=_0xb2d235+_0x40175b,_0x4800db=_0x2655d4[_0x3787e6];if(!_0x4800db){if(a30_0x1078['pYnijw']===undefined){const _0x1223f1=function(_0x3ee68b){this['TZpyLZ']=_0x3ee68b,this['QKPyPZ']=[0x1,0x0,0x0],this['mKMYua']=function(){return'newState';},this['fQTgqV']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['jjkEMX']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1223f1['prototype']['BWiTeb']=function(){const _0x190f7f=new RegExp(this['fQTgqV']+this['jjkEMX']),_0x57b137=_0x190f7f['test'](this['mKMYua']['toString']())?--this['QKPyPZ'][0x1]:--this['QKPyPZ'][0x0];return this['fuYBfO'](_0x57b137);},_0x1223f1['prototype']['fuYBfO']=function(_0x3dfa14){if(!Boolean(~_0x3dfa14))return _0x3dfa14;return this['PPzGuL'](this['TZpyLZ']);},_0x1223f1['prototype']['PPzGuL']=function(_0x5409ee){for(let _0x188674=0x0,_0x42d35c=this['QKPyPZ']['length'];_0x188674<_0x42d35c;_0x188674++){this['QKPyPZ']['push'](Math['round'](Math['random']())),_0x42d35c=this['QKPyPZ']['length'];}return _0x5409ee(this['QKPyPZ'][0x0]);},new _0x1223f1(a30_0x1078)['BWiTeb'](),a30_0x1078['pYnijw']=!![];}_0x3acbd8=a30_0x1078['hFimpt'](_0x3acbd8,_0x383c6e),_0x2655d4[_0x3787e6]=_0x3acbd8;}else _0x3acbd8=_0x4800db;return _0x3acbd8;},a30_0x1078(_0x2655d4,_0x252b06);}const a30_0x19da84=a30_0x1078;(function(_0x5380c,_0x128888){const _0x45cb64=a30_0x1078,_0xae081d=_0x5380c();while(!![]){try{const _0x1cbc5c=parseInt(_0x45cb64(0xd5,'bF$j'))/0x1+-parseInt(_0x45cb64(0x10e,'0IU^'))/0x2+parseInt(_0x45cb64(0xe9,'[VOz'))/0x3+parseInt(_0x45cb64(0x11e,'GVmo'))/0x4*(-parseInt(_0x45cb64(0xec,'#7Q5'))/0x5)+-parseInt(_0x45cb64(0x118,'D8jV'))/0x6*(-parseInt(_0x45cb64(0x10c,'!Z)O'))/0x7)+parseInt(_0x45cb64(0xe6,'i3Nr'))/0x8*(parseInt(_0x45cb64(0x110,'K2Fi'))/0x9)+parseInt(_0x45cb64(0xf3,'0Jf6'))/0xa*(parseInt(_0x45cb64(0x120,'#7Q5'))/0xb);if(_0x1cbc5c===_0x128888)break;else _0xae081d['push'](_0xae081d['shift']());}catch(_0x3c7cdc){_0xae081d['push'](_0xae081d['shift']());}}}(a30_0x3acb,0xd8ad4));const a30_0x383c6e=function(){let _0xee0b39=!![];return function(_0x108dd7,_0x348433){const _0x51552b=_0xee0b39?function(){const _0x47576e=a30_0x1078;if(_0x348433){const _0x11203c=_0x348433[_0x47576e(0xf4,'0IU^')](_0x108dd7,arguments);return _0x348433=null,_0x11203c;}}:function(){};return _0xee0b39=![],_0x51552b;};}(),a30_0xb2d235=a30_0x383c6e(this,function(){const _0x4af8f2=a30_0x1078;return a30_0xb2d235['toString']()[_0x4af8f2(0xfb,'[DEi')](_0x4af8f2(0x117,'uVAe')+'+$')['toString']()[_0x4af8f2(0x11b,'@@&j')+'r'](a30_0xb2d235)[_0x4af8f2(0x125,'PW4!')]('(((.+)+)+)'+'+$');});a30_0xb2d235();function a30_0x3acb(){const _0x209241=['W6ldTHBdTeRcQ1ZdMSosya','nGWwWPLxW6T4WOa','l8kvBhyAuG','Es8MW4BcUa8mCCktyG','FbqsW5fKW4zKmmomWRO','zCozpdjDfSkEW5tdVuVdSmoaWQu','WQhdVSo5WQ/dTSkKWPfGWQxdRW','c8oCWOpdT8oInCo9EmoEjGvY','tmk5WRtcU8o1','WRfKv2/cUK3cTLZdHCkEW5jg','WQzvWRy','W7ddNSorWPFcUSkFW5K','W67dQmo3WQRdThldOW','W6u0cJ3dHHFcIG','W7BdN8ocW790W4dcVW','tSolW73cOG','tefciSkCemk0wf94','AhlcO3ldHYRdOG','l8o6A8kuWONcOmkw','h8orqSo+W6HXW7Lmja','xSobW73cTs7dNmorsCkBtW','WOtcHrtcJa','W4tcRgusWQHG','jmkrlSkNWQXTWPe','WOpcL1JcImkzc8kQW4tdOmo4','W4BcRg7cISo6W5bVxmkyyW','W7TQwbq','W5xcJMOhWO8','W7ddL8oTaq','W4pcPLCuWRLHnGq','WPpcUSo3c8kexW','l8keEwCx','m8ohW5JdM8kpW4CYs8odaq','W4/dN8oi','W6tdMSoiWPC','m8kuy2y','W4NdLvNdGrlcOSoTWQ8mEG','W7pcNgSxWP4','j8o5zCod','W7PGvahcKG','WORdO8kLW4y','DCk9WO4Lv8o6WQC','W5m8w8onWOS','W4pdICkGWRPanq','kCo6Fva','h8orrmoWW64RW5nCiSk1','E8kZWQ8K','mbKrW7W','ymk8m8kk','hgbQWRicW5WgdCo7WRbRWQ7cKG','zeftW41kW4bFWQNcS3m','W4ddMaC','zColWOFdVGWPu2y','WORcQWBdJCkX','wmohW6XBWQ0','Fwn9cdS','lmkaF2mcuG','W5arvmoP','d8kZWR4IW5FdMaTVpmkKCG','uv5BoCkoamkQcteMW67dSCoH','W7/dLSoNafhdQa','qJ0V','e8kaWRZdQhtcGCojrCklrq','w8oIW6z2W4pdRWLku8kS','Fmk7eL/cUedcJa','WPlcMbdcNvRdOW','WPakW6JcKa','WPFcJmoWW7VdPG','eb3dNmkaWPyVlmksec4','ESooW55xWRBdKYDQoSkf','W5pdHeldMqRcV8kFW7b+jxBcJa','WOSBW7lcHc8lASk9WOVdPq','ib3cMSoDpW','W5xdRCo1W4PyW5RdICkpBCo8','W6VcTNmqWQ9tWRtdQa','g8kMWOhdNCkRWPyfW4O','g8ofrCo/','W5VcPSk+WRfwW7RdJG','nCkmW4xcRK0sv17cLSo6yq','umk2W6pcImk1','DCkNnG','W4xcO2JcISkQWQSsy8kvzXxdOI8','WRldLIddHa','bH0dW5z5WQv2uW','EmkZdv/cTrJdLZ7dGNu','W4hdPSoVW5vV','l8orwdesW4bq','m8o8yvy','ywxdG8oJWRGUoSk2ctq','wmkCW4hcQmkT','W4WoW7BcNtPmkCk+W4S','CmkmWOtcHSoaWO8L','W5NcVe0MWPm','cXWeAa','v8o4W6v9','B2DSedCP','W4ddJCkZWQLolG','WQX7W5FcN8ouWQe1W44','pSkSWQ/cOCoOWQygfa','WReiW4lcJvi','rJKVW6fy','W5CatCoPWRW','hSooW5jhW47dMuTZnSko','W6pdK8olW7zEW4dcRSkm','W5tcPMOtWR96lqbKWO4','lCoNA1y','WPZdStFdMmoNW7O','W7uYnZldRq'];a30_0x3acb=function(){return _0x209241;};return a30_0x3acb();}const fileSchema=require(a30_0x19da84(0x11f,'9D)L')+a30_0x19da84(0x119,'#H82')),videoSchema=require(a30_0x19da84(0xd9,'@@&j')+'ls/video'),base64=require(a30_0x19da84(0xdb,'BMRz')),redisClient=require(a30_0x19da84(0x127,'8kKz')+'s'),encodeUrl=_0x568ffa=>{const _0x57ce7b=a30_0x19da84,_0x3cbfa2=base64[_0x57ce7b(0xd7,'US$b')](_0x568ffa);var _0x383024='';for(var _0xdd5662=_0x3cbfa2[_0x57ce7b(0x105,'#7Q5')]-0x1;_0xdd5662>=0x0;_0xdd5662--){_0x57ce7b(0x106,'K2Fi')!==_0x57ce7b(0x13c,'ixbE')?_0x434227+=_0x47afb9[_0xea22d4]:_0x383024+=_0x3cbfa2[_0xdd5662];}return _0x383024[_0x57ce7b(0x112,'U*sf')](/=/g,'');};module[a30_0x19da84(0xf1,'^qjr')]=(_0x4ecf09,_0x526874)=>{const _0x19a6ce=a30_0x19da84;return new Promise((_0x42a585,_0x5b9b97)=>{const _0x11b2d1=a30_0x1078;redisClient[_0x11b2d1(0xd8,'RCZ*')](_0x4ecf09[_0x11b2d1(0xd3,'!Z)O')]['id'],async(_0x5c46fa,_0x211f43)=>{const _0x4a55f7=_0x11b2d1;if(_0x5c46fa){if(_0x4a55f7(0xfe,'vbT8')===_0x4a55f7(0x12c,'y7L#')){const _0x59d7e8=_0xc895a2[_0x4a55f7(0x100,'[hNx')](_0x5a3f80,arguments);return _0x20dd8f=null,_0x59d7e8;}else _0x5b9b97(_0x5c46fa);}if(_0x211f43)return _0x526874['send'](_0x211f43),_0x42a585();const _0x6bb5f=await videoSchema[_0x4a55f7(0x115,'3n)7')]({'_id':_0x4ecf09['params']['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x4a55f7(0x121,'3dgj')]();if(!_0x6bb5f)return _0x526874[_0x4a55f7(0x109,'!Z)O')](0x194),_0x526874[_0x4a55f7(0xf2,'^eFZ')]({'message':_0x4a55f7(0xd4,'[hNx'),'message':_0x4a55f7(0xef,'BMRz')+_0x4a55f7(0xf8,'uVAe')}),_0x42a585();const _0x4b646a=await fileSchema[_0x4a55f7(0x114,'K2Fi')]({'_id':_0x6bb5f[_0x4a55f7(0xde,'c1pA')][0x0][_0x4a55f7(0x128,'3n)7')]})[_0x4a55f7(0x11c,'knxx')]();if(!_0x4b646a)return _0x526874[_0x4a55f7(0xfa,'(DfO')](0x194),_0x526874[_0x4a55f7(0x136,'$GSm')]({'message':_0x4a55f7(0x129,'U*sf'),'message':_0x4a55f7(0xda,'bF$j')+_0x4a55f7(0x12a,'!Z)O')}),_0x42a585();var _0x117ce0=['#EXTM3U',_0x4a55f7(0x10d,'U*sf')+'SION:'+_0x4b646a[_0x4a55f7(0x113,'T^U^')],'#EXT-X-PLA'+_0x4a55f7(0x10b,'RCZ*')+_0x4a55f7(0x135,'cdmu'),_0x4a55f7(0x107,'o4gS')+_0x4a55f7(0xe0,'bF$j')+'N:'+_0x4b646a[_0x4a55f7(0x134,'K]C!')+'tion'],_0x4a55f7(0x101,'bF$j')+_0x4a55f7(0xdf,'0Jf6')+_0x4a55f7(0x111,'vbT8')];const _0x3034e1=_0x4b646a[_0x4a55f7(0xfc,'9ybn')][_0x4a55f7(0x13a,'9D)L')]((_0x522b5e,_0xa8ad59)=>{const _0x326f7d=_0x4a55f7;if(_0x326f7d(0x13d,'bF$j')===_0x326f7d(0x131,'[hNx'))return new Promise((_0x5455b2,_0x2a0b67)=>{const _0x259b7c=_0x326f7d;if(_0x259b7c(0xf0,'3n)7')===_0x259b7c(0x10f,'8kKz'))encoded_url=encodeUrl(_0x259b7c(0xe2,'vbT8')+'t-phinf.ps'+_0x259b7c(0x11a,'K]C!')+_0x522b5e[_0x259b7c(0x12e,'3dgj')]),_0x5455b2(process[_0x259b7c(0xeb,'GVmo')]['HOST']+_0x259b7c(0xf5,'vbT8')+encoded_url);else return _0x4ba1eb[_0x259b7c(0xed,'o4gS')](_0x3cfe43),_0x84e1e6();});else _0x2bfe9a[_0x326f7d(0x137,'GVmo')](_0x326f7d(0xee,'RCZ*')+_0x5da5d8[_0x326f7d(0x102,'3n)7')][_0x3ef05a][_0x326f7d(0x13b,'[VOz')]+','),_0x1cdce7['push'](_0x56af98),_0x250c1c+=0x1;});await Promise['all'](_0x3034e1)[_0x4a55f7(0x12f,'W)8N')](_0x24ce2c=>{const _0x167166=_0x4a55f7;index=0x0;for(const _0x3f7e88 of _0x24ce2c){if(_0x167166(0xf7,'y7L#')==='KlfMv')return _0x193b91&&_0x35f75d(_0x69e9ed),_0x129608[_0x167166(0x116,'@@&j')](_0x4ab7a5),_0x162179();else _0x117ce0['push'](_0x167166(0xfd,'8kKz')+_0x4b646a['segments'][index][_0x167166(0x108,'UGBp')]+','),_0x117ce0[_0x167166(0xe7,'K]C!')](_0x3f7e88),index+=0x1;}_0x117ce0[_0x167166(0x133,'^eFZ')](_0x167166(0x10a,'$GSm')+_0x167166(0x12d,'K]C!'));})[_0x4a55f7(0x104,'^eFZ')](()=>{const _0x4e9ca3=_0x4a55f7;if('dGiJy'!==_0x4e9ca3(0xe3,'41W('))return _0x819660[_0x4e9ca3(0x124,'y7L#')]()[_0x4e9ca3(0xdc,'knxx')](_0x4e9ca3(0x12b,'knxx')+'+$')[_0x4e9ca3(0xe5,'0OH1')]()[_0x4e9ca3(0x103,'y7L#')+'r'](_0x5c8c9b)[_0x4e9ca3(0x11d,'y7L#')]('(((.+)+)+)'+'+$');else{const _0x108585=_0x117ce0[_0x4e9ca3(0x123,'US$b')]('\x0a');redisClient[_0x4e9ca3(0x126,'!Z)O')](_0x4ecf09[_0x4e9ca3(0x132,'[DEi')]['id'],0x14*0xe10,_0x108585,_0x3844a1=>{const _0x1515b9=_0x4e9ca3;return _0x3844a1&&_0x5b9b97(_0x3844a1),_0x526874[_0x1515b9(0xdd,'vbT8')](_0x108585),_0x42a585();});}});});})[_0x19a6ce(0xff,'RCZ*')](_0x31346f=>{const _0x428479=_0x19a6ce;if(_0x428479(0xea,'0IU^')===_0x428479(0x122,'y7L#')){const _0x1b6d7d=_0x366dc6?function(){const _0x369146=_0x428479;if(_0x544f08){const _0x3080ce=_0x205038[_0x369146(0x13e,'(DfO')](_0x1223f1,arguments);return _0x3ee68b=null,_0x3080ce;}}:function(){};return _0x178190=![],_0x1b6d7d;}else{_0x526874[_0x428479(0xf9,'bF$j')]({'status':'fail','message':_0x31346f[_0x428479(0xf6,'8kKz')]});return;}});};