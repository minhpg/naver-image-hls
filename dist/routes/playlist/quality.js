function a20_0x5818(){const _0x368954=['WOpcGwvAWR3cKaXK','W5uiC8kF','mCoHW6xcIH0','gsZdRtaCB8kb','W5q3qwnqW7D2W5O','dYtcUabP','W5Crza','tHddIa','WOHIy1D9W4zf','Bu8CW6yFxCosqHPX','nCo8WRZcOq','b8krDI/dOmo0','Ewbw','W5ZcIXNcOSogW6ZdOH7cO0xdVSotxq','W7RdUSo1pMK','z8kOWP/dIW','pNFcRG','uMpcPwpcL0T+W5iXW6i','u13cJvlcQW','WRxcSdTfa21I','t07dHKPAE8kPWPK','W612W7apjtxdHHm','o3ldQCkVWO5XWQRcTd3cQmoyA3aT','W40VoaO3WOGlWQpdISo6','W7GzCSkkxLK','mbldKqnsECkxW6SJWO4','W7HkCmkcW7zQhcpcLmkCWOZcUSky','DNK2ja','W6hcG8ojACoFWQFcQqS','WOFcM0vg','sNqbrCkgWO8','vgpcTCoeWPtcKbvTW4tcICkaWQLMzW','BMj8pbCwmCop','s8oRWPpcG8kB','DmoyW6n4zW','imoNWQS','o0LIWPbsW6myWPvima','WQRcLsBdQ8kVxvJdHW','uwpcSColW6NdRgmmW5lcGa','WPvYy0W','gwXbbwncjtSvWQVcMSofea','WQxcKdL2AHPifq','k8kBW6ZdUCkvW48UWOL4WQnEWQa+','WQVdJ3i8DG','WPVcI1HjWRVcKq','WOxcHMevoKnbW6HKW7C','umk7W5hcTG8','W5ldKgepkfX+W5K','kq7dNwPz','W4CMWQuChW','vmoRWO/cMq','CGnSW6ZdNYS','WORdKeVdUCkrWRS','B3qGor8vmq','WRtdVSoSetldUverESohW64IWR0','rmkOW4RcOqFcVG','z2K2kq','nSoSWQJcPmo4W6dcOmki','W7xcRSkTswdcQai','W5BcOSkR','W4xcRfCYb39YWRe','WPfMyKn5W5vKW7/cK8kY','WQzwl8ofhqxdUCoCFmo4','iCkgW70xAIBcMCo7D8kN','EtdcR8oW','bmoioCkbW5tcTeW','W5ffdfGvWQRcHt0EWRS','W7xcG8oiya','W7ZdTCo3','isDgW5NdV2TP','WRNcOa9pCq','W5LJdre','WRe4WOyugIqG','o0LIWPbsW6myWOXmjG','WPzIFKa','WPf1pSoWWRtdJSkjW43cRmoz','W7XcCCkhW7fSga3cG8knWPlcLmkh','waRdJreDW6u','W6BcQCk8vMtdQW','W5FdMv4HaMDIW5S','Edarrtq','WRhcUdTgca','leWXWQpcNhDrWObfWPy','DbRcOmkwr8ktWO7dO1ZdPmoIW4TOtW','gSoPhCoGW6W','WQFcIHCKW7/cSSoQFrH9','WOdcGgecav9r','rtSExq','WO0Yu07dRmo+WOxdVCoKW6FcQG3dRq','dI7cTbu','WPpcNd5EEW','WQ3cLMrXDX9c','WOTJfwnt','WRPpnCoCabNcP8koxSoEWOWlWQ3dKW','W7BcGSoAFmoEWR0','eSo1bCkpWO7cUYNcMCkiWR8','W47cLsRdU8kZqv/cQvlcHW','W7JcGSkKW4Gc'];a20_0x5818=function(){return _0x368954;};return a20_0x5818();}const a20_0x3d7042=a20_0x3298;(function(_0x32a25b,_0x4722f1){const _0x4635a4=a20_0x3298,_0x1e1f4b=_0x32a25b();while(!![]){try{const _0x11ae2e=-parseInt(_0x4635a4(0x1c1,'Y5g3'))/0x1*(parseInt(_0x4635a4(0x1fd,'U@Ha'))/0x2)+-parseInt(_0x4635a4(0x1bc,'0GrX'))/0x3+-parseInt(_0x4635a4(0x1ac,'F)bX'))/0x4*(parseInt(_0x4635a4(0x1d3,'CmE^'))/0x5)+-parseInt(_0x4635a4(0x1c8,'W*Yw'))/0x6+-parseInt(_0x4635a4(0x1de,'F)bX'))/0x7+parseInt(_0x4635a4(0x1b1,'ke1]'))/0x8+-parseInt(_0x4635a4(0x1ef,'A!v]'))/0x9*(-parseInt(_0x4635a4(0x1e1,'Y5g3'))/0xa);if(_0x11ae2e===_0x4722f1)break;else _0x1e1f4b['push'](_0x1e1f4b['shift']());}catch(_0x408bfc){_0x1e1f4b['push'](_0x1e1f4b['shift']());}}}(a20_0x5818,0xd9874));const a20_0x48e005=function(){let _0x1f13cf=!![];return function(_0x4c5edb,_0x3dd593){const _0x268af0=a20_0x3298;if(_0x268af0(0x1e6,'q3y9')!==_0x268af0(0x1bd,'l$bS'))return new _0xb1da25((_0x275f58,_0x1d9254)=>{const _0x4b9b94=_0x268af0;_0x3fe407=_0x2dae05(_0x43eef2[_0x4b9b94(0x1f9,'vOxr')]),_0x275f58(_0x39fb09[_0x4b9b94(0x1d6,'&(gt')][_0x4b9b94(0x203,'aX$m')]+'/api/hls/'+_0x228c90);});else{const _0x45c821=_0x1f13cf?function(){const _0x57881c=_0x268af0;if(_0x57881c(0x1ec,'1T!!')===_0x57881c(0x1c2,'e#bI')){if(_0x3dd593){const _0x5035da=_0x3dd593[_0x57881c(0x1e3,'yF[0')](_0x4c5edb,arguments);return _0x3dd593=null,_0x5035da;}}else{if(_0x11f1b1){const _0x266bfb=_0x40e756[_0x57881c(0x1f6,'QO34')](_0x5d191d,arguments);return _0x85e48d=null,_0x266bfb;}}}:function(){};return _0x1f13cf=![],_0x45c821;}};}(),a20_0xcf37bf=a20_0x48e005(this,function(){const _0x1d98d0=a20_0x3298;return a20_0xcf37bf[_0x1d98d0(0x1f4,'kUil')]()[_0x1d98d0(0x1ff,'aB2z')]('(((.+)+)+)'+'+$')[_0x1d98d0(0x209,'Bw)W')]()[_0x1d98d0(0x1bf,'Y5g3')+'r'](a20_0xcf37bf)[_0x1d98d0(0x1b0,'w(1&')](_0x1d98d0(0x20b,'8U^j')+'+$');});a20_0xcf37bf();const fileSchema=require(a20_0x3d7042(0x1e4,'8#Ml')+a20_0x3d7042(0x1ed,'1T!!')),videoSchema=require('../../mode'+a20_0x3d7042(0x1b2,'jOdG')),base64=require(a20_0x3d7042(0x1f7,'FH3*')),levelClient=require(a20_0x3d7042(0x1d0,'A!v]')+'l'),encodeUrl=_0x51edf0=>{const _0x24089d=a20_0x3d7042,_0x2b8346=base64[_0x24089d(0x1c6,'A3Mb')](_0x51edf0);var _0x3682f0='';for(var _0x5ac5cf=_0x2b8346[_0x24089d(0x1be,'kUil')]-0x1;_0x5ac5cf>=0x0;_0x5ac5cf--){_0x3682f0+=_0x2b8346[_0x5ac5cf];}return _0x3682f0[_0x24089d(0x1cc,'W*Yw')](/=/g,'');};function a20_0x3298(_0xf51803,_0x19c174){const _0x1500a4=a20_0x5818();return a20_0x3298=function(_0xcf37bf,_0x48e005){_0xcf37bf=_0xcf37bf-0x1ac;let _0x5818c9=_0x1500a4[_0xcf37bf];if(a20_0x3298['VRyhbY']===undefined){var _0x329844=function(_0x3baa6c){const _0x52a17b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x584bab='',_0x3af39c='',_0x2dbbd4=_0x584bab+_0x329844;for(let _0x31c6b1=0x0,_0x5f1f3a,_0x4f7b18,_0x54fb3e=0x0;_0x4f7b18=_0x3baa6c['charAt'](_0x54fb3e++);~_0x4f7b18&&(_0x5f1f3a=_0x31c6b1%0x4?_0x5f1f3a*0x40+_0x4f7b18:_0x4f7b18,_0x31c6b1++%0x4)?_0x584bab+=_0x2dbbd4['charCodeAt'](_0x54fb3e+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x5f1f3a>>(-0x2*_0x31c6b1&0x6)):_0x31c6b1:0x0){_0x4f7b18=_0x52a17b['indexOf'](_0x4f7b18);}for(let _0x214c65=0x0,_0x328446=_0x584bab['length'];_0x214c65<_0x328446;_0x214c65++){_0x3af39c+='%'+('00'+_0x584bab['charCodeAt'](_0x214c65)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3af39c);};const _0xfe1a5a=function(_0x1052a7,_0x377ff7){let _0x568732=[],_0x132ad0=0x0,_0x24ace5,_0x485ce3='';_0x1052a7=_0x329844(_0x1052a7);let _0x1e637f;for(_0x1e637f=0x0;_0x1e637f<0x100;_0x1e637f++){_0x568732[_0x1e637f]=_0x1e637f;}for(_0x1e637f=0x0;_0x1e637f<0x100;_0x1e637f++){_0x132ad0=(_0x132ad0+_0x568732[_0x1e637f]+_0x377ff7['charCodeAt'](_0x1e637f%_0x377ff7['length']))%0x100,_0x24ace5=_0x568732[_0x1e637f],_0x568732[_0x1e637f]=_0x568732[_0x132ad0],_0x568732[_0x132ad0]=_0x24ace5;}_0x1e637f=0x0,_0x132ad0=0x0;for(let _0x305990=0x0;_0x305990<_0x1052a7['length'];_0x305990++){_0x1e637f=(_0x1e637f+0x1)%0x100,_0x132ad0=(_0x132ad0+_0x568732[_0x1e637f])%0x100,_0x24ace5=_0x568732[_0x1e637f],_0x568732[_0x1e637f]=_0x568732[_0x132ad0],_0x568732[_0x132ad0]=_0x24ace5,_0x485ce3+=String['fromCharCode'](_0x1052a7['charCodeAt'](_0x305990)^_0x568732[(_0x568732[_0x1e637f]+_0x568732[_0x132ad0])%0x100]);}return _0x485ce3;};a20_0x3298['orFETo']=_0xfe1a5a,_0xf51803=arguments,a20_0x3298['VRyhbY']=!![];}const _0x24cb5b=_0x1500a4[0x0],_0x465a7c=_0xcf37bf+_0x24cb5b,_0x400991=_0xf51803[_0x465a7c];if(!_0x400991){if(a20_0x3298['JtVjim']===undefined){const _0x578546=function(_0x461df0){this['UOwoJA']=_0x461df0,this['OSoFqs']=[0x1,0x0,0x0],this['bpRubw']=function(){return'newState';},this['YaHfKt']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['bzhBwW']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x578546['prototype']['eFKSMt']=function(){const _0x1b9d1d=new RegExp(this['YaHfKt']+this['bzhBwW']),_0x448cfb=_0x1b9d1d['test'](this['bpRubw']['toString']())?--this['OSoFqs'][0x1]:--this['OSoFqs'][0x0];return this['xiugKj'](_0x448cfb);},_0x578546['prototype']['xiugKj']=function(_0x3344b6){if(!Boolean(~_0x3344b6))return _0x3344b6;return this['Ryzfbh'](this['UOwoJA']);},_0x578546['prototype']['Ryzfbh']=function(_0x148b36){for(let _0x2ee3e4=0x0,_0x474d54=this['OSoFqs']['length'];_0x2ee3e4<_0x474d54;_0x2ee3e4++){this['OSoFqs']['push'](Math['round'](Math['random']())),_0x474d54=this['OSoFqs']['length'];}return _0x148b36(this['OSoFqs'][0x0]);},new _0x578546(a20_0x3298)['eFKSMt'](),a20_0x3298['JtVjim']=!![];}_0x5818c9=a20_0x3298['orFETo'](_0x5818c9,_0x48e005),_0xf51803[_0x465a7c]=_0x5818c9;}else _0x5818c9=_0x400991;return _0x5818c9;},a20_0x3298(_0xf51803,_0x19c174);}module[a20_0x3d7042(0x207,'yF[0')]=(_0x1c3c2b,_0x382cbe)=>{const _0x59da87=a20_0x3d7042;return new Promise((_0x2f5009,_0x4dd9a7)=>{const _0x469685=a20_0x3298;levelClient['get'](_0x1c3c2b[_0x469685(0x1c9,'n)6b')]['id'],async(_0x5662e3,_0x493976)=>{const _0x23eba7=_0x469685;if(_0x23eba7(0x1b4,'3Ic)')===_0x23eba7(0x1ee,'JX&8')){_0x5662e3&&(!_0x5662e3[_0x23eba7(0x1c7,'jOdG')]['includes'](_0x23eba7(0x20d,'e#bI')+_0x23eba7(0x1d1,'PTEZ')+_0x23eba7(0x1e0,'W*Yw'))&&(_0x23eba7(0x1f3,'KW3Y')!==_0x23eba7(0x1d8,'1T!!')?_0x4dd9a7(_0x5662e3):_0x545c75+=_0x49e308[_0xadacde]));if(_0x493976){if(_0x23eba7(0x206,'Q%&h')!==_0x23eba7(0x1e2,'gFeR'))return _0x382cbe[_0x23eba7(0x1dc,'8U^j')](_0x493976),_0x2f5009();else _0x376228(_0x504c74);}const _0x4ccbc6=await videoSchema['findOne']({'_id':_0x1c3c2b[_0x23eba7(0x20c,'A!v]')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x23eba7(0x1ca,'jOdG')]();!_0x4ccbc6&&(_0x382cbe[_0x23eba7(0x1df,'hC(s')](0x194),_0x382cbe[_0x23eba7(0x1b5,'FyLe')](),_0x2f5009());const _0x45eba4=await fileSchema[_0x23eba7(0x1e8,'Y5g3')]({'_id':_0x4ccbc6['files'][0x0][_0x23eba7(0x1fa,'A!v]')]})[_0x23eba7(0x1eb,'vOxr')]();!_0x45eba4&&(_0x382cbe[_0x23eba7(0x1f0,'Rn9%')](0x194),_0x382cbe[_0x23eba7(0x1fb,'hC(s')](),_0x2f5009());var _0x42fb9d=[_0x23eba7(0x1d7,'8#Ml'),_0x23eba7(0x1d4,'JX&8')+_0x23eba7(0x1b3,'0GrX')+_0x45eba4['version'],_0x23eba7(0x1dd,'hO5e')+_0x23eba7(0x205,'Q%&h')+':VOD',_0x23eba7(0x1b6,'#gbt')+_0x23eba7(0x1f2,'T5Bb')+'N:'+_0x45eba4[_0x23eba7(0x1cf,'8U^j')+'tion'],_0x23eba7(0x1db,'#gbt')+_0x23eba7(0x1e7,'rM4D')+_0x23eba7(0x204,'FH3*')];const _0x5e2f2d=_0x45eba4['segments']['map']((_0x1f2cf9,_0x22daea)=>{const _0x292230=_0x23eba7;if(_0x292230(0x1c3,'sH$9')==='CfGRr')return new Promise((_0x44e927,_0x226305)=>{const _0x286df9=_0x292230;'ZFPBv'!=='ZFPBv'?(_0x5da847[_0x286df9(0x1af,'kUil')](_0x286df9(0x1ce,'Y5g3')+_0x2a58d2['segments'][_0x500c0d][_0x286df9(0x1ae,'Rn9%')]+','),_0x25a8bc[_0x286df9(0x1b9,'8U^j')](_0x3a806e),_0x5031fb+=0x1):(encoded_url=encodeUrl(_0x1f2cf9[_0x286df9(0x1c0,'n)6b')]),_0x44e927(process[_0x286df9(0x1cd,'KW3Y')][_0x286df9(0x1f5,')0V9')]+'/api/hls/'+encoded_url));});else _0x11254c(_0x214ca3);});await Promise[_0x23eba7(0x200,'#gbt')](_0x5e2f2d)['then'](_0x28d72a=>{const _0x4e35de=_0x23eba7;index=0x0;for(const _0x4f8722 of _0x28d72a){_0x42fb9d[_0x4e35de(0x1fe,'FyLe')](_0x4e35de(0x1b7,'T5Bb')+_0x45eba4[_0x4e35de(0x1cb,'FyLe')][index][_0x4e35de(0x1bb,'1T!!')]+','),_0x42fb9d[_0x4e35de(0x1d5,'Rn9%')](_0x4f8722),index+=0x1;}_0x42fb9d[_0x4e35de(0x1d2,'3lf$')](_0x4e35de(0x1f1,'CmE^')+_0x4e35de(0x1c4,'0GrX'));})[_0x23eba7(0x1ad,'jOdG')](()=>{const _0x3ab1db=_0x23eba7,_0x313e76=_0x42fb9d[_0x3ab1db(0x1e9,'gFeR')]('\x0a');levelClient['put'](_0x1c3c2b[_0x3ab1db(0x1c5,'8#Ml')]['id'],_0x313e76,_0x141687=>{return _0x141687&&_0x4dd9a7(_0x141687),_0x382cbe['send'](_0x313e76),_0x2f5009();});});}else{const _0x18125b=_0x54fb3e?function(){if(_0x132ad0){const _0x21fb71=_0x305990['apply'](_0x578546,arguments);return _0x461df0=null,_0x21fb71;}}:function(){};return _0x568732=![],_0x18125b;}});})[_0x59da87(0x202,'&(gt')](_0x4742e2=>{const _0x3f39a7=_0x59da87;_0x382cbe['json']({'status':_0x3f39a7(0x1d9,'1FaH'),'message':_0x4742e2[_0x3f39a7(0x1fc,'8U^j')]});return;});};