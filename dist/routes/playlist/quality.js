function a20_0x5198(_0x16e79b,_0x21d157){const _0x11f903=a20_0x1a98();return a20_0x5198=function(_0xffa87a,_0x48c815){_0xffa87a=_0xffa87a-0xd1;let _0x1a9881=_0x11f903[_0xffa87a];if(a20_0x5198['ZsbEaO']===undefined){var _0x51981b=function(_0x3bfee1){const _0x2e0f8d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1b0e4d='',_0x1cca8b='',_0x4e6a72=_0x1b0e4d+_0x51981b;for(let _0x30beb4=0x0,_0x42e397,_0x33ba0e,_0x57793c=0x0;_0x33ba0e=_0x3bfee1['charAt'](_0x57793c++);~_0x33ba0e&&(_0x42e397=_0x30beb4%0x4?_0x42e397*0x40+_0x33ba0e:_0x33ba0e,_0x30beb4++%0x4)?_0x1b0e4d+=_0x4e6a72['charCodeAt'](_0x57793c+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x42e397>>(-0x2*_0x30beb4&0x6)):_0x30beb4:0x0){_0x33ba0e=_0x2e0f8d['indexOf'](_0x33ba0e);}for(let _0x6bbbe5=0x0,_0x34d244=_0x1b0e4d['length'];_0x6bbbe5<_0x34d244;_0x6bbbe5++){_0x1cca8b+='%'+('00'+_0x1b0e4d['charCodeAt'](_0x6bbbe5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1cca8b);};const _0x50b1ec=function(_0x26e6be,_0x5dc1c4){let _0x143352=[],_0x36179e=0x0,_0x165a49,_0x58cc66='';_0x26e6be=_0x51981b(_0x26e6be);let _0x599085;for(_0x599085=0x0;_0x599085<0x100;_0x599085++){_0x143352[_0x599085]=_0x599085;}for(_0x599085=0x0;_0x599085<0x100;_0x599085++){_0x36179e=(_0x36179e+_0x143352[_0x599085]+_0x5dc1c4['charCodeAt'](_0x599085%_0x5dc1c4['length']))%0x100,_0x165a49=_0x143352[_0x599085],_0x143352[_0x599085]=_0x143352[_0x36179e],_0x143352[_0x36179e]=_0x165a49;}_0x599085=0x0,_0x36179e=0x0;for(let _0x32d88=0x0;_0x32d88<_0x26e6be['length'];_0x32d88++){_0x599085=(_0x599085+0x1)%0x100,_0x36179e=(_0x36179e+_0x143352[_0x599085])%0x100,_0x165a49=_0x143352[_0x599085],_0x143352[_0x599085]=_0x143352[_0x36179e],_0x143352[_0x36179e]=_0x165a49,_0x58cc66+=String['fromCharCode'](_0x26e6be['charCodeAt'](_0x32d88)^_0x143352[(_0x143352[_0x599085]+_0x143352[_0x36179e])%0x100]);}return _0x58cc66;};a20_0x5198['PAhmLR']=_0x50b1ec,_0x16e79b=arguments,a20_0x5198['ZsbEaO']=!![];}const _0x3d5f76=_0x11f903[0x0],_0x4c0ed9=_0xffa87a+_0x3d5f76,_0x2d6614=_0x16e79b[_0x4c0ed9];if(!_0x2d6614){if(a20_0x5198['MtxXCq']===undefined){const _0x3be2cf=function(_0x208f28){this['rLKIZj']=_0x208f28,this['ieyoUL']=[0x1,0x0,0x0],this['WlMRmI']=function(){return'newState';},this['xQOHxp']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['kxqbaE']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3be2cf['prototype']['nHuHMI']=function(){const _0x2f8e59=new RegExp(this['xQOHxp']+this['kxqbaE']),_0x389049=_0x2f8e59['test'](this['WlMRmI']['toString']())?--this['ieyoUL'][0x1]:--this['ieyoUL'][0x0];return this['dIWkdj'](_0x389049);},_0x3be2cf['prototype']['dIWkdj']=function(_0x3ce63f){if(!Boolean(~_0x3ce63f))return _0x3ce63f;return this['mNJhyH'](this['rLKIZj']);},_0x3be2cf['prototype']['mNJhyH']=function(_0x301e1d){for(let _0x3185bc=0x0,_0x484b61=this['ieyoUL']['length'];_0x3185bc<_0x484b61;_0x3185bc++){this['ieyoUL']['push'](Math['round'](Math['random']())),_0x484b61=this['ieyoUL']['length'];}return _0x301e1d(this['ieyoUL'][0x0]);},new _0x3be2cf(a20_0x5198)['nHuHMI'](),a20_0x5198['MtxXCq']=!![];}_0x1a9881=a20_0x5198['PAhmLR'](_0x1a9881,_0x48c815),_0x16e79b[_0x4c0ed9]=_0x1a9881;}else _0x1a9881=_0x2d6614;return _0x1a9881;},a20_0x5198(_0x16e79b,_0x21d157);}const a20_0x940680=a20_0x5198;(function(_0x34c4fb,_0x4b9f3a){const _0x531d75=a20_0x5198,_0x247f3c=_0x34c4fb();while(!![]){try{const _0x82eb4e=-parseInt(_0x531d75(0x136,'RM^F'))/0x1+parseInt(_0x531d75(0xd7,'H@lg'))/0x2+-parseInt(_0x531d75(0xdd,'I$HM'))/0x3*(-parseInt(_0x531d75(0xdc,'K^16'))/0x4)+-parseInt(_0x531d75(0x131,'oQJa'))/0x5*(-parseInt(_0x531d75(0x12f,'oQJa'))/0x6)+parseInt(_0x531d75(0x111,'L4F#'))/0x7+-parseInt(_0x531d75(0xf6,'IaRt'))/0x8*(parseInt(_0x531d75(0xdb,'u3qw'))/0x9)+-parseInt(_0x531d75(0x12d,'Ud%J'))/0xa;if(_0x82eb4e===_0x4b9f3a)break;else _0x247f3c['push'](_0x247f3c['shift']());}catch(_0x570996){_0x247f3c['push'](_0x247f3c['shift']());}}}(a20_0x1a98,0x60adf));const a20_0x48c815=function(){let _0x5bf182=!![];return function(_0x4e5c14,_0x29bc6f){const _0x2b2c52=_0x5bf182?function(){const _0x934593=a20_0x5198;if(_0x29bc6f){if(_0x934593(0x116,'h^Yu')!==_0x934593(0xee,'95^m')){const _0x419d8d=_0x29bc6f[_0x934593(0xef,'J[p(')](_0x4e5c14,arguments);return _0x29bc6f=null,_0x419d8d;}else return _0x34c481['toString']()[_0x934593(0x11b,'h^Yu')](_0x934593(0xdf,'95^m')+'+$')[_0x934593(0xeb,'kgSf')]()['constructo'+'r'](_0x1265a3)[_0x934593(0x11c,'uuGG')]('(((.+)+)+)'+'+$');}}:function(){};return _0x5bf182=![],_0x2b2c52;};}(),a20_0xffa87a=a20_0x48c815(this,function(){const _0x5cae62=a20_0x5198;return a20_0xffa87a[_0x5cae62(0x11f,'I$HM')]()[_0x5cae62(0x126,'bWq2')](_0x5cae62(0x12e,'nQwS')+'+$')[_0x5cae62(0xe6,'TNgA')]()[_0x5cae62(0x117,'pxjx')+'r'](a20_0xffa87a)[_0x5cae62(0xd3,'haIY')](_0x5cae62(0x112,'RM^F')+'+$');});function a20_0x1a98(){const _0x32f252=['xmo3ELhcHa','W5NdGaZdUSogW5ZcIx8DWRS','ee3cISkUW47cQ8keWOW','WRJcK8kgWRKB','hCk4ha0eoCoNW5i','WRflW6i','WQhdN8kMgZ0ahCkvnLO','oLVcOSknW5i','W4HHsmoNW753','WQRcNGeA','WPDqkSosW411ba','cwNdOSoUW7jkorBcT8ox','igpdQmoe','yNpcISkzW5WTkCo0WRddKW','WRZcJmouWQVcK8oq','CNVcJCkuW5mYiCoQWQZdUa','shnwW5erWOyU','vu3dJrFcT8ofWO8uWRyAs3xcNG','WP0fxve','WPxdUSoolmkingW','W7TAqCo4zNrFWRC','W4hdRmkvpfq','W5X2nmkKxmoUhCovmmk3','WR/cKXCr','W44jW7i','BH7dImkFiCoZhtmyWO03EgC','B8orACo8i8k4W5fAyfG','ouXYea5BD8o/vw0','W7ddUtBdGq','gsHEW4mZWQW9Bq','AsBcQthdIG','lgZcJmkdW4y5CSoNWRFdIa','gKusWPpdTwG','DGmSWPupW5uWWQyuWRO','gmk9hGaj','qHFcIqZdRc0','u8kxpmofW7mE','BmkiW5fDsdG3','xqzeW5lcTsmrEmocW5bkgq','EddcSe4IWQxdOHO','wMjm','W6tdU8kxiW','W71DW68cBqpdNWf+cG','WRFdKHjuWQGXC0nywq','W4GWWPL3WQW','WRhcH1yWfmkr','W4PRjCk3uCoI','WOhdGxtcPq','tK/cOHhcV2eF','WRFcNIO','W5SbW6CVBb/dMIFcPmob','W4hcOCkzFCo2BJKpemomqbpdSa','WOWvxvW','wWnkW5lcSs9wt8oTW49+oJ0','W7a3mCkcbbmYWQrbxa','DqqTWP0yWPL0WR9cWRRdSaJdTq','WRLRCmopavr8W7K','Cv1YW7DEW4ed','mvVcO8kfW6K','BZBcGLz+WQVdOXlcOgC','WOFcSd8','WQT6BCojvW','CmokD8oGpCkMWQ0Lcqq7W6i','W6/dKCoJFfa','smojD1FcUW','W5hdOulcLCoPbw/cUmoMWO8','W43dG8oFw3/cNW','W7KTW4qTuG','WR3cN8kdWQ4xDa','uSoQEKK','rrpcMHNdQJhdMbxcM8kX','W7bpACkwD8oBDCkHwmkg','WOSOWOTXd2lcQbXzadJdPmk9','FNXFW480','WONdUrjdW7i','W63dQtBdMSoZWPBcUa','jYFcVdBcO3dcIdaFotS0','W6CFWR3dV8oknCoUosxdH8kP','o23cHuW9WOJdUJa','W6VcV0GJWQ4zW7pdIbtdRq','WQJcPg3cH8k5W5JdTG9MW5C','WRJcMKG4eSknxa','WRzoW6lcOSkb','kbxcIg7dSG','xIBdUSorWQXYlCoJW7v2','r8kxkCoeWR8gW5yxmru','W58WWOdcQcddIZ9UnJ3dRSkg','c0NdO8kkWQrUW5RdIq','W5hdK8kXasO','W5fBkSoK','iL1Oba','y3hdUwldUZS','W4lcLSo6rLJcUbVdHa','FuXSW7Ci','WQpcLuSpWQ4LC0i','W6xdHZpdMCov','WRZcKKG7gq','W7ddV8koi3e7vq','W5VdI8obxZlcGGDIW6hdIq','WPZdPSoola','W5TVn8kGh8k8fa','x1NdMfC','WO5IW5/dTG','W4a2vxFcUmo9CG','cvVcGSkT'];a20_0x1a98=function(){return _0x32f252;};return a20_0x1a98();}a20_0xffa87a();const fileSchema=require('../../mode'+a20_0x940680(0x11d,'h8JH')),videoSchema=require('../../mode'+a20_0x940680(0xed,'mh([')),base64=require(a20_0x940680(0xf3,'bWq2')),redisClient=require(a20_0x940680(0xde,'qsa]')+'s'),encodeUrl=_0x3218d4=>{const _0x17f33f=a20_0x940680,_0x150726=base64[_0x17f33f(0x100,'n2Fy')](_0x3218d4);var _0x2283b3='';for(var _0x1b3541=_0x150726[_0x17f33f(0x125,'J[p(')]-0x1;_0x1b3541>=0x0;_0x1b3541--){_0x2283b3+=_0x150726[_0x1b3541];}return _0x2283b3['replace'](/=/g,'');};module[a20_0x940680(0xe0,'J[p(')]=(_0x401ce8,_0x1886c2)=>{return new Promise((_0x2cfc94,_0x17d685)=>{const _0x2a137a=a20_0x5198;redisClient['get'](_0x401ce8[_0x2a137a(0xea,'u3qw')]['id'],async(_0x539fc6,_0x26ffd1)=>{const _0x476119=_0x2a137a;if(_0x476119(0x137,'1suM')===_0x476119(0x132,'14wo')){_0x539fc6&&(_0x476119(0xe2,'VMfM')===_0x476119(0xd9,'qsa]')?_0x17d685(_0x539fc6):_0x39ea62(_0x152b6d));if(_0x26ffd1)return _0x1886c2[_0x476119(0xe9,'v*Am')](_0x26ffd1),_0x2cfc94();const _0x35fea5=await videoSchema[_0x476119(0x108,'fCm3')]({'_id':_0x401ce8[_0x476119(0xd1,'1suM')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x476119(0x10a,'IaRt')]();if(!_0x35fea5)return _0x1886c2[_0x476119(0x118,'Ud%J')](0x194),_0x1886c2['json']({'message':'fail','message':'file\x20not\x20f'+_0x476119(0xf2,'v)Yg')}),_0x2cfc94();const _0x58d1b4=await fileSchema[_0x476119(0x10b,'v)Yg')]({'_id':_0x35fea5[_0x476119(0xe1,'K^16')][0x0][_0x476119(0x134,'H9Va')]})[_0x476119(0x101,'mh([')]();if(!_0x58d1b4)return _0x1886c2[_0x476119(0x106,'QyV^')](0x194),_0x1886c2['json']({'message':_0x476119(0xf5,'VXC^'),'message':_0x476119(0xf1,'1suM')+'ound'}),_0x2cfc94();var _0x19765c=['#EXTM3U','#EXT-X-VER'+_0x476119(0xe7,'1QUa')+_0x58d1b4['version'],_0x476119(0x103,'Gl@8')+_0x476119(0xf9,'95^m')+':VOD',_0x476119(0xfe,'1QUa')+_0x476119(0x122,'H@lg')+'N:'+_0x58d1b4[_0x476119(0xd5,'h^Yu')+_0x476119(0x104,'3LX@')],'#EXT-X-MED'+_0x476119(0xd6,'bWq2')+_0x476119(0x129,'t1]j')];const _0x26f847=_0x58d1b4[_0x476119(0xfa,'14wo')]['map']((_0x398987,_0x58f0bd)=>{const _0x2f3658=_0x476119;if(_0x2f3658(0xff,'14wo')!==_0x2f3658(0xd2,'Hvnl'))return new Promise((_0x2ecc64,_0xd4c1c2)=>{const _0x10b787=_0x2f3658;if(_0x10b787(0x10d,'1QUa')!=='HuoJW')_0x2ecc64(_0x10b787(0x113,'v*Am')+_0x10b787(0x123,'mh([')+_0x10b787(0x133,'I$HM')+'euserconte'+'nt.com/gad'+_0x10b787(0xe4,'uuGG')+_0x10b787(0xe3,'dMPU')+_0x10b787(0x107,'pxjx')+_0x10b787(0x10e,'bWq2')+_0x10b787(0x12a,'Hvnl')+_0x10b787(0x119,'oQJa')+'ttp://post'+_0x10b787(0x105,'pxjx')+_0x10b787(0x130,'nQwS')+_0x398987[_0x10b787(0xf8,'tuPZ')][_0x10b787(0x128,'hF1g')](_0x10b787(0xfb,'haIY'),'file')[_0x10b787(0xf0,'1QUa')](_0x10b787(0x110,'Hvnl'),_0x10b787(0x120,'fCm3')));else{if(_0x37cc7a){const _0x4b3b87=_0x3b750f[_0x10b787(0x11a,'wwNR')](_0x70c18c,arguments);return _0x537d0b=null,_0x4b3b87;}}});else _0x3a84f9+=_0x5eb12d[_0x208b97];});await Promise[_0x476119(0xfd,'K^16')](_0x26f847)['then'](_0x20ffd5=>{const _0x40bd4a=_0x476119;if(_0x40bd4a(0x124,'YCRG')!==_0x40bd4a(0x138,'tuPZ')){index=0x0;for(const _0x2fd21b of _0x20ffd5){_0x19765c[_0x40bd4a(0x114,'95^m')](_0x40bd4a(0x10c,'nQwS')+_0x58d1b4['segments'][index][_0x40bd4a(0xfc,'wwNR')]+','),_0x19765c[_0x40bd4a(0x10f,'mh([')](_0x2fd21b),index+=0x1;}_0x19765c['push'](_0x40bd4a(0x139,'t1]j')+_0x40bd4a(0xf4,'u3qw'));}else{_0x1a0add['json']({'status':_0x40bd4a(0x121,'1QUa'),'message':_0x359797[_0x40bd4a(0xda,'95^m')]});return;}})[_0x476119(0x12c,'IaRt')](()=>{const _0x376cfc=_0x476119,_0x4efc79=_0x19765c[_0x376cfc(0xd4,'tuPZ')]('\x0a');redisClient[_0x376cfc(0x135,'nQwS')](_0x401ce8['params']['id'],0x14*0xe10,_0x4efc79,_0x23bbc3=>{const _0x4abc5c=_0x376cfc;return _0x4abc5c(0xec,'fCm3')===_0x4abc5c(0xd8,'fCm3')?(_0xd99242&&_0x54c7a5(_0x3b9653),_0x47effa[_0x4abc5c(0x127,'t1]j')](_0x4fe2a0),_0x4e35ad()):(_0x23bbc3&&_0x17d685(_0x23bbc3),_0x1886c2[_0x4abc5c(0xe8,'$Tv2')](_0x4efc79),_0x2cfc94());});});}else _0x46d78f(_0x3449e7);});})['catch'](_0x3d116f=>{const _0x120e4f=a20_0x5198;_0x1886c2[_0x120e4f(0xf7,'14wo')]({'status':'fail','message':_0x3d116f['message']});return;});};