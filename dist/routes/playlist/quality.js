const a21_0x23fe7e=a21_0x4f42;(function(_0x1e9843,_0x42b732){const _0x133112=a21_0x4f42,_0x4686d8=_0x1e9843();while(!![]){try{const _0x492e0e=parseInt(_0x133112(0xeb,'PVNM'))/0x1*(parseInt(_0x133112(0xf4,'Xaj1'))/0x2)+-parseInt(_0x133112(0xf2,'eWqc'))/0x3+-parseInt(_0x133112(0xfe,'23w5'))/0x4+parseInt(_0x133112(0xdd,'$pJd'))/0x5+parseInt(_0x133112(0xe3,'Pcvn'))/0x6*(-parseInt(_0x133112(0x10e,'l]Yy'))/0x7)+-parseInt(_0x133112(0xe1,']cdc'))/0x8+parseInt(_0x133112(0xfd,'xfBY'))/0x9*(parseInt(_0x133112(0x106,'ue%N'))/0xa);if(_0x492e0e===_0x42b732)break;else _0x4686d8['push'](_0x4686d8['shift']());}catch(_0x107615){_0x4686d8['push'](_0x4686d8['shift']());}}}(a21_0x36cf,0x5e27e));function a21_0x4f42(_0x33d053,_0x21c8b0){const _0x593a4e=a21_0x36cf();return a21_0x4f42=function(_0x53bd85,_0x3c9580){_0x53bd85=_0x53bd85-0xd0;let _0x36cfb0=_0x593a4e[_0x53bd85];if(a21_0x4f42['YpWXqU']===undefined){var _0x4f42e9=function(_0x3363cc){const _0x3685ea='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x369d77='',_0x3bc8f1='',_0x5d67c0=_0x369d77+_0x4f42e9;for(let _0x38e334=0x0,_0xc13ac,_0x4c11f4,_0x54e119=0x0;_0x4c11f4=_0x3363cc['charAt'](_0x54e119++);~_0x4c11f4&&(_0xc13ac=_0x38e334%0x4?_0xc13ac*0x40+_0x4c11f4:_0x4c11f4,_0x38e334++%0x4)?_0x369d77+=_0x5d67c0['charCodeAt'](_0x54e119+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xc13ac>>(-0x2*_0x38e334&0x6)):_0x38e334:0x0){_0x4c11f4=_0x3685ea['indexOf'](_0x4c11f4);}for(let _0x522fc4=0x0,_0x23c315=_0x369d77['length'];_0x522fc4<_0x23c315;_0x522fc4++){_0x3bc8f1+='%'+('00'+_0x369d77['charCodeAt'](_0x522fc4)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3bc8f1);};const _0x5b12c8=function(_0x381f1a,_0x262d44){let _0x3654c7=[],_0x12af3d=0x0,_0x7847be,_0x266f96='';_0x381f1a=_0x4f42e9(_0x381f1a);let _0x5e337c;for(_0x5e337c=0x0;_0x5e337c<0x100;_0x5e337c++){_0x3654c7[_0x5e337c]=_0x5e337c;}for(_0x5e337c=0x0;_0x5e337c<0x100;_0x5e337c++){_0x12af3d=(_0x12af3d+_0x3654c7[_0x5e337c]+_0x262d44['charCodeAt'](_0x5e337c%_0x262d44['length']))%0x100,_0x7847be=_0x3654c7[_0x5e337c],_0x3654c7[_0x5e337c]=_0x3654c7[_0x12af3d],_0x3654c7[_0x12af3d]=_0x7847be;}_0x5e337c=0x0,_0x12af3d=0x0;for(let _0x2a0aff=0x0;_0x2a0aff<_0x381f1a['length'];_0x2a0aff++){_0x5e337c=(_0x5e337c+0x1)%0x100,_0x12af3d=(_0x12af3d+_0x3654c7[_0x5e337c])%0x100,_0x7847be=_0x3654c7[_0x5e337c],_0x3654c7[_0x5e337c]=_0x3654c7[_0x12af3d],_0x3654c7[_0x12af3d]=_0x7847be,_0x266f96+=String['fromCharCode'](_0x381f1a['charCodeAt'](_0x2a0aff)^_0x3654c7[(_0x3654c7[_0x5e337c]+_0x3654c7[_0x12af3d])%0x100]);}return _0x266f96;};a21_0x4f42['OptKqZ']=_0x5b12c8,_0x33d053=arguments,a21_0x4f42['YpWXqU']=!![];}const _0x3c8699=_0x593a4e[0x0],_0x22d432=_0x53bd85+_0x3c8699,_0x3ab715=_0x33d053[_0x22d432];if(!_0x3ab715){if(a21_0x4f42['qAfKMM']===undefined){const _0x3efb79=function(_0x1c7fa5){this['vEhsnK']=_0x1c7fa5,this['GHezPb']=[0x1,0x0,0x0],this['UpGvPC']=function(){return'newState';},this['FlQFOB']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['fbHpVg']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3efb79['prototype']['KMpPVb']=function(){const _0x59bfba=new RegExp(this['FlQFOB']+this['fbHpVg']),_0x29fce8=_0x59bfba['test'](this['UpGvPC']['toString']())?--this['GHezPb'][0x1]:--this['GHezPb'][0x0];return this['BvrHnA'](_0x29fce8);},_0x3efb79['prototype']['BvrHnA']=function(_0x1bd3f7){if(!Boolean(~_0x1bd3f7))return _0x1bd3f7;return this['TeJcsF'](this['vEhsnK']);},_0x3efb79['prototype']['TeJcsF']=function(_0x5b996b){for(let _0x5ae7fc=0x0,_0x36f509=this['GHezPb']['length'];_0x5ae7fc<_0x36f509;_0x5ae7fc++){this['GHezPb']['push'](Math['round'](Math['random']())),_0x36f509=this['GHezPb']['length'];}return _0x5b996b(this['GHezPb'][0x0]);},new _0x3efb79(a21_0x4f42)['KMpPVb'](),a21_0x4f42['qAfKMM']=!![];}_0x36cfb0=a21_0x4f42['OptKqZ'](_0x36cfb0,_0x3c9580),_0x33d053[_0x22d432]=_0x36cfb0;}else _0x36cfb0=_0x3ab715;return _0x36cfb0;},a21_0x4f42(_0x33d053,_0x21c8b0);}const a21_0x3c9580=function(){let _0x4683c3=!![];return function(_0x46c569,_0x43faf7){const _0x33776a=_0x4683c3?function(){const _0x4fa20d=a21_0x4f42;if(_0x43faf7){if(_0x4fa20d(0x124,'qK)&')!==_0x4fa20d(0xf8,'qK)&')){const _0xae7219=_0x43faf7[_0x4fa20d(0x112,'*5kg')](_0x46c569,arguments);return _0x43faf7=null,_0xae7219;}else _0x1b47f5['status'](0x194),_0x8dad3['end'](),_0x4bd332();}}:function(){};return _0x4683c3=![],_0x33776a;};}(),a21_0x53bd85=a21_0x3c9580(this,function(){const _0x12fe15=a21_0x4f42;return a21_0x53bd85['toString']()[_0x12fe15(0x11b,'xfBY')](_0x12fe15(0xfc,'Z]Ak')+'+$')[_0x12fe15(0xe2,'TRKC')]()[_0x12fe15(0xee,'PVNM')+'r'](a21_0x53bd85)[_0x12fe15(0x116,'hjsV')](_0x12fe15(0x109,'t*&c')+'+$');});a21_0x53bd85();const fileSchema=require('../../mode'+'ls/file'),videoSchema=require(a21_0x23fe7e(0xd5,'562C')+a21_0x23fe7e(0xe6,'O89q')),base64=require(a21_0x23fe7e(0xd7,'W!fz')),levelClient=require(a21_0x23fe7e(0x121,'i0*T')+'l'),encodeUrl=_0xfc8daf=>{const _0x1dbe46=a21_0x23fe7e,_0x13114c=base64[_0x1dbe46(0x129,'i0*T')](_0xfc8daf);var _0x4a2366='';for(var _0x36228d=_0x13114c[_0x1dbe46(0x12c,'8s44')]-0x1;_0x36228d>=0x0;_0x36228d--){_0x1dbe46(0x110,'&KIY')!==_0x1dbe46(0xff,'x(*^')?_0x4a2366+=_0x13114c[_0x36228d]:_0x14b35f(_0x5adc5e);}return _0x4a2366[_0x1dbe46(0xdb,'E)Sx')](/=/g,'');};module[a21_0x23fe7e(0x11f,'Vwkc')]=(_0x15db19,_0x1d2573)=>{const _0x2258af=a21_0x23fe7e;return new Promise((_0x21a70b,_0x23e2ec)=>{const _0x186f40=a21_0x4f42;levelClient[_0x186f40(0x123,'h@2A')](_0x15db19[_0x186f40(0x115,'WIz3')]['id'],async(_0x19a6bf,_0xec4230)=>{const _0x5e5849=_0x186f40;_0x19a6bf&&(!_0x19a6bf[_0x5e5849(0x119,'l]Yy')]['includes'](_0x5e5849(0xd9,'zPKl')+_0x5e5849(0x10b,'&KIY')+_0x5e5849(0x125,'iWfw'))&&_0x23e2ec(_0x19a6bf));if(_0xec4230)return _0x1d2573[_0x5e5849(0xd2,'O89q')](_0xec4230),_0x21a70b();const _0x5d45e4=await videoSchema[_0x5e5849(0xf9,'kBol')]({'_id':_0x15db19[_0x5e5849(0xf6,'Pcvn')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x5e5849(0x12b,'t*&c')]();!_0x5d45e4&&(_0x1d2573[_0x5e5849(0x113,']cdc')](0x194),_0x1d2573[_0x5e5849(0xd1,'t*&c')](),_0x21a70b());const _0x401f74=await fileSchema[_0x5e5849(0xea,'Xaj1')]({'_id':_0x5d45e4[_0x5e5849(0xec,'Vwkc')][0x0][_0x5e5849(0xe9,'*5kg')]})['exec']();!_0x401f74&&(_0x1d2573[_0x5e5849(0x11e,'cqwC')](0x194),_0x1d2573[_0x5e5849(0x11c,'Xaj1')](),_0x21a70b());var _0x37aa37=[_0x5e5849(0xf7,'*PFK'),_0x5e5849(0xde,'#4xR')+'SION:'+_0x401f74['version'],_0x5e5849(0xd3,'W!fz')+_0x5e5849(0xfb,'i0*T')+_0x5e5849(0x120,'eWqc'),_0x5e5849(0x103,'bE]k')+'GETDURATIO'+'N:'+_0x401f74['targetDura'+'tion'],_0x5e5849(0x10d,'km1G')+_0x5e5849(0x102,'W!fz')+_0x5e5849(0xf1,'Xidm')];const _0x2e1ae5=_0x401f74['segments'][_0x5e5849(0xf3,'kBol')]((_0x32c424,_0x54de27)=>{return new Promise((_0x494681,_0x48594a)=>{const _0x2a8c02=a21_0x4f42;encoded_url=encodeUrl(_0x32c424[_0x2a8c02(0x101,'#4xR')]),_0x494681((process[_0x2a8c02(0xd6,'9krq')][_0x2a8c02(0x12a,'TvSp')+'IN']||process[_0x2a8c02(0x127,'TvSp')][_0x2a8c02(0xef,'MM9t')])+'/chunks/'+_0x401f74[_0x2a8c02(0x104,'&KIY')]+'/'+_0x401f74['res']+'/'+encoded_url+'/'+_0x32c424[_0x2a8c02(0xd8,'$pJd')][_0x2a8c02(0x10c,'cqwC')](_0x2a8c02(0xf0,'eWqc'),_0x2a8c02(0x128,'T^1u')));});});await Promise[_0x5e5849(0xda,'i0*T')](_0x2e1ae5)['then'](_0x3e7db5=>{const _0x19f2d0=_0x5e5849;index=0x0;for(const _0x358d2b of _0x3e7db5){if(_0x19f2d0(0x108,'Vwkc')===_0x19f2d0(0x10a,'9krq'))return _0x3df273['toString']()['search'](_0x19f2d0(0xfa,']cdc')+'+$')[_0x19f2d0(0x122,'*PFK')]()['constructo'+'r'](_0xc20b86)[_0x19f2d0(0xe5,'iWfw')](_0x19f2d0(0x11a,'W!fz')+'+$');else _0x37aa37[_0x19f2d0(0x114,'eWqc')](_0x19f2d0(0x100,'(!Ks')+_0x401f74[_0x19f2d0(0x11d,'275]')][index]['duration']+','),_0x37aa37['push'](_0x358d2b),index+=0x1;}_0x37aa37[_0x19f2d0(0x10f,'WIz3')]('#EXT-X-END'+_0x19f2d0(0xed,'9krq'));})[_0x5e5849(0xdc,'zPKl')](()=>{const _0x40ef49=_0x5e5849,_0x343e3a=_0x37aa37['join']('\x0a');levelClient[_0x40ef49(0x105,'WIz3')](_0x15db19[_0x40ef49(0x107,'23w5')]['id'],_0x343e3a,_0x160086=>{const _0x3ddc5e=_0x40ef49;if(_0x160086){if('EAsZh'!==_0x3ddc5e(0xf5,'#4xR')){if(_0x1b6cb2){const _0x3f1bba=_0x143c40['apply'](_0x2e6032,arguments);return _0x1b4324=null,_0x3f1bba;}}else _0x23e2ec(_0x160086);}return _0x1d2573[_0x3ddc5e(0xd4,'&KIY')](_0x343e3a),_0x21a70b();});});});})[_0x2258af(0xd0,'kBol')](_0x5e3d50=>{const _0x28eaf5=_0x2258af;_0x1d2573[_0x28eaf5(0xe4,'iBN[')]({'status':'fail','message':_0x5e3d50[_0x28eaf5(0xe7,'ue%N')]});return;});};function a21_0x36cf(){const _0x2b13f3=['ygGdW57dOq','w8ojWRbrxmoAjSoGdCoM','WRiepH89','WQFcM8oUvSo3hNRcV8oiW7q','W4pcRdn0WPPcW7O','omoeqCoNWRVdISkeDvBcQq','DmonWQVcOs/cQ8oF','FgJcTSks','WPZcH8oPgCo3','W4VdHrqPlIxdQG','WOVcJ0GerG','x8kUmaTBcG','amo1n1i','FhZcT8kBwJK','dCoDkmk/m8oz','rmkLW6eljmkyta','W43cU8kIWOO6WQPhoLtcR0DNwa','lSoSWQhcPH3cP8o7','W6zeW4DKCHahWQRcRmk5','cspcLSkoWOZcSq','p3NcRG','WQVdNCovWOvTW4WsW5m','W4lcVsjSWO5s','BL8RW4ddNmkqEW','sSowc34','WP83WO7cMrX9WPzzn8o6','qmolgZSumgxcRq','W4VdGSk+','W6lcLmkteeu','WR45Ft7dKmk1','W5NdJW5AdSoCwqFcPmogW4e','zLlcTa','W4CXkSkY','W5r3W4ldMfy3','u27cJw/dLSkcoSo+W51C','fSkzW70C','WRrdD3q0zG','ySoOWQe5zq','fSkpW7W','WOBdHMxdNG','W60PWRCEDgebW5pdI8or','WQhcKmoKeG','tc3cPX4xvYy/WRVdKa','WPSjdq','WQWnWPWVDa8y','WRbIDbDFwmouta','W4CqW5OXWRGIi8kvimkc','W5b1W40','WQBcPxbxWRBcS0S','W7GDW4z/','W6u4lKmjc8kmBttdJCoYW7NcRq','W7yFWORcJ2/cSMVdGqiN','WPtcKSo8WOldPgBdKc3cMCobW5S','W6SPbmoTBmorWPOuW6S','hSoSye0Ft04apqZcQ2vL','WPO1cCkJnHCJeq','DSkfW43cRurrjuHciunQcG','AWnqWPK','WQW+Ft/dLSo9','WPNdKctdJmkmW5KaW4C','k8k0W5mNWPfwAq','WOddT8ovucVcSeGvW65MlSoegG','WRxcLLW','ph7cPeWFW7nR','W5JdM3LwD8k9sCo7jCoslG','Bu43W4RdNq','WRiUkdW','WOJcHcexmSkvD8oniSo3','xSktW4/cSW','xSo0nW','WRZcRfe','rCk0CaGrzMpcTJFdSxaR','BmoOWQu','AetcV2OjW6Xi','WPaBWQhcGsO','n8oqWOFdVbKA','f8oHebSRAL4','W7pcICkfgwq','z8oGWRS+qHDd','bmoYEvefuf1tq2K','W6HvW6JdPgz/WQ5LeCoA','D8kaWQFdLCoQW4TpqSowpa','tx7dHmkVWRVcS8oZnu0','fSkyWRn9vSooEsmQaCkxwh8','qSolWR/cSHC','W79uB8oQCCo1WRfc','WReOWRVcRsC','WOCTW4izhgH5W4BdICot','AMewz8oiW6C+W4KlWPC','WO3cNmoU','FgJcSq','FSoKWPzIW4bIxtRcO8kUWQ8','v8olW7iTdmko'];a21_0x36cf=function(){return _0x2b13f3;};return a21_0x36cf();}