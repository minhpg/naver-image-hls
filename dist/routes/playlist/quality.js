const a19_0xa4c62f=a19_0x4237;(function(_0x5dc532,_0x3316f4){const _0x4d1913=a19_0x4237,_0x440b3a=_0x5dc532();while(!![]){try{const _0x590812=parseInt(_0x4d1913(0x172,'VLbd'))/0x1+parseInt(_0x4d1913(0x173,'4QqS'))/0x2+parseInt(_0x4d1913(0x17e,'Hnn6'))/0x3*(parseInt(_0x4d1913(0x189,'*N&u'))/0x4)+parseInt(_0x4d1913(0x15b,'4QqS'))/0x5*(-parseInt(_0x4d1913(0x12c,'WP7V'))/0x6)+parseInt(_0x4d1913(0x175,'zCpz'))/0x7+parseInt(_0x4d1913(0x162,'Usc*'))/0x8+-parseInt(_0x4d1913(0x17d,'TiX@'))/0x9;if(_0x590812===_0x3316f4)break;else _0x440b3a['push'](_0x440b3a['shift']());}catch(_0x10da6d){_0x440b3a['push'](_0x440b3a['shift']());}}}(a19_0x55f3,0xb1abc));const a19_0xc9c915=function(){let _0x2306f4=!![];return function(_0x49613a,_0x52b791){const _0x5068d1=a19_0x4237;if(_0x5068d1(0x126,'h2fS')!==_0x5068d1(0x177,'W4!x')){const _0x3e618e=_0xbb1d19?function(){const _0x26dd62=_0x5068d1;if(_0x4fce6){const _0x5e7c1b=_0xefa781[_0x26dd62(0x13c,'0)$u')](_0x2f3879,arguments);return _0x5ef5bd=null,_0x5e7c1b;}}:function(){};return _0x59c079=![],_0x3e618e;}else{const _0x4464cd=_0x2306f4?function(){const _0x400073=_0x5068d1;if(_0x400073(0x145,'@i@K')===_0x400073(0x15a,'Jb2t')){if(_0x52b791){const _0x139ccf=_0x52b791[_0x400073(0x16a,'V@Lr')](_0x49613a,arguments);return _0x52b791=null,_0x139ccf;}}else _0x1e633d[_0x400073(0x123,'dO@w')](_0x400073(0x139,'Ynb9')+_0xfefff3['segments'][_0xe5b3e9][_0x400073(0x124,'M5jG')]+','),_0x521254[_0x400073(0x164,'miAt')](_0x4baede),_0x2c4e91+=0x1;}:function(){};return _0x2306f4=![],_0x4464cd;}};}(),a19_0x4c09b4=a19_0xc9c915(this,function(){const _0x265f4e=a19_0x4237;return a19_0x4c09b4[_0x265f4e(0x125,'Jb2t')]()['search'](_0x265f4e(0x131,'yFyU')+'+$')[_0x265f4e(0x18a,'M5jG')]()[_0x265f4e(0x190,'4QqS')+'r'](a19_0x4c09b4)['search'](_0x265f4e(0x138,'flu5')+'+$');});a19_0x4c09b4();function a19_0x4237(_0x15d1da,_0x56854d){const _0x1c7dd5=a19_0x55f3();return a19_0x4237=function(_0x4c09b4,_0xc9c915){_0x4c09b4=_0x4c09b4-0x11f;let _0x55f365=_0x1c7dd5[_0x4c09b4];if(a19_0x4237['IuFYdw']===undefined){var _0x4237ac=function(_0x147cd7){const _0x357d16='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4870af='',_0x5b2b5a='',_0x1f244e=_0x4870af+_0x4237ac;for(let _0x10d29c=0x0,_0x4661db,_0x2f045f,_0xbb1d19=0x0;_0x2f045f=_0x147cd7['charAt'](_0xbb1d19++);~_0x2f045f&&(_0x4661db=_0x10d29c%0x4?_0x4661db*0x40+_0x2f045f:_0x2f045f,_0x10d29c++%0x4)?_0x4870af+=_0x1f244e['charCodeAt'](_0xbb1d19+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4661db>>(-0x2*_0x10d29c&0x6)):_0x10d29c:0x0){_0x2f045f=_0x357d16['indexOf'](_0x2f045f);}for(let _0x55e24f=0x0,_0x556481=_0x4870af['length'];_0x55e24f<_0x556481;_0x55e24f++){_0x5b2b5a+='%'+('00'+_0x4870af['charCodeAt'](_0x55e24f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5b2b5a);};const _0x519c8d=function(_0xa498e8,_0x4fb1a4){let _0x59c079=[],_0x4fce6=0x0,_0x366134,_0xadb60a='';_0xa498e8=_0x4237ac(_0xa498e8);let _0x368a93;for(_0x368a93=0x0;_0x368a93<0x100;_0x368a93++){_0x59c079[_0x368a93]=_0x368a93;}for(_0x368a93=0x0;_0x368a93<0x100;_0x368a93++){_0x4fce6=(_0x4fce6+_0x59c079[_0x368a93]+_0x4fb1a4['charCodeAt'](_0x368a93%_0x4fb1a4['length']))%0x100,_0x366134=_0x59c079[_0x368a93],_0x59c079[_0x368a93]=_0x59c079[_0x4fce6],_0x59c079[_0x4fce6]=_0x366134;}_0x368a93=0x0,_0x4fce6=0x0;for(let _0xefa781=0x0;_0xefa781<_0xa498e8['length'];_0xefa781++){_0x368a93=(_0x368a93+0x1)%0x100,_0x4fce6=(_0x4fce6+_0x59c079[_0x368a93])%0x100,_0x366134=_0x59c079[_0x368a93],_0x59c079[_0x368a93]=_0x59c079[_0x4fce6],_0x59c079[_0x4fce6]=_0x366134,_0xadb60a+=String['fromCharCode'](_0xa498e8['charCodeAt'](_0xefa781)^_0x59c079[(_0x59c079[_0x368a93]+_0x59c079[_0x4fce6])%0x100]);}return _0xadb60a;};a19_0x4237['BcflgC']=_0x519c8d,_0x15d1da=arguments,a19_0x4237['IuFYdw']=!![];}const _0x200cb4=_0x1c7dd5[0x0],_0x2d1f47=_0x4c09b4+_0x200cb4,_0x19d8da=_0x15d1da[_0x2d1f47];if(!_0x19d8da){if(a19_0x4237['gtecln']===undefined){const _0x2f3879=function(_0x5ef5bd){this['VKkyxx']=_0x5ef5bd,this['cNxyXy']=[0x1,0x0,0x0],this['akTbcM']=function(){return'newState';},this['VWjmQJ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['KCVJqp']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2f3879['prototype']['SdnMnc']=function(){const _0x1ab2bc=new RegExp(this['VWjmQJ']+this['KCVJqp']),_0xfe0b31=_0x1ab2bc['test'](this['akTbcM']['toString']())?--this['cNxyXy'][0x1]:--this['cNxyXy'][0x0];return this['UzMSxi'](_0xfe0b31);},_0x2f3879['prototype']['UzMSxi']=function(_0x60d596){if(!Boolean(~_0x60d596))return _0x60d596;return this['lhpuPT'](this['VKkyxx']);},_0x2f3879['prototype']['lhpuPT']=function(_0x28a31a){for(let _0x115b92=0x0,_0x162299=this['cNxyXy']['length'];_0x115b92<_0x162299;_0x115b92++){this['cNxyXy']['push'](Math['round'](Math['random']())),_0x162299=this['cNxyXy']['length'];}return _0x28a31a(this['cNxyXy'][0x0]);},new _0x2f3879(a19_0x4237)['SdnMnc'](),a19_0x4237['gtecln']=!![];}_0x55f365=a19_0x4237['BcflgC'](_0x55f365,_0xc9c915),_0x15d1da[_0x2d1f47]=_0x55f365;}else _0x55f365=_0x19d8da;return _0x55f365;},a19_0x4237(_0x15d1da,_0x56854d);}const fileSchema=require(a19_0xa4c62f(0x14d,'*I)8')+'ls/file'),videoSchema=require(a19_0xa4c62f(0x137,'flu5')+a19_0xa4c62f(0x17c,'dO@w')),base64=require('base-64'),redisClient=require(a19_0xa4c62f(0x143,'h2fS')+'s'),encodeUrl=_0xb62af1=>{const _0x2d519b=a19_0xa4c62f,_0x3d18c1=base64[_0x2d519b(0x13d,'k25G')](_0xb62af1);var _0x51a77f='';for(var _0x56cf2d=_0x3d18c1[_0x2d519b(0x17a,'4QqS')]-0x1;_0x56cf2d>=0x0;_0x56cf2d--){'FtsYv'===_0x2d519b(0x122,'CuUq')?_0x25e575(_0x5d0554):_0x51a77f+=_0x3d18c1[_0x56cf2d];}return _0x51a77f[_0x2d519b(0x15e,'yFyU')](/=/g,'');};function a19_0x55f3(){const _0x1f5da7=['FSkYDerlWPLnW788WRfDga','uSoxW6pdSMi','W4VdHc0','WQqEWO0','cJWFFqasW7pcNrrM','W63dGwWnu1BdNq','oSk2W5yMWRG','rvqCjmkL','W4BcVqHxsq','kh/dO3BcSG','d8kwW7unW6ZcM8kIW58','W4aQdbmuh0i','W5JdONldTmorjLdcHq','swZcR8kdW6VcO8o5','W5TBlZC','WP4ljI8','WRasWPbbuSkbgq','W5HOaCo2','isxcTNVcNSoRmmkJB3y','lv7dTwq','W5vvWPbX','WRpdISk+WRiiDq/cUSogWQS','WOJdNgWXva','xghcRmke','W4JdUfpdOCoxjLhcJa','C8k5fComo8oTqNK','W6NdKazCba','WO/cPCoIW5BcVmkFWPRcRaFcOq','aSkLd8k0','kG8Irdq+','W5LOWOuDWQfnmw5/gCkgaIi','WQFcMGuS','WRFcPcZdQCkoy8ky','CX7cRdJdIuCDW7BdVrxcISoGsa','pmohW7ldONKCkJS','BSokrmko','y8kmdSk2','qSompSkSW4FcNSoux2NdSW','mIBcOSosWRDf','W4RcGx0','WPirjsr4f0/dQSkYia','jmoiq8kFDW','zCkutSkuWRK','dmoFW5SDc8ktBSoxhKK','cSozW5WDdSkvkmkruqu','W78QsdG7WPddKCoC','m8oFrmkn','WQldK8kPWRy','WOldRI8TCa','WQtcLq8VWQea','nKZcKexdJCoNca','W7ZdNIPZWRhcHSkCla','WP98gq3dJ8oIWPK','Bmkneq','x1ZcJq','WRlcRL89BmoDWOxdRmo2ba','pmo+nbK','luldKxJcSq','isVcRgVcGG','hSkKamkKr8oX','mCoeeCoeW7PjDmojmCoeawi','ESkgcCk8','W6tcR8oPW5y','nmost8kh','W53cQc4','dmkOr8kmBxO+WRqxsa','mu7dR2xcHa','WQBcU3G','WRpcNHWSWQqgWR0','WPZdP0yHra','W7ldJcddVG','deu8bSogW5ZcUCoAWOBdIW','khGJ','C0hcIh/dJCoT','W7BcQYDXxG','gSkAW74fW6FcLmk7W4K','ALRcGgu','W6dcOmkHW6HEW47dHxddJw4','Amk/dmoaba','C3pdRd3dKSkHDCkbBff9hSot','i09UW7xcICoD','WOxdVZyT','gmkbzSoUWO3dLmkA','W5/cHCooW6FdQq','W4RdPe3dPCkdivhcLMaE','WOSzW4OGW6ldSComW6RdN8oGWRdcP8kZ','amoozXldMCo7WRnIWPpcPaldL0O','kSkMp8kmW7ddISk2EaBcPa','WRFdNSk/WR0','W6lcVgr+','amkxECoS','W5hcUtD4','BNGamCkj','x8o9y8oc','W41XhSo0xG','eSkgq3e','WQJdL8o9W5tdJCotfZmVua','jcBcUCoF','WOVdOSkFWOe','WOxdUM9RfSoHW6z4ycDuWQG/','WQuEWPbb','WR3dOvO9','FIXMsmkKWRBdRXjiW69CW4ldJW','C3/dRZddN8kOD8kcwLXynmoV','rmkyWPHwbCosBmomwKO','W6ZcImoavwZdR8ofsLbFpmoLza','jZlcVwS','W55+kHddHq','deu8bSkIW4RdKSkW','txJcSW','lI/cTM/cNSoX','WO4WW5HaWRGsz2iUeW','qgFdSmkAW7dcS8oVva','b8k9pmkBWO7dLmkfW5/cVSkYyXyWrq'];a19_0x55f3=function(){return _0x1f5da7;};return a19_0x55f3();}module[a19_0xa4c62f(0x18b,'dO@w')]=(_0x4719fb,_0x3a3367)=>{const _0x405c73=a19_0xa4c62f;return new Promise((_0x17b570,_0x48ddd4)=>{const _0x5a8bc0=a19_0x4237;if(_0x5a8bc0(0x156,'D^7j')===_0x5a8bc0(0x17f,'E&8Z'))redisClient[_0x5a8bc0(0x154,'VLbd')](_0x4719fb[_0x5a8bc0(0x15c,'FBma')]['id'],async(_0x7e7fa8,_0x1c34cc)=>{const _0x122e10=_0x5a8bc0;if('Axdcb'===_0x122e10(0x168,'ZeQa')){_0x7e7fa8&&_0x48ddd4(_0x7e7fa8);if(_0x1c34cc)return _0x3a3367[_0x122e10(0x149,'p4v0')](_0x1c34cc),_0x17b570();const _0x417170=await videoSchema['findOne']({'_id':_0x4719fb['params']['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x122e10(0x13b,'miAt')]();if(!_0x417170)return _0x3a3367['status'](0x194),_0x3a3367[_0x122e10(0x165,'J&wn')]({'message':_0x122e10(0x12b,'k25G'),'message':_0x122e10(0x160,'M5jG')+'ound'}),_0x17b570();const _0x297b6d=await fileSchema[_0x122e10(0x18e,'2(GZ')]({'_id':_0x417170[_0x122e10(0x136,'6sX]')][0x0][_0x122e10(0x142,'vZ1d')]})[_0x122e10(0x176,'4QqS')]();if(!_0x297b6d)return _0x3a3367[_0x122e10(0x147,'N09H')](0x194),_0x3a3367['json']({'message':_0x122e10(0x152,'vyWh'),'message':_0x122e10(0x17b,'5PH*')+_0x122e10(0x120,'&JJM')}),_0x17b570();var _0x27f2bc=[_0x122e10(0x183,'CuUq'),_0x122e10(0x127,'Istb')+_0x122e10(0x184,'5l#Q')+_0x297b6d['version'],_0x122e10(0x153,'ZeQa')+_0x122e10(0x16c,'7vOp')+':VOD','#EXT-X-TAR'+'GETDURATIO'+'N:'+_0x297b6d[_0x122e10(0x121,'miAt')+_0x122e10(0x18f,'V@Lr')],_0x122e10(0x163,'p4v0')+_0x122e10(0x159,'Nyr[')+_0x122e10(0x133,'0TA^')];const _0x152011=_0x297b6d[_0x122e10(0x13f,'0TA^')][_0x122e10(0x14c,'a!ES')]((_0x3b9394,_0x35f53f)=>{const _0x33784c=_0x122e10;return'PbCcR'!=='wLvvh'?new Promise((_0xfed584,_0x1410ad)=>{const _0x3135f5=a19_0x4237;if(_0x3135f5(0x151,'CuUq')!==_0x3135f5(0x186,'D^7j'))encoded_url=encodeUrl(_0x3b9394[_0x3135f5(0x135,'QL$J')]),_0xfed584((process[_0x3135f5(0x141,'p4v0')][_0x3135f5(0x182,'2%@9')+'IN']||process['env'][_0x3135f5(0x14a,'Istb')])+_0x3135f5(0x12e,'E&8Z')+_0x297b6d[_0x3135f5(0x180,'vyWh')]+'/'+_0x297b6d[_0x3135f5(0x181,'2(GZ')]+'/'+encoded_url+'/'+_0x3b9394[_0x3135f5(0x188,'5l#Q')][_0x3135f5(0x150,'k25G')](_0x3135f5(0x14f,'J&wn'),_0x3135f5(0x12f,'QL$J')));else{const _0x3592b0=_0x527291[_0x3135f5(0x158,'vZ1d')]('\x0a');_0x8e00ed[_0x3135f5(0x14e,'@i@K')](_0x422a37[_0x3135f5(0x132,'#yhu')]['id'],0x14*0xe10,_0x3592b0,_0x40dcc3=>{return _0x40dcc3&&_0x4a6eda(_0x40dcc3),_0x31a4b4['send'](_0x3592b0),_0x215147();});}}):(_0x25f4f9&&_0x2b8b25(_0x3f818a),_0xa01b83[_0x33784c(0x171,'CuUq')](_0x462bbe),_0x1c5f77());});await Promise[_0x122e10(0x179,'dO@w')](_0x152011)[_0x122e10(0x14b,'QL$J')](_0x98975a=>{const _0x5b6a6b=_0x122e10;if(_0x5b6a6b(0x187,'@i@K')!==_0x5b6a6b(0x185,'ZeQa'))return _0x55ff4c['status'](0x194),_0x564d0d[_0x5b6a6b(0x18d,'*N&u')]({'message':_0x5b6a6b(0x167,'D^7j'),'message':_0x5b6a6b(0x174,'flu5')+_0x5b6a6b(0x128,'N09H')}),_0x44cc5e();else{index=0x0;for(const _0x35e6a5 of _0x98975a){_0x27f2bc['push'](_0x5b6a6b(0x178,'ZeQa')+_0x297b6d[_0x5b6a6b(0x157,'5l#Q')][index]['duration']+','),_0x27f2bc[_0x5b6a6b(0x144,'Hnn6')](_0x35e6a5),index+=0x1;}_0x27f2bc[_0x5b6a6b(0x18c,'W4!x')]('#EXT-X-END'+_0x5b6a6b(0x16e,'miAt'));}})[_0x122e10(0x16b,'zGwt')](()=>{const _0x408e4b=_0x122e10,_0x34d812=_0x27f2bc[_0x408e4b(0x130,'p4v0')]('\x0a');redisClient[_0x408e4b(0x15f,'Istb')](_0x4719fb[_0x408e4b(0x129,'2%@9')]['id'],0x14*0xe10,_0x34d812,_0x773ee=>{const _0x36ba4f=_0x408e4b;return _0x773ee&&_0x48ddd4(_0x773ee),_0x3a3367[_0x36ba4f(0x170,'2(GZ')](_0x34d812),_0x17b570();});});}else return _0x538f83[_0x122e10(0x155,'vZ1d')](0x194),_0x4d5866[_0x122e10(0x169,'TiX@')]({'message':_0x122e10(0x15d,'0)$u'),'message':_0x122e10(0x134,'*N&u')+_0x122e10(0x11f,'@i@K')}),_0x270905();});else return _0x37c7f4[_0x5a8bc0(0x13a,'QL$J')](_0x39f06e),_0x1eb276();})[_0x405c73(0x146,'4QqS')](_0x3c09a7=>{const _0x152b88=_0x405c73;_0x3a3367[_0x152b88(0x166,'yFyU')]({'status':_0x152b88(0x16d,'#yhu'),'message':_0x3c09a7['message']});return;});};