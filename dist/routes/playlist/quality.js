const a19_0x1390b4=a19_0x50c1;(function(_0x58d3cd,_0x583aad){const _0x3d908e=a19_0x50c1,_0x4d38d4=_0x58d3cd();while(!![]){try{const _0x361231=-parseInt(_0x3d908e(0x17e,'6Gw8'))/0x1+parseInt(_0x3d908e(0x18a,'[12$'))/0x2*(parseInt(_0x3d908e(0x1a1,'rhzr'))/0x3)+parseInt(_0x3d908e(0x17b,'EH!4'))/0x4+parseInt(_0x3d908e(0x17f,'tTSB'))/0x5*(-parseInt(_0x3d908e(0x1b7,'&WR)'))/0x6)+-parseInt(_0x3d908e(0x17a,'Vaq4'))/0x7*(-parseInt(_0x3d908e(0x1b8,'gm5U'))/0x8)+-parseInt(_0x3d908e(0x17c,'Ya]0'))/0x9*(-parseInt(_0x3d908e(0x170,'Vaq4'))/0xa)+-parseInt(_0x3d908e(0x17d,'DylB'))/0xb;if(_0x361231===_0x583aad)break;else _0x4d38d4['push'](_0x4d38d4['shift']());}catch(_0x1caff4){_0x4d38d4['push'](_0x4d38d4['shift']());}}}(a19_0x1128,0xd1a19));const a19_0x4b218e=function(){let _0x5eed2e=!![];return function(_0x2fcde9,_0x3111d7){const _0x17f2ab=a19_0x50c1;if('uyJsT'===_0x17f2ab(0x1ab,'H4fy'))_0x40a4ba[_0x17f2ab(0x193,'Ya]0')](0x194),_0x3951cf[_0x17f2ab(0x166,'H4fy')](),_0x337544();else{const _0x584ecc=_0x5eed2e?function(){const _0x365798=_0x17f2ab;if(_0x3111d7){const _0x3ea3d1=_0x3111d7[_0x365798(0x178,'^HHT')](_0x2fcde9,arguments);return _0x3111d7=null,_0x3ea3d1;}}:function(){};return _0x5eed2e=![],_0x584ecc;}};}(),a19_0xeaeef9=a19_0x4b218e(this,function(){const _0xa8b4ed=a19_0x50c1;return a19_0xeaeef9[_0xa8b4ed(0x18f,'][d*')]()[_0xa8b4ed(0x16b,'gm5U')](_0xa8b4ed(0x1aa,'EH!4')+'+$')['toString']()[_0xa8b4ed(0x18b,'0fi7')+'r'](a19_0xeaeef9)[_0xa8b4ed(0x1a7,'vXCv')]('(((.+)+)+)'+'+$');});a19_0xeaeef9();const fileSchema=require(a19_0x1390b4(0x189,'fuBM')+'ls/file'),videoSchema=require(a19_0x1390b4(0x16d,'F1IQ')+a19_0x1390b4(0x1b2,'[12$')),base64=require(a19_0x1390b4(0x173,'DhNJ')),levelClient=require(a19_0x1390b4(0x175,'Ya]0')+'l'),encodeUrl=_0x2eeb19=>{const _0x3c480a=a19_0x1390b4,_0x109ccc=base64[_0x3c480a(0x15f,'%vn6')](_0x2eeb19);var _0x331a2a='';for(var _0x10d7af=_0x109ccc[_0x3c480a(0x174,'PDh$')]-0x1;_0x10d7af>=0x0;_0x10d7af--){_0x331a2a+=_0x109ccc[_0x10d7af];}return _0x331a2a[_0x3c480a(0x15d,'NwEI')](/=/g,'');};function a19_0x50c1(_0x3ccc7d,_0x1b7185){const _0x58b2cd=a19_0x1128();return a19_0x50c1=function(_0xeaeef9,_0x4b218e){_0xeaeef9=_0xeaeef9-0x15d;let _0x11284b=_0x58b2cd[_0xeaeef9];if(a19_0x50c1['gpXyCe']===undefined){var _0x50c12a=function(_0x5d71ba){const _0x49adc9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x34728e='',_0x57516c='',_0x30bf9d=_0x34728e+_0x50c12a;for(let _0x42fe03=0x0,_0x20aa54,_0x19c660,_0x554ddd=0x0;_0x19c660=_0x5d71ba['charAt'](_0x554ddd++);~_0x19c660&&(_0x20aa54=_0x42fe03%0x4?_0x20aa54*0x40+_0x19c660:_0x19c660,_0x42fe03++%0x4)?_0x34728e+=_0x30bf9d['charCodeAt'](_0x554ddd+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x20aa54>>(-0x2*_0x42fe03&0x6)):_0x42fe03:0x0){_0x19c660=_0x49adc9['indexOf'](_0x19c660);}for(let _0x32b564=0x0,_0xaa831c=_0x34728e['length'];_0x32b564<_0xaa831c;_0x32b564++){_0x57516c+='%'+('00'+_0x34728e['charCodeAt'](_0x32b564)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x57516c);};const _0x380341=function(_0x25690b,_0x5ccf76){let _0x38d549=[],_0x578594=0x0,_0x5074dd,_0x1f0bd1='';_0x25690b=_0x50c12a(_0x25690b);let _0x129486;for(_0x129486=0x0;_0x129486<0x100;_0x129486++){_0x38d549[_0x129486]=_0x129486;}for(_0x129486=0x0;_0x129486<0x100;_0x129486++){_0x578594=(_0x578594+_0x38d549[_0x129486]+_0x5ccf76['charCodeAt'](_0x129486%_0x5ccf76['length']))%0x100,_0x5074dd=_0x38d549[_0x129486],_0x38d549[_0x129486]=_0x38d549[_0x578594],_0x38d549[_0x578594]=_0x5074dd;}_0x129486=0x0,_0x578594=0x0;for(let _0x4d0f12=0x0;_0x4d0f12<_0x25690b['length'];_0x4d0f12++){_0x129486=(_0x129486+0x1)%0x100,_0x578594=(_0x578594+_0x38d549[_0x129486])%0x100,_0x5074dd=_0x38d549[_0x129486],_0x38d549[_0x129486]=_0x38d549[_0x578594],_0x38d549[_0x578594]=_0x5074dd,_0x1f0bd1+=String['fromCharCode'](_0x25690b['charCodeAt'](_0x4d0f12)^_0x38d549[(_0x38d549[_0x129486]+_0x38d549[_0x578594])%0x100]);}return _0x1f0bd1;};a19_0x50c1['KZMdWe']=_0x380341,_0x3ccc7d=arguments,a19_0x50c1['gpXyCe']=!![];}const _0x371929=_0x58b2cd[0x0],_0x4298cb=_0xeaeef9+_0x371929,_0x48aa22=_0x3ccc7d[_0x4298cb];if(!_0x48aa22){if(a19_0x50c1['SJHPlu']===undefined){const _0x56f68a=function(_0x172824){this['QtQQMA']=_0x172824,this['yyzKMG']=[0x1,0x0,0x0],this['dZxJtY']=function(){return'newState';},this['pGrFpX']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['prQEeu']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x56f68a['prototype']['ntjltP']=function(){const _0xa9ecb6=new RegExp(this['pGrFpX']+this['prQEeu']),_0x4f16e5=_0xa9ecb6['test'](this['dZxJtY']['toString']())?--this['yyzKMG'][0x1]:--this['yyzKMG'][0x0];return this['wvQklC'](_0x4f16e5);},_0x56f68a['prototype']['wvQklC']=function(_0x1d8480){if(!Boolean(~_0x1d8480))return _0x1d8480;return this['qXpWXE'](this['QtQQMA']);},_0x56f68a['prototype']['qXpWXE']=function(_0x2a8ef8){for(let _0x11e251=0x0,_0x1ced7c=this['yyzKMG']['length'];_0x11e251<_0x1ced7c;_0x11e251++){this['yyzKMG']['push'](Math['round'](Math['random']())),_0x1ced7c=this['yyzKMG']['length'];}return _0x2a8ef8(this['yyzKMG'][0x0]);},new _0x56f68a(a19_0x50c1)['ntjltP'](),a19_0x50c1['SJHPlu']=!![];}_0x11284b=a19_0x50c1['KZMdWe'](_0x11284b,_0x4b218e),_0x3ccc7d[_0x4298cb]=_0x11284b;}else _0x11284b=_0x48aa22;return _0x11284b;},a19_0x50c1(_0x3ccc7d,_0x1b7185);}function a19_0x1128(){const _0x15cf39=['W5qZW5jjW5ddJq','W6LRWR7dKa','mSojdSk0W4dcMXVdNCo/WOn3WOC','pmo3BSkfFxRcVL4','oCoftmksWR/dPmkkDb/dS8klWQn8','rSoUWPzop8kVySoSqW','sCkvEM3dJ0/dSd8','F8oWWOrazf5khSozW7a','WORcKbxdTZ/dMYb5FYjRcq','W7/dHSkR','at7cJ8kq','W6aDgCkscSkZWRtcMG','WPhcMI1ZhmkmWQac','nmo1FSoLW5jNW6W','zmkfg8oa','W5DNAfrXW50','oJWX','W6jLA8kfWOO','z8kCf8op','nCoisCkAWRhdQmoEBI3dPmkdWP0','W4OIW4boW4tdMCoQ','W6f+WQ4','hmocWRG','qmkXmLNdTq','hSo/bCkEwq','jSo+W71qmq','ESkEtMZcNa','W5hdJsvnk8kh','W6PXw8kEWQ0','WQ02W77cKmo7W5FcK04TWRm','WOr2WRFdGIBcHq','bCoaW6S6o8knACkdW5hcNW','uCk3W5qwj8o+pSo8cCo4mKFcNG','W4PGWQ3dMmoqW7e','WOdcJKFcJxldQxxdLW','s2RcQdlcTmorWR4','W4SIW51AW5hdLG','BgFcVmkpg00kxeSZ','W5VcUSo3zbtcQaBcSa','W5jaWRJdLCkI','W5SEW4LcgW','a8kQpG','wmk2W5mtjmo1p8oLjmocg3/cHq','WO7dVCk9m1tdTvhcQSkMWQJcPSkuca','EYVdPmoarHuk','WPmjW5WyW4a3W5BcMCofWRhdO8kG','WRuKW7ZcQSo5WRpdRSk+W41UiCosWRq','CrZdI2FcI8o0WOZcVmkhW5ddTCky','WQvopmkf','W5lcQZyqW4LXob3cQq','W6JdPmozWRy','W6JcRMBdUvxdIeFdJCkjtW','juhcHW','wmkyvMJcSq','W6D1y8kaWOPt','mKxcGtpdKmkY','W5DsWP3dT2BcRSk0WPpdMmk9','WPFcHGldRcFdGtrDAX4','fmoub1hdRwhdJsG','W7VdVSoeWQ3cVSkPtL3dOSkx','W7vPWQP1WQfDW5dcK8ocWP0','mmojsmkwWRddQ8kmuaJdU8kkWP1G','W4HEWPzEWPLLW7e','xq7dOxtdGJ7dLSk6','CCoUW5pdUSkoad8Zn2K','W7LUt8k7','W4RcVGxdLv4KW4WUjSkb','mt3dSSovqbe','W7DCWQfdW74','W5pcVMZcSq','mJZdPW','WODqWRzzW6Lrt1fiWO0','WONcOImx','WO/cKJhdPaa','W6L1WRNdRmkGW6lcVq','dmkvWRe','W4OBW4Pg','W4eUW51zW6RdKmoQ','WPfmu29CW7zGW78','x8oLlttcJq','WPFcPs8x','W4JcSIDIWO9XvmozW4hcGc3dUa','m8oAW6quWO5QW7e','W6X9hCkL','WO/dONC2W5mQrmot','dmkZWQq','WOKZhfy','iCooW6RdNmoama','W5ldNtDx','gdRcMmklW6S','WPFdP8kTk0VdQeldT8oSW6W','lCoMWPaqzG'];a19_0x1128=function(){return _0x15cf39;};return a19_0x1128();}module['exports']=(_0x389e2e,_0x2233be)=>{const _0x53236f=a19_0x1390b4;return new Promise((_0x55462d,_0x1eb458)=>{const _0x28121e=a19_0x50c1;if(_0x28121e(0x177,'6Gw8')!==_0x28121e(0x169,'JZzX')){_0x326070[_0x28121e(0x1ad,'F1IQ')]({'status':'fail','message':_0x46657b[_0x28121e(0x18e,'DylB')]});return;}else levelClient[_0x28121e(0x184,'tTSB')](_0x389e2e[_0x28121e(0x187,'tTSB')]['id'],async(_0x57a214,_0x398b90)=>{const _0x1d1af1=_0x28121e;_0x57a214&&('draeq'!=='draeq'?(_0x170180=_0x17b1c2(_0x34b843[_0x1d1af1(0x161,'Pno%')]),_0x297530((_0x5d6359['env']['PROXY_DOMA'+'IN']||_0x4d78e3['env']['HOST'])+_0x1d1af1(0x181,'&uRR')+_0x23da14)):!_0x57a214[_0x1d1af1(0x164,'PDh$')]['includes'](_0x1d1af1(0x183,'htE6')+_0x1d1af1(0x16f,'JZzX')+_0x1d1af1(0x186,'Pno%'))&&(_0x1d1af1(0x16a,'kyiY')!=='FtqrH'?_0x2fd090(_0x493774):_0x1eb458(_0x57a214)));if(_0x398b90){if('swxup'!==_0x1d1af1(0x1a9,'MHr('))_0xc38ffa+=_0x5c7270[_0xd39d23];else return _0x2233be['send'](_0x398b90),_0x55462d();}const _0x22a4b5=await videoSchema['findOne']({'_id':_0x389e2e[_0x1d1af1(0x16e,'5!Rd')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x1d1af1(0x15e,'[JSc')]();!_0x22a4b5&&(_0x2233be[_0x1d1af1(0x1ac,'PDh$')](0x194),_0x2233be[_0x1d1af1(0x1a5,'S3OF')](),_0x55462d());const _0x44c00c=await fileSchema[_0x1d1af1(0x19d,'PDh$')]({'_id':_0x22a4b5[_0x1d1af1(0x199,'QqP#')][0x0]['_id']})['exec']();if(!_0x44c00c){if(_0x1d1af1(0x19f,'lGtk')!==_0x1d1af1(0x16c,'Pno%'))return _0x21ec76&&_0x31cdf3(_0x2684a1),_0x221955['send'](_0x1c47df),_0x2ba5b5();else _0x2233be['status'](0x194),_0x2233be[_0x1d1af1(0x165,'6Gw8')](),_0x55462d();}var _0x274d3f=['#EXTM3U',_0x1d1af1(0x188,'5!Rd')+_0x1d1af1(0x194,'XN8@')+_0x44c00c['version'],_0x1d1af1(0x197,'XN8@')+'YLIST-TYPE'+_0x1d1af1(0x1a3,'&WR)'),_0x1d1af1(0x1b3,'7HEm')+'GETDURATIO'+'N:'+_0x44c00c['targetDura'+'tion'],_0x1d1af1(0x192,'QqP#')+'IA-SEQUENC'+_0x1d1af1(0x179,'NwEI')];const _0x5950b3=_0x44c00c['segments'][_0x1d1af1(0x19b,'arvk')]((_0x1e71f8,_0x1ed250)=>{return new Promise((_0x194543,_0x29a44a)=>{const _0x4c2817=a19_0x50c1;encoded_url=encodeUrl(_0x1e71f8[_0x4c2817(0x185,'kyiY')]),_0x194543((process[_0x4c2817(0x160,'y5M!')][_0x4c2817(0x18c,'DylB')+'IN']||process[_0x4c2817(0x1b5,'tu@A')]['HOST'])+_0x4c2817(0x1b1,'Vaq4')+encoded_url);});});await Promise['all'](_0x5950b3)[_0x1d1af1(0x1a6,'(y*N')](_0x4079ca=>{const _0xc4e812=_0x1d1af1;index=0x0;for(const _0x455dbc of _0x4079ca){_0x274d3f['push'](_0xc4e812(0x172,'htE6')+_0x44c00c['segments'][index]['duration']+','),_0x274d3f[_0xc4e812(0x1a8,'gm5U')](_0x455dbc),index+=0x1;}_0x274d3f[_0xc4e812(0x195,'htE6')](_0xc4e812(0x190,'vXCv')+_0xc4e812(0x191,'wFRP'));})[_0x1d1af1(0x198,'&uRR')](()=>{const _0x12d854=_0x1d1af1,_0x47efb3=_0x274d3f[_0x12d854(0x1a0,'&uRR')]('\x0a');levelClient[_0x12d854(0x196,'Ya]0')](_0x389e2e[_0x12d854(0x171,'8rcJ')]['id'],_0x47efb3,_0x30227b=>{const _0x1f6b9e=_0x12d854;if(_0x1f6b9e(0x167,'[12$')==='eWgBS')return _0x30227b&&_0x1eb458(_0x30227b),_0x2233be[_0x1f6b9e(0x180,'&WR)')](_0x47efb3),_0x55462d();else _0xaf88f9[_0x1f6b9e(0x19c,'^HHT')](_0x1f6b9e(0x19e,'%vn6')+_0x29e296[_0x1f6b9e(0x1a4,'rhzr')][_0x1705b6][_0x1f6b9e(0x176,'EH!4')]+','),_0x18ec76[_0x1f6b9e(0x182,'0fi7')](_0x4efd28),_0x1fd09d+=0x1;});});});})[_0x53236f(0x168,'(QVu')](_0x5675a0=>{const _0x546177=_0x53236f;_0x2233be[_0x546177(0x1b6,'MHr(')]({'status':_0x546177(0x162,'[JSc'),'message':_0x5675a0[_0x546177(0x19a,'6Gw8')]});return;});};