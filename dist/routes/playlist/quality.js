const a19_0x488ef2=a19_0x4baa;function a19_0x4baa(_0x15fd32,_0x3f7ea4){const _0x4fa18c=a19_0x598b();return a19_0x4baa=function(_0x474af7,_0x598b9e){_0x474af7=_0x474af7-0x103;let _0x598bf1=_0x4fa18c[_0x474af7];if(a19_0x4baa['PLiQKc']===undefined){var _0x4baa2c=function(_0xc1f8c0){const _0x27d24f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x9267ff='',_0x412d2b='',_0x1462d5=_0x9267ff+_0x4baa2c;for(let _0x4a6322=0x0,_0x7d5ba4,_0x3f4270,_0x4ae748=0x0;_0x3f4270=_0xc1f8c0['charAt'](_0x4ae748++);~_0x3f4270&&(_0x7d5ba4=_0x4a6322%0x4?_0x7d5ba4*0x40+_0x3f4270:_0x3f4270,_0x4a6322++%0x4)?_0x9267ff+=_0x1462d5['charCodeAt'](_0x4ae748+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x7d5ba4>>(-0x2*_0x4a6322&0x6)):_0x4a6322:0x0){_0x3f4270=_0x27d24f['indexOf'](_0x3f4270);}for(let _0x20760d=0x0,_0x44c62d=_0x9267ff['length'];_0x20760d<_0x44c62d;_0x20760d++){_0x412d2b+='%'+('00'+_0x9267ff['charCodeAt'](_0x20760d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x412d2b);};const _0x3be75b=function(_0x37ca90,_0x5b0340){let _0x2336b1=[],_0x51769c=0x0,_0x328457,_0x3607b0='';_0x37ca90=_0x4baa2c(_0x37ca90);let _0x32729d;for(_0x32729d=0x0;_0x32729d<0x100;_0x32729d++){_0x2336b1[_0x32729d]=_0x32729d;}for(_0x32729d=0x0;_0x32729d<0x100;_0x32729d++){_0x51769c=(_0x51769c+_0x2336b1[_0x32729d]+_0x5b0340['charCodeAt'](_0x32729d%_0x5b0340['length']))%0x100,_0x328457=_0x2336b1[_0x32729d],_0x2336b1[_0x32729d]=_0x2336b1[_0x51769c],_0x2336b1[_0x51769c]=_0x328457;}_0x32729d=0x0,_0x51769c=0x0;for(let _0x39f57b=0x0;_0x39f57b<_0x37ca90['length'];_0x39f57b++){_0x32729d=(_0x32729d+0x1)%0x100,_0x51769c=(_0x51769c+_0x2336b1[_0x32729d])%0x100,_0x328457=_0x2336b1[_0x32729d],_0x2336b1[_0x32729d]=_0x2336b1[_0x51769c],_0x2336b1[_0x51769c]=_0x328457,_0x3607b0+=String['fromCharCode'](_0x37ca90['charCodeAt'](_0x39f57b)^_0x2336b1[(_0x2336b1[_0x32729d]+_0x2336b1[_0x51769c])%0x100]);}return _0x3607b0;};a19_0x4baa['KXBcVu']=_0x3be75b,_0x15fd32=arguments,a19_0x4baa['PLiQKc']=!![];}const _0xacc763=_0x4fa18c[0x0],_0x1178e9=_0x474af7+_0xacc763,_0x2038b2=_0x15fd32[_0x1178e9];if(!_0x2038b2){if(a19_0x4baa['hCMbhr']===undefined){const _0xdd5285=function(_0x50fbd5){this['lVkxiO']=_0x50fbd5,this['sscILG']=[0x1,0x0,0x0],this['jjgjXe']=function(){return'newState';},this['qRESLH']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['HirJZf']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xdd5285['prototype']['KhbpWH']=function(){const _0x1b9346=new RegExp(this['qRESLH']+this['HirJZf']),_0x3d5b3d=_0x1b9346['test'](this['jjgjXe']['toString']())?--this['sscILG'][0x1]:--this['sscILG'][0x0];return this['GMjxCD'](_0x3d5b3d);},_0xdd5285['prototype']['GMjxCD']=function(_0x48feb7){if(!Boolean(~_0x48feb7))return _0x48feb7;return this['flJYjc'](this['lVkxiO']);},_0xdd5285['prototype']['flJYjc']=function(_0x2a9fd6){for(let _0x2bc2ae=0x0,_0x2f0021=this['sscILG']['length'];_0x2bc2ae<_0x2f0021;_0x2bc2ae++){this['sscILG']['push'](Math['round'](Math['random']())),_0x2f0021=this['sscILG']['length'];}return _0x2a9fd6(this['sscILG'][0x0]);},new _0xdd5285(a19_0x4baa)['KhbpWH'](),a19_0x4baa['hCMbhr']=!![];}_0x598bf1=a19_0x4baa['KXBcVu'](_0x598bf1,_0x598b9e),_0x15fd32[_0x1178e9]=_0x598bf1;}else _0x598bf1=_0x2038b2;return _0x598bf1;},a19_0x4baa(_0x15fd32,_0x3f7ea4);}(function(_0x1123c8,_0x4cd388){const _0x3d9d72=a19_0x4baa,_0x1d5da6=_0x1123c8();while(!![]){try{const _0x13223a=parseInt(_0x3d9d72(0x160,'lKmL'))/0x1+-parseInt(_0x3d9d72(0x162,'WT(9'))/0x2+-parseInt(_0x3d9d72(0x110,'jasN'))/0x3*(parseInt(_0x3d9d72(0x12d,'Jt[l'))/0x4)+-parseInt(_0x3d9d72(0x129,'8tQ2'))/0x5*(parseInt(_0x3d9d72(0x128,'f$AF'))/0x6)+-parseInt(_0x3d9d72(0x116,'aGKC'))/0x7+parseInt(_0x3d9d72(0x115,'B4@]'))/0x8*(parseInt(_0x3d9d72(0x16d,'Q^&P'))/0x9)+parseInt(_0x3d9d72(0x16b,'V4)Z'))/0xa;if(_0x13223a===_0x4cd388)break;else _0x1d5da6['push'](_0x1d5da6['shift']());}catch(_0x1531d4){_0x1d5da6['push'](_0x1d5da6['shift']());}}}(a19_0x598b,0x80d5d));const a19_0x598b9e=function(){let _0x51fb54=!![];return function(_0x3401a5,_0x289f7e){const _0x243169=a19_0x4baa;if(_0x243169(0x167,'SEBy')===_0x243169(0x103,'xz3[')){const _0x5c6a3c=_0x51fb54?function(){const _0x3fda8f=_0x243169;if(_0x289f7e){const _0x15391f=_0x289f7e[_0x3fda8f(0x16c,'Jt[l')](_0x3401a5,arguments);return _0x289f7e=null,_0x15391f;}}:function(){};return _0x51fb54=![],_0x5c6a3c;}else _0x11d5e1[_0x243169(0x118,'YdDh')](_0x243169(0x15b,'SEBy')+_0x12b668['segments'][_0x8b597e][_0x243169(0x107,'%Fo#')]+','),_0xf736af[_0x243169(0x146,'jzkF')](_0x1dee86),_0x46bfdb+=0x1;};}(),a19_0x474af7=a19_0x598b9e(this,function(){const _0x1e12be=a19_0x4baa;return a19_0x474af7[_0x1e12be(0x161,'Aq9z')]()[_0x1e12be(0x113,'Srm2')](_0x1e12be(0x13e,'GvUV')+'+$')[_0x1e12be(0x166,'rmpa')]()[_0x1e12be(0x159,'tT^U')+'r'](a19_0x474af7)['search'](_0x1e12be(0x114,'!hn!')+'+$');});function a19_0x598b(){const _0x28eb6a=['ifNcTcVcVIZcIgW','WQf9lCovWPq','Fu8PWRRdOW','W54yWQ3cHxJcLa7dKmk1WPS','W75pi8kpBL4tW4qvW50KWPi','kwbz','dmk1m8oZW6b8qSkRWO4c','cmkTWPldK8kB','qJ3cJG7cHq/cKa','W5fQWPxcT8omW7NcJCkjW7FdUehcPW','WPFcUxXX','uSkfWQVdL8k1WRtdNq','hZ8iW7tdHCoU','WQhdHImprSoLprBdL8oD','W5aTW5VdSCoZW6ddQgNdTMGvW4K','eCkQl8oLW7zKqmkRWOmocSkT','petcUCkWDutcN33cPCkN','Dsb+AG','WR7cHx5bga','D8oaW4W+Fq','WOGvc8kHx8kAf8kAW63cSmoJWQ0','CX3dTxRdVhBdL3JcJehcVYj0','WQtdPutcKwGhvW','W7b7cCoOihldMq','b3dcG8k3BG','W5O1dCka','W7WpmCk6','W5NdLG17bG','mZmn','W4X5WP3cRCoRWR7dI2/cKW','W5TDW7BdSG','W51nvmo8fa','bNiBWOFcQaX5WP3cQcW','WPGCWRdcRmktW7THnfJcPtD7','WORdR1mxiCkdfHq','WPS0WPNcThxcOKZdSmouWQ8','cLNdSshdMCke','iSkMWRZcLZFdNCo+hG','D8kxWPxdKmopE8kIW6i','W4PCDmowdq','oLtcO8k3','WPddHKldKf/cM0ddOSkGWQ7dRCkI','thldIHRcKmk5WRaRWPyj','nwtcPSoXW6WyfIq','qLi3','ftCiW5BdHq','WQJcKSohBa','mCoHWQtcIGe','WPrPmSosWOvVW5a','WQG+fW','chJdHs/dLq','WRRcGqFcGJddSW','W54yWQ3cHxJcLa7dGCk6WO0','EwJcJ8kaf3ldLW','WQJcHSogzCoVoa','dr9RW73cRN1/W7NdHKe','WPm9W47dPa','W7LRcmo6nxZdK8o+','eMJcLSk1','smoxEmka','WPOqW6yCWPC','WQBdTvNcHG','DJb5z8o7','WR0LeSk7','W6yDlmk1jSkn','WOjjE1KiWQ3dIq/cPSo9','oSk6W4dcLsZdKmo1fG','B8oRe1CTWP8','WOHJkCop','cK/dTY0','bSoOWQ3cUG','rLKIWRFdRq','WOSuW6itWP7dGSkS','hfldSZZdNSkj','cSkZnmoZW6v6bmoTW4fo','zSo2dv8RWOnX','W6/cJ2jn','W73cRYKc','W6JcNNTnfa','qmooBq','W6/dQLfYW5BdQmkmBmkaWOhdLKm','v03cNhBdJ2y','ymoHe0mTWOv3W4D3xa','C8o7dLG','uSkfWQVdL8kXW4NdJSo+','WQqPtCkQC1VdT8o+EWSQ','W4msoHm','DY3dJmonW7xcUW','WR3cICoxA8oMlG','WPhdH0/dN1ZcMLFdHmkvWRldICkN','W5FdSWP9bqeeaW','vGdcPx/cJ8kVW5yvWRKBW6G','W53cTLW6u8kAeqSkya','WP1vyuawWRhdGJ7cLmoXWQxdQW','lCkGuH53W5HVW4TNvG','W49lA8oTfCoefSks','e8knWQVdTSk6','W45xnCovEW','WR7cVHqIW4ZdQmo3','nryGW5xdSSkRW6tcG111','W45aWQfpW4NcKSo5i0xdNf7cQJu','iSoFWQNdLSoY','W6tdJ8osWOjglSkRW6q','WR7cIrRcJq','WQDmpCkCgCkjW4Cw','yXhcSSoUW6O','qmk5WORcQHrnnGy','WQSXcmk/','aCoLWQBcSa'];a19_0x598b=function(){return _0x28eb6a;};return a19_0x598b();}a19_0x474af7();const fileSchema=require(a19_0x488ef2(0x165,'tT^U')+'ls/file'),videoSchema=require(a19_0x488ef2(0x10d,'aGKC')+a19_0x488ef2(0x149,'2a6Q')),base64=require(a19_0x488ef2(0x169,')Bzn')),redisClient=require(a19_0x488ef2(0x148,'3!nI')+'s'),encodeUrl=_0x4137dd=>{const _0x1541c2=a19_0x488ef2,_0x50e131=base64[_0x1541c2(0x12b,'WT(9')](_0x4137dd);var _0x428bf6='';for(var _0x35f506=_0x50e131['length']-0x1;_0x35f506>=0x0;_0x35f506--){if(_0x1541c2(0x108,'(w$u')==='duNbf'){_0x571f70['json']({'status':_0x1541c2(0x154,'Mm&z'),'message':_0x346536[_0x1541c2(0x11e,'[n#G')]});return;}else _0x428bf6+=_0x50e131[_0x35f506];}return _0x428bf6[_0x1541c2(0x14f,'V4)Z')](/=/g,'');};module[a19_0x488ef2(0x152,'tT^U')]=(_0xed617a,_0x185417)=>{const _0x130af1=a19_0x488ef2;return new Promise((_0x7b27d3,_0x44462f)=>{const _0x44b38c=a19_0x4baa;if(_0x44b38c(0x122,'Aq9z')!=='zJTrq')return _0x316e58['send'](_0x3fb286),_0x391e99();else redisClient[_0x44b38c(0x133,'GvUV')](_0xed617a[_0x44b38c(0x147,'FiHV')]['id'],async(_0x1acc87,_0x49344e)=>{const _0x428ff3=_0x44b38c;if(_0x428ff3(0x12e,'rmpa')===_0x428ff3(0x119,'T6bG')){const _0x3a935d=_0x239e91[_0x428ff3(0x155,'!hn!')](_0x46a3a0,arguments);return _0x398742=null,_0x3a935d;}else{_0x1acc87&&_0x44462f(_0x1acc87);if(_0x49344e){if(_0x428ff3(0x11a,'UIFS')===_0x428ff3(0x109,'GvUV')){if(_0x4763c8){const _0x276dc6=_0x5040e0['apply'](_0x589723,arguments);return _0x339939=null,_0x276dc6;}}else return _0x185417[_0x428ff3(0x14d,'7W0h')](_0x49344e),_0x7b27d3();}const _0x471d53=await videoSchema[_0x428ff3(0x10f,'A%A]')]({'_id':_0xed617a[_0x428ff3(0x13d,'t$ZH')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x428ff3(0x14c,'WT(9')]();if(!_0x471d53)return _0x185417[_0x428ff3(0x158,'w[bZ')](0x194),_0x185417[_0x428ff3(0x12f,'W]6U')]({'message':_0x428ff3(0x153,'!hn!'),'message':_0x428ff3(0x163,'8tQ2')+_0x428ff3(0x144,'c^qA')}),_0x7b27d3();const _0x1a3e7d=await fileSchema[_0x428ff3(0x13c,'y*TV')]({'_id':_0x471d53[_0x428ff3(0x126,'rmpa')][0x0][_0x428ff3(0x123,'Srm2')]})[_0x428ff3(0x142,'Lpau')]();if(!_0x1a3e7d){if('VoSCf'!=='VqErJ')return _0x185417['status'](0x194),_0x185417[_0x428ff3(0x121,'FiHV')]({'message':_0x428ff3(0x105,'jzkF'),'message':_0x428ff3(0x12a,'#XEe')+_0x428ff3(0x15d,'3!nI')}),_0x7b27d3();else{const _0x52717d=_0x2669fd[_0x428ff3(0x15f,'t$ZH')](_0x172059);var _0x5537ea='';for(var _0x4f6e37=_0x52717d[_0x428ff3(0x14a,'tT^U')]-0x1;_0x4f6e37>=0x0;_0x4f6e37--){_0x5537ea+=_0x52717d[_0x4f6e37];}return _0x5537ea['replace'](/=/g,'');}}var _0x1eecd7=[_0x428ff3(0x112,'SEBy'),_0x428ff3(0x117,'y*TV')+_0x428ff3(0x168,'[n#G')+_0x1a3e7d[_0x428ff3(0x137,'(w$u')],_0x428ff3(0x131,'WT(9')+_0x428ff3(0x16a,'Srm2')+':VOD',_0x428ff3(0x10a,'#XEe')+'GETDURATIO'+'N:'+_0x1a3e7d['targetDura'+_0x428ff3(0x16e,'gDpL')],_0x428ff3(0x127,'GvUV')+'IA-SEQUENC'+_0x428ff3(0x10c,'Srm2')];const _0x428c04=_0x1a3e7d['segments'][_0x428ff3(0x156,'Lpau')]((_0x286dd0,_0x272c0f)=>{return new Promise((_0x3a7e32,_0x3abb5b)=>{const _0x49182f=a19_0x4baa;if(_0x49182f(0x139,'WT(9')!=='gOWah')return _0x4d2379['toString']()[_0x49182f(0x15e,'6POR')]('(((.+)+)+)'+'+$')[_0x49182f(0x12c,'2a6Q')]()['constructo'+'r'](_0x441143)[_0x49182f(0x150,'WT(9')](_0x49182f(0x151,'aGKC')+'+$');else encoded_url=encodeUrl(_0x286dd0['drive']),_0x3a7e32(process[_0x49182f(0x138,'jzkF')][_0x49182f(0x111,'T6bG')]+_0x49182f(0x124,'B4@]')+encoded_url);});});await Promise['all'](_0x428c04)[_0x428ff3(0x106,'7W0h')](_0x530fb7=>{const _0x27c6b2=_0x428ff3;if(_0x27c6b2(0x134,'Srm2')!==_0x27c6b2(0x10e,'SEBy')){const _0x26b4f7=_0x4ae748?function(){const _0x14d485=_0x27c6b2;if(_0x51769c){const _0x4a15d4=_0x39f57b[_0x14d485(0x11f,']vZh')](_0xdd5285,arguments);return _0x50fbd5=null,_0x4a15d4;}}:function(){};return _0x2336b1=![],_0x26b4f7;}else{index=0x0;for(const _0x2bb1a3 of _0x530fb7){'ffmOb'===_0x27c6b2(0x136,'7W0h')?_0x40c0eb(_0x59d451):(_0x1eecd7[_0x27c6b2(0x125,'f$AF')]('#EXTINF:'+_0x1a3e7d['segments'][index][_0x27c6b2(0x140,'[n#G')]+','),_0x1eecd7[_0x27c6b2(0x135,'t$ZH')](_0x2bb1a3),index+=0x1);}_0x1eecd7[_0x27c6b2(0x15a,'tT^U')](_0x27c6b2(0x13b,'#XEe')+_0x27c6b2(0x120,'FiHV'));}})[_0x428ff3(0x141,']vZh')](()=>{const _0x2524d6=_0x428ff3,_0x2e3c13=_0x1eecd7[_0x2524d6(0x14b,'(w$u')]('\x0a');redisClient[_0x2524d6(0x145,'YdDh')](_0xed617a[_0x2524d6(0x13a,'gDpL')]['id'],0x14*0xe10,_0x2e3c13,_0x59e8ad=>{const _0x529d10=_0x2524d6;return _0x59e8ad&&_0x44462f(_0x59e8ad),_0x185417[_0x529d10(0x14d,'7W0h')](_0x2e3c13),_0x7b27d3();});});}});})[_0x130af1(0x143,'V4)Z')](_0x533771=>{const _0x2e03f8=_0x130af1;if('SxelB'===_0x2e03f8(0x14e,'GvUV'))return _0x154b14&&_0x4e59bd(_0x5cdcca),_0x2b77a4[_0x2e03f8(0x13f,'jasN')](_0x51d235),_0x3d8bae();else{_0x185417['json']({'status':'fail','message':_0x533771[_0x2e03f8(0x11d,'c^qA')]});return;}});};