function a30_0x1331(_0xd636f7,_0x513715){const _0x36ff94=a30_0x4124();return a30_0x1331=function(_0x91e2a9,_0x23522d){_0x91e2a9=_0x91e2a9-0x159;let _0x4124d2=_0x36ff94[_0x91e2a9];if(a30_0x1331['fymAKz']===undefined){var _0x1331c4=function(_0x569002){const _0x4cbcb3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4d2d85='',_0x55813c='',_0x2c40d7=_0x4d2d85+_0x1331c4;for(let _0x7aebff=0x0,_0x23f0b0,_0x3de5df,_0x559c60=0x0;_0x3de5df=_0x569002['charAt'](_0x559c60++);~_0x3de5df&&(_0x23f0b0=_0x7aebff%0x4?_0x23f0b0*0x40+_0x3de5df:_0x3de5df,_0x7aebff++%0x4)?_0x4d2d85+=_0x2c40d7['charCodeAt'](_0x559c60+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x23f0b0>>(-0x2*_0x7aebff&0x6)):_0x7aebff:0x0){_0x3de5df=_0x4cbcb3['indexOf'](_0x3de5df);}for(let _0x1d12e0=0x0,_0x17fb8c=_0x4d2d85['length'];_0x1d12e0<_0x17fb8c;_0x1d12e0++){_0x55813c+='%'+('00'+_0x4d2d85['charCodeAt'](_0x1d12e0)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x55813c);};const _0x2d3d97=function(_0x537bad,_0x5e8193){let _0x164d69=[],_0x29a0ac=0x0,_0x3bc68c,_0x4bb575='';_0x537bad=_0x1331c4(_0x537bad);let _0xfbb105;for(_0xfbb105=0x0;_0xfbb105<0x100;_0xfbb105++){_0x164d69[_0xfbb105]=_0xfbb105;}for(_0xfbb105=0x0;_0xfbb105<0x100;_0xfbb105++){_0x29a0ac=(_0x29a0ac+_0x164d69[_0xfbb105]+_0x5e8193['charCodeAt'](_0xfbb105%_0x5e8193['length']))%0x100,_0x3bc68c=_0x164d69[_0xfbb105],_0x164d69[_0xfbb105]=_0x164d69[_0x29a0ac],_0x164d69[_0x29a0ac]=_0x3bc68c;}_0xfbb105=0x0,_0x29a0ac=0x0;for(let _0x1d8c28=0x0;_0x1d8c28<_0x537bad['length'];_0x1d8c28++){_0xfbb105=(_0xfbb105+0x1)%0x100,_0x29a0ac=(_0x29a0ac+_0x164d69[_0xfbb105])%0x100,_0x3bc68c=_0x164d69[_0xfbb105],_0x164d69[_0xfbb105]=_0x164d69[_0x29a0ac],_0x164d69[_0x29a0ac]=_0x3bc68c,_0x4bb575+=String['fromCharCode'](_0x537bad['charCodeAt'](_0x1d8c28)^_0x164d69[(_0x164d69[_0xfbb105]+_0x164d69[_0x29a0ac])%0x100]);}return _0x4bb575;};a30_0x1331['NULDiA']=_0x2d3d97,_0xd636f7=arguments,a30_0x1331['fymAKz']=!![];}const _0x5375bb=_0x36ff94[0x0],_0xd53736=_0x91e2a9+_0x5375bb,_0x859504=_0xd636f7[_0xd53736];if(!_0x859504){if(a30_0x1331['BUNTUK']===undefined){const _0x58af45=function(_0x10ede5){this['zozCHl']=_0x10ede5,this['WQlibD']=[0x1,0x0,0x0],this['MqFRiQ']=function(){return'newState';},this['ujDQDq']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['yqdXgl']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x58af45['prototype']['RVCzFx']=function(){const _0x57cec1=new RegExp(this['ujDQDq']+this['yqdXgl']),_0x4fcafe=_0x57cec1['test'](this['MqFRiQ']['toString']())?--this['WQlibD'][0x1]:--this['WQlibD'][0x0];return this['AAqAmc'](_0x4fcafe);},_0x58af45['prototype']['AAqAmc']=function(_0x2a9b4b){if(!Boolean(~_0x2a9b4b))return _0x2a9b4b;return this['VxWhqb'](this['zozCHl']);},_0x58af45['prototype']['VxWhqb']=function(_0x3156ad){for(let _0x45a5c3=0x0,_0x4d9023=this['WQlibD']['length'];_0x45a5c3<_0x4d9023;_0x45a5c3++){this['WQlibD']['push'](Math['round'](Math['random']())),_0x4d9023=this['WQlibD']['length'];}return _0x3156ad(this['WQlibD'][0x0]);},new _0x58af45(a30_0x1331)['RVCzFx'](),a30_0x1331['BUNTUK']=!![];}_0x4124d2=a30_0x1331['NULDiA'](_0x4124d2,_0x23522d),_0xd636f7[_0xd53736]=_0x4124d2;}else _0x4124d2=_0x859504;return _0x4124d2;},a30_0x1331(_0xd636f7,_0x513715);}const a30_0x43dcf4=a30_0x1331;(function(_0x48048a,_0x51e895){const _0x54d409=a30_0x1331,_0x33e61a=_0x48048a();while(!![]){try{const _0x404025=-parseInt(_0x54d409(0x1c8,'o[qL'))/0x1*(-parseInt(_0x54d409(0x17b,'bojY'))/0x2)+-parseInt(_0x54d409(0x189,'Cmms'))/0x3*(-parseInt(_0x54d409(0x1bc,'f1Re'))/0x4)+parseInt(_0x54d409(0x171,'nW9F'))/0x5*(parseInt(_0x54d409(0x199,'4OxM'))/0x6)+parseInt(_0x54d409(0x164,'tk#k'))/0x7*(-parseInt(_0x54d409(0x17e,'Bg1L'))/0x8)+parseInt(_0x54d409(0x172,'ww*U'))/0x9*(parseInt(_0x54d409(0x186,'FMo2'))/0xa)+-parseInt(_0x54d409(0x1cf,'AIwD'))/0xb+-parseInt(_0x54d409(0x19d,'p[M@'))/0xc*(parseInt(_0x54d409(0x1ce,'q)O$'))/0xd);if(_0x404025===_0x51e895)break;else _0x33e61a['push'](_0x33e61a['shift']());}catch(_0x34e607){_0x33e61a['push'](_0x33e61a['shift']());}}}(a30_0x4124,0x91158));const a30_0x23522d=function(){let _0x141ba7=!![];return function(_0x3d9d8b,_0x5b1707){const _0x2ba3ae=a30_0x1331;if(_0x2ba3ae(0x190,'a*PL')===_0x2ba3ae(0x1c9,'2Ehp')){_0x33b3ed[_0x2ba3ae(0x1b2,'*AZz')]({'status':_0x2ba3ae(0x1bb,'E^#9'),'message':_0xea1039['message']});return;}else{const _0x20fc3a=_0x141ba7?function(){const _0x3382a8=_0x2ba3ae;if('hSPcI'!==_0x3382a8(0x178,'^(k@')){if(_0x5b1707){const _0x1a3c74=_0x5b1707[_0x3382a8(0x1b3,'PiLv')](_0x3d9d8b,arguments);return _0x5b1707=null,_0x1a3c74;}}else _0x2f82b2(_0x9b7de5);}:function(){};return _0x141ba7=![],_0x20fc3a;}};}(),a30_0x91e2a9=a30_0x23522d(this,function(){const _0x3fdfc6=a30_0x1331;return a30_0x91e2a9['toString']()['search'](_0x3fdfc6(0x1a1,'p[M@')+'+$')['toString']()[_0x3fdfc6(0x191,'C!Z0')+'r'](a30_0x91e2a9)[_0x3fdfc6(0x19e,'Lg&9')](_0x3fdfc6(0x17c,'@#Fo')+'+$');});a30_0x91e2a9();function a30_0x4124(){const _0x18e3bc=['nSoXsL9bW5JcHCoCuJpdHvtcLq','WOOxWRRcK8oK','lf3cGSktW7mx','W6pdKSocW7ic','W7qQW68IW40CfG','ywngpfDYnCoFh8kvymogWRW','WQ7dG1xcGCkr','W4LPfmkPr8k2rCkqW4JdQq','W4rJW4u7W5eyWPa','WP7cQuZdTCoCWQmsCSolhW','vSoGWOi0r2nlW4xcQ8kg','sCoMW48y','W5RcQhJdJYT2uSkjWRq','ex/dQITNW6qRta','hWGwqYK','W6bvWPpdN8ox','ESo+W6tdNHbxgrG1BH/dMNO','WOeMuSoR','WRO9W4lcQSkmkWr+WPDzE8k5xq','WQFdTgpcNSoPv8kRW5ZcTSkY','WPOdW4Likq','WP18W73dOSoUW6NdKIRdSG','W5ddVmkhWRqq','g2r0AGS','W69zW7NcHmkWWRu7oW','WO8ttmo0ja','WRrokuhcQmox','W70Gl8ku','W6/cOYZdGmo1dK3dGCoYW7LT','yCoKW7JdGqLncNz2mq','WOeuWQxcKq','WPHYWQJdVSo+W4FdLs8','WR3cRmkJWQ96WPnKsSoiW7K','W6aBDSkUlISHW6W','W7hdH8kkxHvF','emolWQW','W4BcJ8o4','W6FcIchdTq0jACkPWO5x','oZjFjG','pSkdWRL6W44Ri0BdUXW','AmoyW6G4W68','rK/dMvZdRmkKWOJdVW','lSkBisVcP8oHW78RW57cOCkJ','ruJcLCouWRK','WRa7qmkE','A8k0zSowp8kBDCoPbMtcIIm','vSoVefycWRzyWQP6za','W6hcUv3dJXe','AaNdJgCW','nSorWPSrcq','WQhdMx3dMavyd8kHWPpdNq','BvBdJ0ZdVW','gqJdPeCe','W5mgeSkKrSkEWR8','WOmRWRVdS8kjW7NdMbBcPa','WQxdSMpdMmoRxSkwW4dcKq','WQ4wW4CdW7mf','W4VcSwNdHq','pthdVKiswau','W47cRZm','FGenF8krWQ8ZW79CW7e','qmo6W40zW74','nSo4t1KUWOVdK8obEYK','W69zW7/cM8k2WRm','w8oTmmoiWRhdTW','W4qcy8otrmobbCkRW63dNG','l8oOuuDFW4FcNmkYoe8','Eg9DW7BcUJm9qSoXW78','WRhdPNxcLG','WRC0WPzHjHVdGG','W73cTxJdNSo1DSkwW7C','W6euh2urfZH4','WQJdJSo7WRxdSryjW4e','mZZdO2O','W7ddKmkMWP4','zN1aW78','vSoMW5iu','D8k1cGe','yHOQE8ozW6LYW6G','B8ohyNBdRG','e0rNqHS','BHddNwC','W5/cTftdJ8oZWQOEW7zlWRm','qCo/lCoh','WRbqoKlcTq','qd/dUsbnW4y5','vSoGWOi0r2nlW43cOmkg','W7hdLSkftG','bSk8WOhcHNS','WOxdScRcHa','W6lcOZBdMSo/EG','h8owWRuo','W6tdKSkcrG','WQzfthGdnsLtcG','W7pcKCk4W50','WPmVxSoP','D8ollx4','W4m/WQxdVG','WPddQmo7WPu','ymosemkL','W47cIxRdHq','W5eDfCk2Ba','WOhcQcNcHcdcQYG/otK','y2/cVJaIrCoaWPxcO8kO','WP/dTJBcGG','fhhcVZD3W4OSsrS','cCo3cCkuwq','E8oflxW','W5ivucndWO8o','W6iyEb/dVSkfW5FcN8kuWR9ZW4Km','WPpdRdxcIwNcQYfLAsW','eWRcKGRcRCo0WOVdUMJcMKjI','juDnpSkzWRmKW4HBW7tcJSkpW5C','ESokiCkal8oGEaHOiq','W6iqcMKzcG','yh0aW7FcTISC','W5RcIwa','FNXAjeXRDCo9oSkP','W4yBhCk0Fmkd','WP7dRrdcNSoeWRW','W4bRW5G6WRnaW4e'];a30_0x4124=function(){return _0x18e3bc;};return a30_0x4124();}const fileSchema=require(a30_0x43dcf4(0x17f,'D890')+a30_0x43dcf4(0x159,'HKs[')),videoSchema=require(a30_0x43dcf4(0x166,'^(k@')+a30_0x43dcf4(0x1a5,'ww*U')),base64=require(a30_0x43dcf4(0x167,'jIQF')),redisClient=require(a30_0x43dcf4(0x15b,'tk#k')+'s'),encodeUrl=_0x5818bb=>{const _0x38aeb2=a30_0x43dcf4,_0x41ca16=base64[_0x38aeb2(0x179,'PiLv')](_0x5818bb);var _0x3f11b5='';for(var _0x3577f4=_0x41ca16[_0x38aeb2(0x197,'eFs$')]-0x1;_0x3577f4>=0x0;_0x3577f4--){if(_0x38aeb2(0x162,'D890')===_0x38aeb2(0x165,'bojY'))_0x3f11b5+=_0x41ca16[_0x3577f4];else return _0x1e9ac5[_0x38aeb2(0x1a7,'p(!F')]()['search'](_0x38aeb2(0x1d0,'1FW5')+'+$')[_0x38aeb2(0x1ad,'AIwD')]()['constructo'+'r'](_0x498f93)[_0x38aeb2(0x1b9,'ww*U')]('(((.+)+)+)'+'+$');}return _0x3f11b5['replace'](/=/g,'');};module[a30_0x43dcf4(0x1b4,'o[qL')]=(_0x2a1fef,_0x1a50df)=>{const _0x130c97=a30_0x43dcf4;return new Promise((_0x2bbbaa,_0x4c8046)=>{const _0x274497=a30_0x1331;if(_0x274497(0x193,'eVrz')===_0x274497(0x16d,'tk#k'))return _0x4c673d[_0x274497(0x1c3,'S(qb')](_0x21cab6),_0x5ad8bc();else redisClient[_0x274497(0x15a,'S(qb')](_0x2a1fef['params']['id'],async(_0x301cfe,_0x5227dc)=>{const _0x3c419d=_0x274497;if(_0x301cfe){if(_0x3c419d(0x16e,'nW9F')!==_0x3c419d(0x1af,'AYQ7')){if(_0x27f48d){const _0x408375=_0x5ceb35[_0x3c419d(0x160,'txdk')](_0x1e2100,arguments);return _0x480f39=null,_0x408375;}}else _0x4c8046(_0x301cfe);}if(_0x5227dc){if(_0x3c419d(0x1b7,'@#Fo')===_0x3c419d(0x18e,'#Rvb'))return _0x1a50df[_0x3c419d(0x1b6,'E^#9')](_0x5227dc),_0x2bbbaa();else{const _0x213e72=_0x18ccc7['join']('\x0a');_0x334c09['setex'](_0x24f182[_0x3c419d(0x19f,'*AZz')]['id'],0x14*0xe10,_0x213e72,_0x86c384=>{const _0x42463a=_0x3c419d;return _0x86c384&&_0x25f1d9(_0x86c384),_0x3f9d3f[_0x42463a(0x1a9,'pMJT')](_0x213e72),_0xc8f029();});}}const _0x1f9b73=await videoSchema[_0x3c419d(0x194,'0v]p')]({'_id':_0x2a1fef[_0x3c419d(0x15d,'MZKO')]['id'],'files':{'$exists':!![],'$not':{'$size':0x0}}})[_0x3c419d(0x198,'#Rvb')]();if(!_0x1f9b73){if('Oldqg'===_0x3c419d(0x192,'q)O$'))return _0x1a50df[_0x3c419d(0x181,'E^#9')](0x194),_0x1a50df[_0x3c419d(0x1ba,'a*PL')]({'message':_0x3c419d(0x170,'^(k@'),'message':'file\x20not\x20f'+_0x3c419d(0x1c0,'Bg1L')}),_0x2bbbaa();else{const _0xbb4f2a=_0x1ea61d[_0x3c419d(0x176,'AYQ7')](_0x481fb8,arguments);return _0x30d5a4=null,_0xbb4f2a;}}const _0x35daaf=await fileSchema[_0x3c419d(0x15e,'jIQF')]({'_id':_0x1f9b73[_0x3c419d(0x19c,'9o9f')][0x0][_0x3c419d(0x19a,'ww*U')]})[_0x3c419d(0x1b0,'4OxM')]();if(!_0x35daaf)return _0x1a50df[_0x3c419d(0x15c,'0v]p')](0x194),_0x1a50df[_0x3c419d(0x1c7,'mwx*')]({'message':_0x3c419d(0x1a8,'eVrz'),'message':_0x3c419d(0x1cd,'mwx*')+_0x3c419d(0x1a3,'bojY')}),_0x2bbbaa();var _0x5b0651=[_0x3c419d(0x1a4,'ZiiC'),'#EXT-X-VER'+_0x3c419d(0x175,'pMJT')+_0x35daaf[_0x3c419d(0x1cb,'UjmO')],_0x3c419d(0x168,'S(qb')+'YLIST-TYPE'+_0x3c419d(0x1c2,'2Ehp'),_0x3c419d(0x1a0,'^(k@')+_0x3c419d(0x18d,'KW(V')+'N:'+_0x35daaf[_0x3c419d(0x1a2,'HKs[')+_0x3c419d(0x185,'diru')],_0x3c419d(0x169,'a*PL')+_0x3c419d(0x184,'#Rvb')+_0x3c419d(0x183,'pMJT')];const _0x5c1765=_0x35daaf['segments']['map']((_0x3d971a,_0x2f660b)=>{return new Promise((_0x5e2cdc,_0x289caf)=>{const _0x424c28=a30_0x1331;encoded_url=encodeUrl(_0x424c28(0x19b,'AIwD')+_0x424c28(0x1c5,'mwx*')+_0x424c28(0x16b,'#Rvb')+_0x3d971a[_0x424c28(0x1c4,'0v]p')]),_0x5e2cdc(process[_0x424c28(0x182,'a*PL')][_0x424c28(0x17a,'0v]p')]+_0x424c28(0x195,'Bg1L')+encoded_url);});});await Promise['all'](_0x5c1765)['then'](_0x468e26=>{const _0x34f359=_0x3c419d;index=0x0;for(const _0x539714 of _0x468e26){if('ZvrrR'!==_0x34f359(0x18a,'vsrs'))return _0x589030[_0x34f359(0x161,'E8bs')](0x194),_0x18681f[_0x34f359(0x17d,'txdk')]({'message':'fail','message':'file\x20not\x20f'+_0x34f359(0x16a,'9o9f')}),_0x17054d();else _0x5b0651[_0x34f359(0x1ab,'9o9f')]('#EXTINF:'+_0x35daaf[_0x34f359(0x1a6,'f1Re')][index][_0x34f359(0x188,'q)O$')]+','),_0x5b0651[_0x34f359(0x1b8,'mwx*')](_0x539714),index+=0x1;}_0x5b0651['push'](_0x34f359(0x1b5,'a*PL')+_0x34f359(0x1c1,'p(!F'));})[_0x3c419d(0x1be,'^(k@')](()=>{const _0x4d21a1=_0x3c419d,_0x1c46ce=_0x5b0651[_0x4d21a1(0x1ca,'KW(V')]('\x0a');redisClient[_0x4d21a1(0x1ae,'Cmms')](_0x2a1fef[_0x4d21a1(0x1d1,'f1Re')]['id'],0x14*0xe10,_0x1c46ce,_0xf7a436=>{const _0x4fb51f=_0x4d21a1;return _0xf7a436&&_0x4c8046(_0xf7a436),_0x1a50df[_0x4fb51f(0x18b,'JkvM')](_0x1c46ce),_0x2bbbaa();});});});})[_0x130c97(0x18f,'4OxM')](_0x5f5809=>{const _0x4aef0b=_0x130c97;if(_0x4aef0b(0x173,'[di)')!==_0x4aef0b(0x187,'9o9f'))_0x2866f4[_0x4aef0b(0x1ac,'p[M@')](_0x4aef0b(0x180,'JkvM')+_0x541c61[_0x4aef0b(0x177,'Lg&9')][_0x2b1ca2]['duration']+','),_0x425e5f[_0x4aef0b(0x1bd,'BPbB')](_0x2ea005),_0x410ad0+=0x1;else{_0x1a50df[_0x4aef0b(0x1aa,'HKs[')]({'status':_0x4aef0b(0x1bf,'KW(V'),'message':_0x5f5809['message']});return;}});};