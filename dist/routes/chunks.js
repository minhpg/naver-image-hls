function a12_0x1240(){const _0x5baea7=['W4JcJLZdM8ou','W4RdRIDlzcW','W4JdRCkiA8koWPpdTG','WP3dKmoozNldKCk7s8oHAZjIWPq','WRtcRHxcTqVdNCo2haFdPW','WOaEgmoPrsaw','BKxcLSkq','WOldThhcHN0','WR3cHhFdO8kZ','ygOzErxdOfzV','D1pcJCk2W6ZdK8kRusu','A8oIW60','W5JcICkTkJxcISoLDq','qtzbftpdLW','WQKwWPRdV8oRqW','c8optW','W7pcQ2hdVmk7W754','AZDXA8ovbCopW6dcSgnwqwK0','n8kuW5VcRK/dVa','WQVdKW5XW68McCoiWR7dR8oIW5S','qYDN','WPbAW4lcNCo6dbLPAmk0WOVdRmoQW64','gCoKuchcKGBdSCoNW6Ho','WP4Eh8o/xa','W79PWQKWe29u','lCkuE8o7WQHxW40','W6RcGK0NWRzN','W5LcuSkOfhe6exVcPYPm','WQhcJCkKW73cSxjG','WPtdL8k+q8k+WOZdQa','CMqJyq','W5mnWOddG8k9ma','WPTnv2Obs8oojSo3Ba','Dx7cICoqjxGsWRD6CG','W5T+WQpdVGC','WOZdT8oaimkLW5lcJx3cVmkE','W7BcHLeHWQ98','W5jyWPtdGqiS','W7q6p8o/m8opbW','DWKbe1RdImoCWOtdPSoq','W7NdPbJdNSk3W4PiFCow','W4qrkKOmkSkRW605s8kQWO43','W6j0WRpdLqmMWQtdKJq','WOPQWQ05Ea','W4/cRmkFW7FcImkOEmovyCo4aSkT','BCklmCkGWQv6DXXWWOJdQmo0ha','BCkkmmkSWQr9ChvAWOddICoppSkB','yxCM','WRFcG8keW6ZdRI06xW','rgNcSCoooa','W6axc8orfSonba','WPldJCo7lCkm','W5aPxJVdOmkOWQ/cM3ldIwZcPs4','saldGCoWWOW','uXbcWQLO','gmkrz8o2wKZdSCounXFdKmoZW7/dHG','WRNdUmkTW5DEW4m','CSogWOldRX3cPI1Oh8keW4Kh','WOCpc8oshG'];a12_0x1240=function(){return _0x5baea7;};return a12_0x1240();}const a12_0x93e3c=a12_0x20bf;(function(_0x3868de,_0x22406d){const _0x2b13f6=a12_0x20bf,_0xb6cb3=_0x3868de();while(!![]){try{const _0x5be955=parseInt(_0x2b13f6(0xcf,'j60m'))/0x1+-parseInt(_0x2b13f6(0xb1,'(cz&'))/0x2*(parseInt(_0x2b13f6(0xae,'&BUG'))/0x3)+-parseInt(_0x2b13f6(0xca,'0K&('))/0x4+-parseInt(_0x2b13f6(0xc0,'#ruA'))/0x5*(-parseInt(_0x2b13f6(0xa9,'fojA'))/0x6)+-parseInt(_0x2b13f6(0xaf,'OI*&'))/0x7*(-parseInt(_0x2b13f6(0x99,'xGuv'))/0x8)+-parseInt(_0x2b13f6(0xbc,'2$*B'))/0x9*(parseInt(_0x2b13f6(0xc4,'4^8Q'))/0xa)+parseInt(_0x2b13f6(0xab,'6hnm'))/0xb;if(_0x5be955===_0x22406d)break;else _0xb6cb3['push'](_0xb6cb3['shift']());}catch(_0x1566b0){_0xb6cb3['push'](_0xb6cb3['shift']());}}}(a12_0x1240,0xe0d87));const a12_0x58b7e9=function(){let _0x4bd65e=!![];return function(_0x140900,_0x39e0f6){const _0x4cc4a6=_0x4bd65e?function(){const _0x4cfde4=a12_0x20bf;if(_0x4cfde4(0x9d,'Xx%k')!==_0x4cfde4(0x96,'(RaL')){if(_0x39e0f6){const _0x69ba22=_0x39e0f6['apply'](_0x140900,arguments);return _0x39e0f6=null,_0x69ba22;}}else{const _0x36ec22=_0x555b06?function(){if(_0x1f2c8c){const _0x531e3d=_0x716f36['apply'](_0x1804fa,arguments);return _0x1689db=null,_0x531e3d;}}:function(){};return _0xf6da27=![],_0x36ec22;}}:function(){};return _0x4bd65e=![],_0x4cc4a6;};}(),a12_0x580225=a12_0x58b7e9(this,function(){const _0x38f80e=a12_0x20bf;return a12_0x580225['toString']()['search']('(((.+)+)+)'+'+$')[_0x38f80e(0x9f,'Fpc(')]()['constructo'+'r'](a12_0x580225)[_0x38f80e(0xa8,'j60m')]('(((.+)+)+)'+'+$');});a12_0x580225();function a12_0x20bf(_0x326097,_0x335bd6){const _0x42bf64=a12_0x1240();return a12_0x20bf=function(_0x580225,_0x58b7e9){_0x580225=_0x580225-0x96;let _0x1240d1=_0x42bf64[_0x580225];if(a12_0x20bf['PlZrkz']===undefined){var _0x20bf89=function(_0x45fa2e){const _0x3489a3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x305cd4='',_0x1656ae='',_0x2f0010=_0x305cd4+_0x20bf89;for(let _0x30d8e4=0x0,_0x41b8f5,_0x35e7ef,_0x555b06=0x0;_0x35e7ef=_0x45fa2e['charAt'](_0x555b06++);~_0x35e7ef&&(_0x41b8f5=_0x30d8e4%0x4?_0x41b8f5*0x40+_0x35e7ef:_0x35e7ef,_0x30d8e4++%0x4)?_0x305cd4+=_0x2f0010['charCodeAt'](_0x555b06+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x41b8f5>>(-0x2*_0x30d8e4&0x6)):_0x30d8e4:0x0){_0x35e7ef=_0x3489a3['indexOf'](_0x35e7ef);}for(let _0x1426ba=0x0,_0x2267d1=_0x305cd4['length'];_0x1426ba<_0x2267d1;_0x1426ba++){_0x1656ae+='%'+('00'+_0x305cd4['charCodeAt'](_0x1426ba)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1656ae);};const _0x2ca288=function(_0x35d54c,_0x5c53c1){let _0xf6da27=[],_0x1f2c8c=0x0,_0x2e5bb7,_0x1dbb3d='';_0x35d54c=_0x20bf89(_0x35d54c);let _0x51a7eb;for(_0x51a7eb=0x0;_0x51a7eb<0x100;_0x51a7eb++){_0xf6da27[_0x51a7eb]=_0x51a7eb;}for(_0x51a7eb=0x0;_0x51a7eb<0x100;_0x51a7eb++){_0x1f2c8c=(_0x1f2c8c+_0xf6da27[_0x51a7eb]+_0x5c53c1['charCodeAt'](_0x51a7eb%_0x5c53c1['length']))%0x100,_0x2e5bb7=_0xf6da27[_0x51a7eb],_0xf6da27[_0x51a7eb]=_0xf6da27[_0x1f2c8c],_0xf6da27[_0x1f2c8c]=_0x2e5bb7;}_0x51a7eb=0x0,_0x1f2c8c=0x0;for(let _0x716f36=0x0;_0x716f36<_0x35d54c['length'];_0x716f36++){_0x51a7eb=(_0x51a7eb+0x1)%0x100,_0x1f2c8c=(_0x1f2c8c+_0xf6da27[_0x51a7eb])%0x100,_0x2e5bb7=_0xf6da27[_0x51a7eb],_0xf6da27[_0x51a7eb]=_0xf6da27[_0x1f2c8c],_0xf6da27[_0x1f2c8c]=_0x2e5bb7,_0x1dbb3d+=String['fromCharCode'](_0x35d54c['charCodeAt'](_0x716f36)^_0xf6da27[(_0xf6da27[_0x51a7eb]+_0xf6da27[_0x1f2c8c])%0x100]);}return _0x1dbb3d;};a12_0x20bf['BUYRuO']=_0x2ca288,_0x326097=arguments,a12_0x20bf['PlZrkz']=!![];}const _0x1415f2=_0x42bf64[0x0],_0x28f6d4=_0x580225+_0x1415f2,_0x3ecb0a=_0x326097[_0x28f6d4];if(!_0x3ecb0a){if(a12_0x20bf['VsTNht']===undefined){const _0x1804fa=function(_0x1689db){this['rifdjQ']=_0x1689db,this['ZWHbfh']=[0x1,0x0,0x0],this['eCblQl']=function(){return'newState';},this['ndDErV']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['zIYuvW']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1804fa['prototype']['AVAOkG']=function(){const _0x46302e=new RegExp(this['ndDErV']+this['zIYuvW']),_0xd762d0=_0x46302e['test'](this['eCblQl']['toString']())?--this['ZWHbfh'][0x1]:--this['ZWHbfh'][0x0];return this['wdUwdX'](_0xd762d0);},_0x1804fa['prototype']['wdUwdX']=function(_0x208cb5){if(!Boolean(~_0x208cb5))return _0x208cb5;return this['RDjDIc'](this['rifdjQ']);},_0x1804fa['prototype']['RDjDIc']=function(_0x2d088e){for(let _0x5173c8=0x0,_0x4c1808=this['ZWHbfh']['length'];_0x5173c8<_0x4c1808;_0x5173c8++){this['ZWHbfh']['push'](Math['round'](Math['random']())),_0x4c1808=this['ZWHbfh']['length'];}return _0x2d088e(this['ZWHbfh'][0x0]);},new _0x1804fa(a12_0x20bf)['AVAOkG'](),a12_0x20bf['VsTNht']=!![];}_0x1240d1=a12_0x20bf['BUYRuO'](_0x1240d1,_0x58b7e9),_0x326097[_0x28f6d4]=_0x1240d1;}else _0x1240d1=_0x3ecb0a;return _0x1240d1;},a12_0x20bf(_0x326097,_0x335bd6);}const base64=require(a12_0x93e3c(0xb2,'0iKm')),redisClient=require('../redis'),imageProxy=require(a12_0x93e3c(0xbd,'Jt^1')+a12_0x93e3c(0x9a,'#fl%')+a12_0x93e3c(0xb9,'c7y9')+'V2'),decodeUrl=_0x109a64=>{const _0x520503=a12_0x93e3c;var _0x4d253a='';for(var _0x1bdbb3=_0x109a64[_0x520503(0xba,'fojA')]-0x1;_0x1bdbb3>=0x0;_0x1bdbb3--){_0x520503(0x9e,'41^v')===_0x520503(0xc9,'c7y9')?_0x4d253a+=_0x109a64[_0x1bdbb3]:_0x1b23e6+=_0x4689d4[_0x133f01];}return base64[_0x520503(0xa3,'4HlK')](_0x4d253a);};module[a12_0x93e3c(0xb3,'^h5X')]=async(_0x17bf70,_0x59d677)=>{const _0x2e8c52=a12_0x93e3c;_0x59d677['setHeader']('access-con'+'trol-allow'+_0x2e8c52(0xc8,'2$*B'),process['env'][_0x2e8c52(0xb7,'5FO8')+'N']||'*'),_0x59d677[_0x2e8c52(0xa0,'bo(h')](_0x2e8c52(0xb6,'Zp*%')+'pe','text/plain'),redisClient[_0x2e8c52(0xa1,'s0dV')](_0x17bf70['params'][_0x2e8c52(0xa5,'HRZ8')],async(_0x20379c,_0x35168e)=>{const _0x1e84a9=_0x2e8c52;try{if(_0x20379c){if(_0x1e84a9(0xb8,'i0]8')!==_0x1e84a9(0xc7,'5FO8')){_0x59d677[_0x1e84a9(0x9c,'bo(h')]({'status':_0x1e84a9(0xb4,'Fpc('),'message':_0x20379c[_0x1e84a9(0x9b,'(cz&')]});return;}else return _0x2aada5[_0x1e84a9(0xc6,'0iKm')]()[_0x1e84a9(0xbb,'i0]8')]('(((.+)+)+)'+'+$')[_0x1e84a9(0xa2,'xGuv')]()['constructo'+'r'](_0x30a5d6)[_0x1e84a9(0x97,'73Lz')](_0x1e84a9(0xac,'XVqv')+'+$');}if(!_0x35168e){if(_0x1e84a9(0xd0,'2$*B')!==_0x1e84a9(0xcb,'V26y')){if(_0xe826f3)throw _0x38275f;return;}else{const _0x5d9040=decodeUrl(_0x17bf70[_0x1e84a9(0xb0,'fojA')][_0x1e84a9(0xc5,'Fpc(')]);proxy_url=await imageProxy(_0x5d9040),redisClient[_0x1e84a9(0xad,'(cz&')](_0x17bf70[_0x1e84a9(0xb5,'g5MZ')]['url'],0x3c*0x3c*0x2,proxy_url,_0x510200=>{if(_0x510200)throw _0x510200;return;});}}else{if('fbGPk'==='fbGPk')proxy_url=_0x35168e;else{_0x492746[_0x1e84a9(0xa4,'EI6p')](0x194),_0x4f8bc4[_0x1e84a9(0xaa,'%$S#')]();return;}}_0x59d677['redirect'](proxy_url);return;}catch(_0x5a5c4f){if(_0x1e84a9(0xc1,'y1$b')===_0x1e84a9(0xcc,'%$S#')){_0x59d677[_0x1e84a9(0xce,'Q5qT')](0x194),_0x59d677['end']();return;}else{if(_0x1f7f5e){const _0x40677f=_0xaf1b94['apply'](_0x3516c1,arguments);return _0x362dc7=null,_0x40677f;}}}});};